!function(){"use strict";var e={n:function(l){var t=l&&l.__esModule?function(){return l.default}:function(){return l};return e.d(t,{a:t}),t},d:function(l,t){for(var o in t)e.o(t,o)&&!e.o(l,o)&&Object.defineProperty(l,o,{enumerable:!0,get:t[o]})},o:function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}},l=window.wp.element,t=window.wp.blocks,o=window.wp.components,n=window.wp.blockEditor,r=window.wp.i18n,s=window.wp.serverSideRender,i=e.n(s),a=window.wp.data,u=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"llms/course-outline","title":"Course Outline","icon":"info-outline","category":"lifterlms","description":"Outputs the course outline as displayed by the widget of the same name. Can show full course outline or just the current section outline. Setting the Outline Type to Current Sections refers to the section that contains the next uncompleted lesson for current student. If the student is not enrolled then the first section in the course will be displayed.","textdomain":"lifterlms","attributes":{"collapse":{"type":"boolean","default":false},"course_id":{"type":"integer"},"outline_type":{"type":"string","default":"full"},"toggles":{"type":"boolean","default":false},"llms_visibility":{"type":"string"},"llms_visibility_in":{"type":"string"},"llms_visibility_posts":{"type":"string"}},"supports":{"align":["wide","full"]},"editorScript":"file:./index.js","render":"file:../../templates/blocks/shortcode.php"}');(0,t.registerBlockType)(u,{edit:e=>{const{attributes:t,setAttributes:s}=e,c=(0,n.useBlockProps)(),{courses:p,postType:d}=(0,a.useSelect)((e=>{var l,t;return{courses:null===(l=e("core"))||void 0===l?void 0:l.getEntityRecords("postType","course"),postType:null===(t=e("core/editor"))||void 0===t?void 0:t.getCurrentPostType()}}),[]),m=(null==p?void 0:p.map((e=>({label:e.title.rendered,value:e.id}))))||[{label:(0,r.__)("No courses found","lifterlms"),value:null}];!t.course_id&&m.length>=1&&(t.course_id=m[0].value);const f=["course","lesson","llms_quiz"].includes(d);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(n.InspectorControls,null,(0,l.createElement)(o.PanelBody,{title:(0,r.__)("Course Outline Settings","lifterlms")},(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,r.__)("Collapse","lifterlms"),help:(0,r.__)("If true, will make the outline sections collapsible via click events.","lifterlms"),checked:t.collapse,onChange:e=>s({collapse:e})})),t.collapse&&(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.ToggleControl,{label:(0,r.__)("Toggles","lifterlms"),help:(0,r.__)("If true, will display “Collapse All” and “Expand All” toggles at the bottom of the outline. Only functions if “collapse” is true.","lifterlms"),checked:t.toggles,onChange:e=>s({toggles:e})})),!f&&(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:(0,r.__)("Course","lifterlms"),help:(0,r.__)("Select a course to display the course information for.","lifterlms"),value:t.course_id,options:m,onChange:e=>s({course_id:e})})),(0,l.createElement)(o.PanelRow,null,(0,l.createElement)(o.SelectControl,{label:(0,r.__)("Outline Type","lifterlms"),help:(0,r.__)("Select the type of outline to display.","lifterlms"),value:t.outline_type,options:[{label:(0,r.__)("Full","lifterlms"),value:"full",isDefault:!0},{label:(0,r.__)("Current Section","lifterlms"),value:"current_section"}],onChange:e=>s({outline_type:e})})))),(0,l.createElement)("div",c,(0,l.createElement)(o.Disabled,null,(0,l.createElement)(i(),{block:u.name,attributes:t,LoadingResponsePlaceholder:()=>(0,l.createElement)("p",null,(0,r.__)("Loading...","lifterlms")),ErrorResponsePlaceholder:()=>(0,l.createElement)("p",null,(0,r.__)("Error loading content. Please check block settings are valid.","lifterlms")),EmptyResponsePlaceholder:()=>(0,l.createElement)("p",null,(0,r.__)("No outline information available for this course.","lifterlms"))}))))}})}();