!function(){"use strict";var e={n:function(l){var t=l&&l.__esModule?function(){return l.default}:function(){return l};return e.d(t,{a:t}),t},d:function(l,t){for(var r in t)e.o(t,r)&&!e.o(l,r)&&Object.defineProperty(l,r,{enumerable:!0,get:t[r]})},o:function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}},l=window.wp.element,t=window.wp.blocks,r=window.wp.components,n=window.wp.blockEditor,o=window.wp.i18n,s=window.wp.data,a=window.wp.serverSideRender,i=e.n(a),u=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"llms/courses","title":"Courses","icon":"welcome-learn-more","category":"lifterlms","description":"Displays a loop of LifterLMS Course “Tiles” as displayed on the default “Courses” page.","textdomain":"lifterlms","attributes":{"category":{"type":"string"},"hidden":{"type":"boolean","default":true},"id":{"type":"string"},"mine":{"type":"string"},"order":{"type":"string","default":"ASC"},"orderby":{"type":"string","default":"title"},"posts_per_page":{"type":"integer","default":-1},"llms_visibility":{"type":"string"},"llms_visibility_in":{"type":"string"},"llms_visibility_posts":{"type":"string"}},"supports":{"align":["wide","full"]},"editorScript":"file:./index.js","render":"file:../../templates/blocks/shortcode.php"}');(0,t.registerBlockType)(u,{edit:e=>{const{attributes:t,setAttributes:a}=e,c=(0,n.useBlockProps)(),{categories:d,courses:m}=(0,s.useSelect)((e=>{var l,t;return{categories:null===(l=e("core"))||void 0===l?void 0:l.getEntityRecords("taxonomy","course_cat"),courses:null===(t=e("core"))||void 0===t?void 0:t.getEntityRecords("postType","course")}}),[]);let p=null==d?void 0:d.map((e=>({value:e.slug,label:e.name})));null==p||p.unshift({value:"",label:(0,o.__)("All","lifterlms")});let _={};null==m||m.map((e=>{_[e.id]=e.title.rendered}));const[f,b]=(0,l.useState)([]);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(n.InspectorControls,null,(0,l.createElement)(r.PanelBody,{title:(0,o.__)("Courses Settings","lifterlms")},(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.SelectControl,{label:(0,o.__)("Category","lifterlms"),value:t.category,options:p,onChange:e=>a({category:e}),help:(0,o.__)("Display courses from a specific Course Category only. Use a category’s “slug”. If omitted, will display courses from all categories.","lifterlms")})),(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.ToggleControl,{label:(0,o.__)("Show hidden courses?","lifterlms"),checked:t.hidden,onChange:e=>a({hidden:e}),help:(0,o.__)("Whether or not courses with a “hidden” visibility should be included. Defaults to “yes” (hidden courses displayed). Switch to “no” to exclude hidden courses.","lifterlms")})),(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.BaseControl,{help:(0,o.__)("Display only specific course(s). You can select multiple courses.","lifterlms")},(0,l.createElement)(r.FormTokenField,{label:(0,o.__)("Courses","lifterlms"),placeholder:(0,o.__)("Search available courses","lifterlms"),suggestions:Object.values(_),value:f,onChange:e=>{b(e),a({id:e.map((e=>Object.keys(_).find((l=>_[l]===e)))).join(",")})},__experimentalShowHowTo:!1}))),(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.SelectControl,{label:(0,o.__)("Show only my courses","lifterlms"),options:[{value:"no",label:(0,o.__)("No","lifterlms")},{value:"any",label:(0,o.__)("Any","lifterlms")},{value:"enrolled",label:(0,o.__)("Enrolled","lifterlms")},{value:"expired",label:(0,o.__)("Expired","lifterlms")},{value:"cancelled",label:(0,o.__)("Cancelled","lifterlms")}],checked:t.mine,onChange:e=>a({mine:e}),help:(0,o.__)("Show only courses the current student is enrolled in. By default (“no”) shows courses regardless of enrollment.","lifterlms")})),(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.SelectControl,{label:(0,o.__)("Order","lifterlms"),value:t.order,options:[{value:"ASC",label:(0,o.__)("Ascending","lifterlms")},{value:"DESC",label:(0,o.__)("Descending","lifterlms")}],onChange:e=>a({order:e}),help:(0,o.__)("Display courses in ascending or descending order.","lifterlms")})),(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.SelectControl,{label:(0,o.__)("Order by","lifterlms"),value:t.orderby,options:[{value:"id",label:(0,o.__)("ID","lifterlms")},{value:"author",label:(0,o.__)("Author","lifterlms")},{value:"title",label:(0,o.__)("Title","lifterlms")},{value:"name",label:(0,o.__)("Name","lifterlms")},{value:"date",label:(0,o.__)("Date","lifterlms")},{value:"modified",label:(0,o.__)("Date modified","lifterlms")},{value:"rand",label:(0,o.__)("Random","lifterlms")},{value:"menu_order",label:(0,o.__)("Menu Order","lifterlms")}],onChange:e=>a({orderby:e}),help:(0,o.__)("Determines which field is used to order courses in the courses list.","lifterlms")})),(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.__experimentalNumberControl,{label:(0,o.__)("Per Page","lifterlms"),value:t.posts_per_page,min:-1,max:100,onChange:e=>a({posts_per_page:null!=e?e:-1}),help:(0,o.__)(" Determines the number of results to display. Default returns all available courses.","lifterlms")})))),(0,l.createElement)("div",c,(0,l.createElement)(r.Disabled,null,(0,l.createElement)(i(),{block:u.name,attributes:t,LoadingResponsePlaceholder:()=>(0,l.createElement)("p",null,"Loading..."),ErrorResponsePlaceholder:()=>(0,l.createElement)("p",null,"Error")}))))}})}();