(()=>{"use strict";var e={n:l=>{var t=l&&l.__esModule?()=>l.default:()=>l;return e.d(t,{a:t}),t},d:(l,t)=>{for(var r in t)e.o(t,r)&&!e.o(l,r)&&Object.defineProperty(l,r,{enumerable:!0,get:t[r]})},o:(e,l)=>Object.prototype.hasOwnProperty.call(e,l)};const l=window.wp.element,t=window.wp.blocks,r=window.wp.components,i=window.wp.blockEditor,s=window.wp.i18n,a=window.wp.data,n=window.wp.serverSideRender;var o=e.n(n);const m=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"llms/memberships","title":"Memberships","category":"llms-blocks","description":"Display a loop of LifterLMS Membership \\"Tiles\\" as displayed on the default \\"Memberships\\" page.","textdomain":"lifterlms","attributes":{"category":{"type":"string"},"hidden":{"type":"boolean","default":true},"id":{"type":"string"},"order":{"type":"string","default":"ASC"},"orderby":{"type":"string","default":"title"},"posts_per_page":{"type":"integer","default":-1},"llms_visibility":{"type":"string"},"llms_visibility_in":{"type":"string"},"llms_visibility_posts":{"type":"string"}},"supports":{"align":["wide","full"]},"editorScript":"file:./index.js"}'),p=window.wp.primitives;(0,t.registerBlockType)(m,{icon:()=>(0,l.createElement)(p.SVG,{className:"llms-block-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},(0,l.createElement)(p.Path,{d:"M144 0a80 80 0 1 1 0 160A80 80 0 1 1 144 0zM512 0a80 80 0 1 1 0 160A80 80 0 1 1 512 0zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM224 224a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"})),edit:e=>{const{attributes:t,setAttributes:n}=e,p=(0,i.useBlockProps)(),{categories:c,memberships:d}=(0,a.useSelect)((e=>{var l,t;return{categories:null===(l=e("core"))||void 0===l?void 0:l.getEntityRecords("taxonomy","membership_cat"),memberships:null===(t=e("core"))||void 0===t?void 0:t.getEntityRecords("postType","membership")}}),[]),u=null==c?void 0:c.map((e=>({value:e.slug,label:e.name}))),b={},_=(0,l.useMemo)((()=>(0,l.createElement)(o(),{block:m.name,attributes:t,LoadingResponsePlaceholder:()=>(0,l.createElement)(r.Spinner,null),ErrorResponsePlaceholder:()=>(0,l.createElement)("p",{className:"llms-block-error"},(0,s.__)("Error loading content. Please check block settings are valid.","lifterlms")),EmptyResponsePlaceholder:()=>(0,l.createElement)("p",{className:"llms-block-empty"},(0,s.__)("No memberships found matching this criteria.","lifterlms"))})),[t]);return null==u||u.unshift({value:"",label:(0,s.__)("- All -","lifterlms")}),null==d||d.map((e=>(b[e.id]=e.title.rendered,e))),(0,l.createElement)(l.Fragment,null,(0,l.createElement)(i.InspectorControls,null,(0,l.createElement)(r.PanelBody,{title:(0,s.__)("Memberships Settings","lifterlms")},(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.SelectControl,{label:(0,s.__)("Category","lifterlms"),value:t.category,options:u,onChange:e=>n({category:e}),help:(0,s.__)("Display memberships from a specific Membership Category only.","lifterlms")})),(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.TextControl,{label:(0,s.__)("Membership ID","lifterlms"),value:t.id,onChange:e=>n({id:e}),help:(0,s.__)("Display only a specific membership. Use the membershipsâ€™s post ID. If using this option, all other options are rendered irrelevant.","lifterlms")})),(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.SelectControl,{label:(0,s.__)("Order","lifterlms"),value:t.order,options:[{value:"ASC",label:(0,s.__)("Ascending","lifterlms")},{value:"DESC",label:(0,s.__)("Descending","lifterlms")}],onChange:e=>n({order:e}),help:(0,s.__)("Display memberships in ascending or descending order.","lifterlms")})),(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.SelectControl,{label:(0,s.__)("Order by","lifterlms"),value:null==t?void 0:t.orderby,options:[{value:"id",label:(0,s.__)("ID","lifterlms")},{value:"author",label:(0,s.__)("Author","lifterlms")},{value:"title",label:(0,s.__)("Title","lifterlms")},{value:"name",label:(0,s.__)("Name","lifterlms")},{value:"date",label:(0,s.__)("Date","lifterlms")},{value:"modified",label:(0,s.__)("Date modified","lifterlms")},{value:"rand",label:(0,s.__)("Random","lifterlms")},{value:"menu_order",label:(0,s.__)("Menu Order","lifterlms")}],onChange:e=>n({orderby:e}),help:(0,s.__)("Determines which field is used to order memberships in the memberships list. This block will not be displayed.","lifterlms")})),(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.__experimentalNumberControl,{label:(0,s.__)("Per Page","lifterlms"),value:t.posts_per_page,min:-1,max:100,onChange:e=>n({posts_per_page:null!=e?e:-1}),help:(0,s.__)(" Determines the number of results to display. Default returns all available memberships. This block will not be displayed.","lifterlms")})))),(0,l.createElement)("div",p,(0,l.createElement)(r.Disabled,null,_)))}})})();