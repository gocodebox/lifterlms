{"version":3,"file":"assets/js/chunks/src_js_admin-access-plan-editor_components_tabs_extra_js.js","mappings":"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","sources":["webpack://lifterlms/./src/js/admin-access-plan-editor/components/tabs/extra.js"],"sourcesContent":["// WP deps.\nimport {\n\tBaseControl,\n\tFlex,\n\tFlexItem,\n\tSelectControl,\n\tTextControl,\n\tToggleControl,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\n\n// LLMS deps.\nimport { PostSearchControl } from '@lifterlms/components';\n\n// Internal deps.\nimport { getRedirectOptions } from '../../utils';\n\n\nexport default function( { accessPlan, updatePlan } ) {\n\n\tconst {\n\t\t\tavailability_restrictions: availabilityRestrictionsVal,\n\t\t\tredirect_page: redirectPageVal,\n\t\t\tredirect_type: redirectTypeVal,\n\t\t\tredirect_url: redirectUrlVal,\n\t\t\tredirect_forced: redirectForcedVal,\n\t\t\tsku: skuVal,\n\t\t} = accessPlan,\n\t\t{ getCurrentPostType } = useSelect( editorStore ),\n\t\thasAvailabilityRestrictions = availabilityRestrictionsVal.length > 0;\n\n\treturn (\n\t\t<>\n\n\t\t\t<TextControl\n\t\t\t\tlabel={ __( 'SKU', 'lifterlms' ) }\n\t\t\t\tvalue={ skuVal }\n\t\t\t\tonChange={ ( sku ) => updatePlan( { sku } ) }\n\t\t\t/>\n\n\t\t\t<hr />\n\n\t\t\t{ 'course' === getCurrentPostType() && (\n\t\t\t\t<>\n\t\t\t\t\t<PostSearchControl\n\t\t\t\t\t\tisClearable\n\t\t\t\t\t\tisMulti\n\t\t\t\t\t\tpostType=\"llms_membership\"\n\t\t\t\t\t\tlabel={ __( 'Membership Restrictions', 'lifterlms' ) }\n\t\t\t\t\t\tplaceholder={ __( 'Search for a membership…', 'lifterlms' ) }\n\t\t\t\t\t\tselectedValue={ availabilityRestrictionsVal }\n\t\t\t\t\t\tonUpdate={ ( selected ) => {\n\t\t\t\t\t\t\tupdatePlan( { availability_restrictions: selected.map( ( { id } ) => id ) } )\n\t\t\t\t\t\t} }\n\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\thasAvailabilityRestrictions ? __( 'The access plan is only available to members active in at least one of the selected memberhips.', 'lifterlms' ) : __( 'The access plan is available to everyone.', 'lifterlms' )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<hr />\n\t\t\t\t</>\n\t\t\t) }\n\n\t\t\t{ hasAvailabilityRestrictions && (\n\t\t\t\t<BaseControl\n\t\t\t\t\tid=\"llms-access-plan--trial-status\"\n\t\t\t\t\tlabel={__ ( 'Override Membership Redirects', 'lifterlms' ) }\n\t\t\t\t>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\tredirectForcedVal ?\n\t\t\t\t\t\t\t\t__( 'Overriding membership redirects in favor of the plan settings below', 'lifterlms' ):\n\t\t\t\t\t\t\t\t__( 'Using the default membership redirect settings', 'lifterlms' )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName=\"llms-access-plan--trial-enabled\"\n\t\t\t\t\t\tid=\"llms-access-plan--trial-enabled\"\n\t\t\t\t\t\tchecked={ redirectForcedVal }\n\t\t\t\t\t\tonChange={ ( redirect_forced ) => updatePlan( { redirect_forced } ) }\n\t\t\t\t\t/>\n\t\t\t\t</BaseControl>\n\n\t\t\t) }\n\n\t\t\t{ ( ! hasAvailabilityRestrictions || redirectForcedVal ) && (\n\t\t\t\t<Flex>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabel={ __( 'Checkout Redirect', 'lifterlms' ) }\n\t\t\t\t\t\t\tvalue={ redirectTypeVal }\n\t\t\t\t\t\t\tonChange={ ( redirect_type ) => updatePlan( { redirect_type } ) }\n\t\t\t\t\t\t\toptions={ getRedirectOptions() }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FlexItem>\n\n\n\n\t\t\t\t\t{ 'self' !== redirectTypeVal && (\n\t\t\t\t\t\t<FlexItem style={ { flex: 1 } }>\n\t\t\t\t\t\t\t{ 'page' === redirectTypeVal && (\n\t\t\t\t\t\t\t\t<PostSearchControl\n\t\t\t\t\t\t\t\t\tisClearable\n\t\t\t\t\t\t\t\t\tpostType=\"pages\"\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Redirect Page', 'lifterlms' ) }\n\t\t\t\t\t\t\t\t\tplaceholder={ __( 'Search for a page…', 'lifterlms' ) }\n\t\t\t\t\t\t\t\t\tselectedValue={ redirectPageVal ? [ redirectPageVal ] : [] }\n\t\t\t\t\t\t\t\t\tonUpdate={ ( obj ) => {\n\t\t\t\t\t\t\t\t\t\tconst id = obj?.id || null;\n\t\t\t\t\t\t\t\t\t\tupdatePlan( { redirect_page: id } )\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ 'url' === redirectTypeVal && (\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Redirect URL', 'lifterlms' ) }\n\t\t\t\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\t\t\t\tvalue={ redirectUrlVal }\n\t\t\t\t\t\t\t\t\tonChange={ ( redirect_url ) => updatePlan( { redirect_url } ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t) }\n\t\t\t\t</Flex>\n\t\t\t) }\n\n\t\t</>\n\t);\n}\n"],"names":["BaseControl","Flex","FlexItem","SelectControl","TextControl","ToggleControl","__","useSelect","store","editorStore","PostSearchControl","getRedirectOptions","accessPlan","updatePlan","availability_restrictions","availabilityRestrictionsVal","redirect_page","redirectPageVal","redirect_type","redirectTypeVal","redirect_url","redirectUrlVal","redirect_forced","redirectForcedVal","sku","skuVal","getCurrentPostType","hasAvailabilityRestrictions","length","selected","map","id","flex","obj"],"sourceRoot":""}