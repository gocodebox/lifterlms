!function(n){window.llms=window.llms||{},window.llms.widgets=function(){return this.$widgets=n(".llms-widget"),this.$info_toggles=n(".llms-widget-info-toggle"),this.init=function(){this.bind()},this.bind=function(){var l=this;this.$info_toggles.on("hover",function(){var t=n(this).closest(".llms-widget"),e=(t.find(".llms-widget-info"),t.hasClass("info-showing")?"hide":"show");l.$widgets.removeClass("info-showing"),"show"==e&&t.addClass("info-showing")})},this.init(),this};new window.llms.widgets;n.fn.llmsPostsSelect2=function(e){var l=this,t=(e=e||{},{multiple:!1,placeholder:void 0!==LLMS.l10n?LLMS.l10n.translate("Select a Course/Membership"):"Select a Course/Membership",post_type:l.attr("data-post-type")||"post",post_statuses:l.attr("data-post-statuses")||"publish",allow_clear:l.attr("data-post-type")||!1,width:null});n.each(t,function(t){l.attr("data-"+t)&&(e[t]=l.attr("data-"+t))}),"multiple"===l.attr("multiple")&&(e.multiple=!0),e=n.extend(t,e),this.llmsSelect2({allowClear:e.allow_clear,ajax:{dataType:"JSON",delay:250,method:"POST",url:window.ajaxurl,data:function(t){return{action:"select2_query_posts",page:t.page?t.page-1:0,post_type:e.post_type,post_statuses:e.post_statuses,term:t.term,_ajax_nonce:wp_ajax_data.nonce}},processResults:function(t,e){return{results:function e(t){return Array.isArray(t)?n.map(t,function(t){return function(t){return{text:t.name,id:t.id}}(t)}):n.map(t,function(t){return{text:t.label,children:e(t.items)}})}(t.items),pagination:{more:t.more}}}},cache:!0,placeholder:e.placeholder,multiple:e.multiple,width:e.width})},n("select.llms-posts-select2").llmsPostsSelect2(),n.fn.llmsStudentsSelect2=function(e){var l=this,t=(e=e||{},{allow_clear:!1,enrolled_in:"",multiple:!1,not_enrolled_in:"",placeholder:void 0!==LLMS.l10n?LLMS.l10n.translate("Select a student"):"Select a student",roles:"",width:"100%"});return n.each(t,function(t){l.attr("data-"+t)&&(e[t]=l.attr("data-"+t))}),e=n.extend(t,e),this.llmsSelect2({allowClear:e.allow_clear,ajax:{dataType:"JSON",delay:250,method:"POST",url:window.ajaxurl,data:function(t){return{_ajax_nonce:wp_ajax_data.nonce,action:"query_students",page:t.page,not_enrolled_in:t.not_enrolled_in||e.not_enrolled_in,enrolled_in:t.enrolled_in||e.enrolled_in,roles:t.roles||e.roles,term:t.term}},processResults:function(t,e){return{results:n.map(t.items,function(t){return{text:t.name+" <"+t.email+">",id:t.id}}),pagination:{more:t.more}}}},cache:!0,placeholder:e.placeholder,multiple:e.multiple,width:e.width}),this}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMtYWRtaW4uanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsImxsbXMiLCJ3aWRnZXRzIiwidGhpcyIsIiR3aWRnZXRzIiwiJGluZm9fdG9nZ2xlcyIsImluaXQiLCJiaW5kIiwic2VsZiIsIm9uIiwiJHdpZGdldCIsImNsb3Nlc3QiLCJhY3Rpb24iLCJmaW5kIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiZm4iLCJsbG1zUG9zdHNTZWxlY3QyIiwib3B0aW9ucyIsImRlZmF1bHRzIiwibXVsdGlwbGUiLCJwbGFjZWhvbGRlciIsInVuZGVmaW5lZCIsIkxMTVMiLCJsMTBuIiwidHJhbnNsYXRlIiwicG9zdF90eXBlIiwiYXR0ciIsInBvc3Rfc3RhdHVzZXMiLCJhbGxvd19jbGVhciIsIndpZHRoIiwiZWFjaCIsInNldHRpbmciLCJleHRlbmQiLCJsbG1zU2VsZWN0MiIsImFsbG93Q2xlYXIiLCJhamF4IiwiZGF0YVR5cGUiLCJkZWxheSIsIm1ldGhvZCIsInVybCIsImFqYXh1cmwiLCJkYXRhIiwicGFyYW1zIiwicGFnZSIsInRlcm0iLCJfYWpheF9ub25jZSIsIndwX2FqYXhfZGF0YSIsIm5vbmNlIiwicHJvY2Vzc1Jlc3VsdHMiLCJyZXN1bHRzIiwibWFwX2RhdGEiLCJpdGVtcyIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsIml0ZW0iLCJ0ZXh0IiwibmFtZSIsImlkIiwiZm9ybWF0X2l0ZW0iLCJsYWJlbCIsImNoaWxkcmVuIiwicGFnaW5hdGlvbiIsIm1vcmUiLCJjYWNoZSIsImxsbXNTdHVkZW50c1NlbGVjdDIiLCJlbnJvbGxlZF9pbiIsIm5vdF9lbnJvbGxlZF9pbiIsInJvbGVzIiwiZW1haWwiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJDQVVDLFNBQVlBLEdBRVpDLE9BQU9DLEtBQU9ELE9BQU9DLE1BQVEsR0FFN0JELE9BQU9DLEtBQUtDLFFBQVUsV0FxQ3JCLE9BbkNBQyxLQUFLQyxTQUFXTCxFQUFHLGdCQUNuQkks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QUNwQk8sS0FBTSxDQUNMQyxTQUFVLE9BQ1ZDLE1BQU8sSUFDUEMsT0FBUSxPQUNSQyxJQUFLekMsT0FBTzBDLFFBQ1pDLEtBQU0sU0FBVUMsR0FDZixNQUFPLENBQ05HLFlBQWFDLGFBQWFDLE1BQzFCckMsT0FBUSxpQkFDUmlDLEtBQU1ELEVBQU9DLEtBQ2J3QixnQkFBaUJ6QixFQUFPeUIsaUJBQW1CbEQsRUFBUWtELGdCQUNuREQsWUFBYXhCLEVBQU93QixhQUFlakQsRUFBUWlELFlBQzNDRSxNQUFPMUIsRUFBTzBCLE9BQVNuRCxFQUFRbUQsTUFDL0J4QixLQUFNRixFQUFPRSxPQUdmSSxlQUFnQixTQUFVUCxFQUFNQyxHQUMvQixNQUFPLENBQ05PLFFBQVNwRCxFQUFFeUQsSUFBS2IsRUFBS1UsTUFBTyxTQUFVSSxHQUVyQyxNQUFPLENBQ05DLEtBQU1ELEVBQUtFLEtBQU8sS0FBT0YsRUFBS2MsTUFBTyxJQUNyQ1gsR0FBSUgsRUFBS0csTUFJWEksV0FBWSxDQUNYQyxLQUFNdEIsRUFBS3NCLFNBTWZDLE9BQU8sRUFDUDVDLFlBQWFILEVBQVFHLFlBQ3JCRCxTQUFVRixFQUFRRSxTQUNsQlUsTUFBT1osRUFBUVksUUFHVDVCLE1BOU5SLENBa09JcUUiLCJmaWxlIjoibGxtcy1hZG1pbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExpZnRlckxNUyBBZG1pbiBQYW5lbCBKYXZhc2NyaXB0XG4gKlxuICogQHNpbmNlICAgID8/XG4gKiBAc2luY2UgICAgMy4zMi4wIGBsbG1zUG9zdHNTZWxlY3QyYCBmdW5jdGlvbiBhbGxvd3MgcG9zdHMgZmVjdGhpbmcgYmFzZWQgb24gcG9zdCBzdGF0dXNlcy5cbiAqIEB2ZXJzaW9uICAzLjMyLjBcbiAqXG4gKiBAcGFyYW0gICAgb2JqICAgJCAgdHJhZGl0aW9uYWwgalF1ZXJ5IHJlZmVyZW5jZVxuICogQHJldHVybiAgIHZvaWRcbiAqL1xuOyggZnVuY3Rpb24oICQgKSB7XG5cblx0d2luZG93LmxsbXMgPSB3aW5kb3cubGxtcyB8fCB7fTtcblxuXHR3aW5kb3cubGxtcy53aWRnZXRzID0gZnVuY3Rpb24oKSB7XG5cblx0XHR0aGlzLiR3aWRnZXRzID0gJCggJy5sbG1zLXdpZGdldCcgKTtcblx0XHR0aGlzLiRpbmZvX3RvZ2dsZXMgPSAkKCAnLmxsbXMtd2lkZ2V0LWluZm8tdG9nZ2xlJyApO1xuXG5cdFx0dGhpcy5pbml0ID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdHRoaXMuYmluZCgpO1xuXG5cdFx0fTtcblxuXHRcdHRoaXMuYmluZCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHRoaXMuJGluZm9fdG9nZ2xlcy5vbiggJ2hvdmVyJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0dmFyICR0b2dnbGUgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JHdpZGdldCA9ICR0b2dnbGUuY2xvc2VzdCggJy5sbG1zLXdpZGdldCcgKSxcblx0XHRcdFx0XHQkaW5mbyA9ICR3aWRnZXQuZmluZCggJy5sbG1zLXdpZGdldC1pbmZvJyApLFxuXHRcdFx0XHRcdGFjdGlvbiA9ICggJHdpZGdldC5oYXNDbGFzcyggJ2luZm8tc2hvd2luZycgKSApID8gJ2hpZGUnIDogJ3Nob3cnO1xuXG5cdFx0XHRcdHNlbGYuJHdpZGdldHMucmVtb3ZlQ2xhc3MoICdpbmZvLXNob3dpbmcnICk7XG5cblx0XHRcdFx0aWYgKCAnc2hvdycgPT09IGFjdGlvbiApIHtcblxuXHRcdFx0XHRcdCR3aWRnZXQuYWRkQ2xhc3MoICdpbmZvLXNob3dpbmcnICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHR9XG5cblx0XHQvLyBnb1xuXHRcdHRoaXMuaW5pdCgpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fTtcblxuXHR2YXIgbGxtc193aWRnZXRzID0gbmV3IHdpbmRvdy5sbG1zLndpZGdldHMoKTtcblxuXHQvKipcblx0ICogU2ltcGxlIGpRdWVyeSBwbHVnaW4gdG8gdHJhbnNmb3JtIHNlbGVjdCBlbGVtZW50cyBpbnRvIFNlbGVjdDItcG93ZXJlZCBlbGVtZW50cyB0byBxdWVyeSBmb3IgQ291cnNlcy9NZW1iZXJzaGlwcyB2aWEgQUpBWC5cblx0ICpcblx0ICogQHNpbmNlIDMuMTkuNFxuXHQgKiBAc2luY2UgMy4zMi4wIEFkZGVkIGFiaWxpdHkgdG8gZmV0Y2ggcG9zdHMgYmFzZWQgb24gdGhlaXIgcG9zdCBzdGF0dXMuXG5cdCAqXG5cdCAqIEBwYXJhbSBvYmogb3B0aW9ucyBPcHRpb25zIHBhc3NlZCB0byBTZWxlY3QyLlxuXHQgKiAgICAgICAgICAgICAgICAgICAgRWFjaCBkZWZhdWx0IG9wdGlvbiB3aWxsIHB1bGxlZCBmcm9tIHRoZSBlbGVtZW50cyBkYXRhLWF0dHJpYnV0ZXMuXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKi9cblx0JC5mbi5sbG1zUG9zdHNTZWxlY3QyID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fSxcblx0XHRcdGRlZmF1bHRzID0ge1xuXHRcdFx0XHRtdWx0aXBsZTogZmFsc2UsXG5cdFx0XHRcdHBsYWNlaG9sZGVyOiB1bmRlZmluZWQgIT09IExMTVMubDEwbiA/IExMTVMubDEwbi50cmFuc2xhdGUoICdTZWxlY3QgYSBDb3Vyc2UvTWVtYmVyc2hpcCcgKSA6ICdTZWxlY3QgYSBDb3Vyc2UvTWVtYmVyc2hpcCcsXG5cdFx0XHRcdHBvc3RfdHlwZTogc2VsZi5hdHRyKCAnZGF0YS1wb3N0LXR5cGUnICkgfHwgJ3Bvc3QnLFxuXHRcdFx0XHRwb3N0X3N0YXR1c2VzOiBzZWxmLmF0dHIoICdkYXRhLXBvc3Qtc3RhdHVzZXMnICkgfHwgJ3B1Ymxpc2gnLFxuXHRcdFx0XHRhbGxvd19jbGVhcjogc2VsZi5hdHRyKCAnZGF0YS1wb3N0LXR5cGUnICkgfHwgZmFsc2UsXG5cdFx0XHRcdHdpZHRoOiBudWxsLFxuXHRcdFx0fTtcblxuXHRcdCQuZWFjaCggZGVmYXVsdHMsIGZ1bmN0aW9uKCBzZXR0aW5nICkge1xuXHRcdFx0aWYgKCBzZWxmLmF0dHIoICdkYXRhLScgKyBzZXR0aW5nICkgKSB7XG5cdFx0XHRcdG9wdGlvbnNbIHNldHRpbmcgXSA9IHNlbGYuYXR0ciggJ2RhdGEtJyArIHNldHRpbmcgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0XHRpZiAoICdtdWx0aXBsZScgPT09IHNlbGYuYXR0ciggJ211bHRpcGxlJyApICkge1xuXHRcdFx0b3B0aW9ucy5tdWx0aXBsZSA9IHRydWU7XG5cdFx0fVxuXG5cdFx0b3B0aW9ucyA9ICQuZXh0ZW5kKCBkZWZhdWx0cywgb3B0aW9ucyApO1xuXG5cdFx0dGhpcy5sbG1zU2VsZWN0Migge1xuXHRcdFx0YWxsb3dDbGVhcjogb3B0aW9ucy5hbGxvd19jbGVhcixcblx0XHRcdGFqYXg6IHtcblx0XHRcdFx0ZGF0YVR5cGU6ICdKU09OJyxcblx0XHRcdFx0ZGVsYXk6IDI1MCxcblx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHRcdHVybDogd2luZG93LmFqYXh1cmwsXG5cdFx0XHRcdGRhdGE6IGZ1bmN0aW9uKCBwYXJhbXMgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdGFjdGlvbjogJ3NlbGVjdDJfcXVlcnlfcG9zdHMnLFxuXHRcdFx0XHRcdFx0cGFnZTogKCBwYXJhbXMucGFnZSApID8gcGFyYW1zLnBhZ2UgLSAxIDogMCwgLy8gMCBpbmRleCB0aGUgcGFnZXMgdG8gbWFrZSBpdCBzaW1wbGVyIGZvciB0aGUgZGF0YWJhc2UgcXVlcnlcblx0XHRcdFx0XHRcdHBvc3RfdHlwZTogb3B0aW9ucy5wb3N0X3R5cGUsXG5cdFx0XHRcdFx0XHRwb3N0X3N0YXR1c2VzOiBvcHRpb25zLnBvc3Rfc3RhdHVzZXMsXG5cdFx0XHRcdFx0XHR0ZXJtOiBwYXJhbXMudGVybSxcblx0XHRcdFx0XHRcdF9hamF4X25vbmNlOiB3cF9hamF4X2RhdGEubm9uY2Vcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRwcm9jZXNzUmVzdWx0czogZnVuY3Rpb24oIGRhdGEsIHBhcmFtcyApIHtcblxuXHRcdFx0XHRcdC8vIHJlY3Vyc2l2ZSBmdW5jdGlvbiBmb3IgY3JlYXRpbmdcblx0XHRcdFx0XHRmdW5jdGlvbiBtYXBfZGF0YSggaXRlbXMgKSB7XG5cblx0XHRcdFx0XHRcdC8vIHRoaXMgaXMgYSBmbGF0IGFycmF5IG9mIHJlc3VsdHNcblx0XHRcdFx0XHRcdC8vIHVzZWQgd2hlbiBvbmx5IG9uZSBwb3N0IHR5cGUgaXMgc2VsZWN0ZWRcblx0XHRcdFx0XHRcdC8vIGFuZCB0byBmb3JtYXQgY2hpbGRyZW4gd2hlbiB1c2luZyBvcHRncm91cHMgd2l0aCBtdWx0aXBsZSBwb3N0IHR5cGVzXG5cdFx0XHRcdFx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIGl0ZW1zICkgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiAkLm1hcCggaXRlbXMsIGZ1bmN0aW9uKCBpdGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBmb3JtYXRfaXRlbSggaXRlbSApO1xuXHRcdFx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gdGhpcyBzZXRzIHVwIHRoZSB0b3AgbGV2ZWwgb3B0Z3JvdXBzIHdoZW4gdXNpbmcgbXVsdGlwbGUgcG9zdCB0eXBlc1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuICQubWFwKCBpdGVtcywgZnVuY3Rpb24oIGl0ZW0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRleHQ6IGl0ZW0ubGFiZWwsXG5cdFx0XHRcdFx0XHRcdFx0XHRjaGlsZHJlbjogbWFwX2RhdGEoIGl0ZW0uaXRlbXMgKSxcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBmb3JtYXQgYSBzaW5nbGUgcmVzdWx0IChvcHRpb24pXG5cdFx0XHRcdFx0ZnVuY3Rpb24gZm9ybWF0X2l0ZW0oIGl0ZW0gKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHR0ZXh0OiBpdGVtLm5hbWUsXG5cdFx0XHRcdFx0XHRcdGlkOiBpdGVtLmlkLFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0cmVzdWx0czogbWFwX2RhdGEoIGRhdGEuaXRlbXMgKSxcblx0XHRcdFx0XHRcdHBhZ2luYXRpb246IHtcblx0XHRcdFx0XHRcdFx0bW9yZTogZGF0YS5tb3JlXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHRcdGNhY2hlOiB0cnVlLFxuXHRcdFx0cGxhY2Vob2xkZXI6IG9wdGlvbnMucGxhY2Vob2xkZXIsXG5cdFx0XHRtdWx0aXBsZTogb3B0aW9ucy5tdWx0aXBsZSxcblx0XHRcdHdpZHRoOiBvcHRpb25zLndpZHRoLFxuXHRcdH0gKTtcblxuXHR9O1xuXG5cdC8vIGF1dG9tYXRpY2FsbHkgc2V0dXAgYW55IHNlbGVjdCB3aXRoIHRoZSBgbGxtcy1wb3N0cy1zZWxlY3QyYCBjbGFzc1xuXHQkKCAnc2VsZWN0LmxsbXMtcG9zdHMtc2VsZWN0MicgKS5sbG1zUG9zdHNTZWxlY3QyKCk7XG5cblx0LyoqXG5cdCAqIFNpbXBsZSBqUXVlcnkgcGx1Z2luIHRvIHRyYW5zZm9ybSBzZWxlY3QgZWxlbWVudHMgaW50byBTZWxlY3QyLXBvd2VyZWQgZWxlbWVudHMgdG8gcXVlcnkgZm9yIFN0dWRlbnRzIHZpYSBBSkFYXG5cdCAqIEBwYXJhbSAgICBvYmogICBvcHRpb25zICBvcHRpb25zIHBhc3NlZCB0byBTZWxlY3QyXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoIGRlZmF1bHQgb3B0aW9uIHdpbGwgcHVsbGVkIGZyb20gdGhlIGVsZW1lbnRzIGRhdGEtYXR0cmlidXRlc1xuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgPz9cblx0ICogQHZlcnNpb24gIDMuMTcuNVxuXHQgKi9cblx0JC5mbi5sbG1zU3R1ZGVudHNTZWxlY3QyID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fSxcblx0XHRcdGRlZmF1bHRzID0ge1xuXHRcdFx0XHRhbGxvd19jbGVhcjogZmFsc2UsXG5cdFx0XHRcdGVucm9sbGVkX2luOiAnJyxcblx0XHRcdFx0bXVsdGlwbGU6IGZhbHNlLFxuXHRcdFx0XHRub3RfZW5yb2xsZWRfaW46ICcnLFxuXHRcdFx0XHRwbGFjZWhvbGRlcjogdW5kZWZpbmVkICE9PSBMTE1TLmwxMG4gPyBMTE1TLmwxMG4udHJhbnNsYXRlKCAnU2VsZWN0IGEgc3R1ZGVudCcgKSA6ICdTZWxlY3QgYSBzdHVkZW50Jyxcblx0XHRcdFx0cm9sZXM6ICcnLFxuXHRcdFx0XHR3aWR0aDogJzEwMCUnLFxuXHRcdFx0fTtcblxuXHRcdCQuZWFjaCggZGVmYXVsdHMsIGZ1bmN0aW9uKCBzZXR0aW5nICkge1xuXHRcdFx0aWYgKCBzZWxmLmF0dHIoICdkYXRhLScgKyBzZXR0aW5nICkgKSB7XG5cdFx0XHRcdG9wdGlvbnNbIHNldHRpbmcgXSA9IHNlbGYuYXR0ciggJ2RhdGEtJyArIHNldHRpbmcgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0XHRvcHRpb25zID0gJC5leHRlbmQoIGRlZmF1bHRzLCBvcHRpb25zICk7XG5cblx0XHR0aGlzLmxsbXNTZWxlY3QyKHtcblx0XHRcdGFsbG93Q2xlYXI6IG9wdGlvbnMuYWxsb3dfY2xlYXIsXG5cdFx0XHRhamF4OiB7XG5cdFx0XHRcdGRhdGFUeXBlOiAnSlNPTicsXG5cdFx0XHRcdGRlbGF5OiAyNTAsXG5cdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHR1cmw6IHdpbmRvdy5hamF4dXJsLFxuXHRcdFx0XHRkYXRhOiBmdW5jdGlvbiggcGFyYW1zICkge1xuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRfYWpheF9ub25jZTogd3BfYWpheF9kYXRhLm5vbmNlLFxuXHRcdFx0XHRcdFx0YWN0aW9uOiAncXVlcnlfc3R1ZGVudHMnLFxuXHRcdFx0XHRcdFx0cGFnZTogcGFyYW1zLnBhZ2UsXG5cdFx0XHRcdFx0XHRub3RfZW5yb2xsZWRfaW46IHBhcmFtcy5ub3RfZW5yb2xsZWRfaW4gfHwgb3B0aW9ucy5ub3RfZW5yb2xsZWRfaW4sXG5cdFx0XHRcdFx0XHRlbnJvbGxlZF9pbjogcGFyYW1zLmVucm9sbGVkX2luIHx8IG9wdGlvbnMuZW5yb2xsZWRfaW4sXG5cdFx0XHRcdFx0XHRyb2xlczogcGFyYW1zLnJvbGVzIHx8IG9wdGlvbnMucm9sZXMsXG5cdFx0XHRcdFx0XHR0ZXJtOiBwYXJhbXMudGVybSxcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRwcm9jZXNzUmVzdWx0czogZnVuY3Rpb24oIGRhdGEsIHBhcmFtcyApIHtcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0cmVzdWx0czogJC5tYXAoIGRhdGEuaXRlbXMsIGZ1bmN0aW9uKCBpdGVtICkge1xuXG5cdFx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0dGV4dDogaXRlbS5uYW1lICsgJyA8JyArIGl0ZW0uZW1haWwgKyc+Jyxcblx0XHRcdFx0XHRcdFx0XHRpZDogaXRlbS5pZCxcblx0XHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0fSApLFxuXHRcdFx0XHRcdFx0cGFnaW5hdGlvbjoge1xuXHRcdFx0XHRcdFx0XHRtb3JlOiBkYXRhLm1vcmVcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdFx0Y2FjaGU6IHRydWUsXG5cdFx0XHRwbGFjZWhvbGRlcjogb3B0aW9ucy5wbGFjZWhvbGRlcixcblx0XHRcdG11bHRpcGxlOiBvcHRpb25zLm11bHRpcGxlLFxuXHRcdFx0d2lkdGg6IG9wdGlvbnMud2lkdGgsXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9O1xuXG59ICkoIGpRdWVyeSApO1xuIl19
