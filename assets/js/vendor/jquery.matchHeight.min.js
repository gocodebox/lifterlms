!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(l){function h(t){return parseFloat(t)||0}function c(t){var e=l(t),i=null,n=[];return e.each(function(){var t=l(this),e=t.offset().top-h(t.css("margin-top")),o=0<n.length?n[n.length-1]:null;null===o?n.push(t):Math.floor(Math.abs(i-e))<=1?n[n.length-1]=o.add(t):n.push(t),i=e}),n}function p(t){var e={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof t?l.extend(e,t):("boolean"==typeof t?e.byRow=t:"remove"===t&&(e.remove=!0),e)}var i=-1,n=-1,d=l.fn.matchHeight=function(t){var e=p(t);if(e.remove){var o=this;return this.css(e.property,""),l.each(d._groups,function(t,e){e.elements=e.elements.not(o)}),this}return this.length<=1&&!e.target||(d._groups.push({elements:this,options:e}),d._apply(this,e)),this};d.version="0.7.0",d._groups=[],d._throttle=80,d._maintainScroll=!1,d._beforeUpdate=null,d._afterUpdate=null,d._rows=c,d._parse=h,d._parseOptions=p,d._apply=function(t,e){var a=p(e),o=l(t),i=[o],n=l(window).scrollTop(),r=l("html").outerHeight(!0),s=o.parents().filter(":hidden");return s.each(function(){var t=l(this);t.data("style-cache",t.attr("style"))}),s.css("display","block"),a.byRow&&!a.target&&(o.each(function(){var t=l(this),e=t.css("display");"inline-block"!==e&&"flex"!==e&&"inline-flex"!==e&&(e="block"),t.data("style-cache",t.attr("style")),t.css({display:e,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),i=c(o),o.each(function(){var t=l(this);t.attr("style",t.data("style-cache")||"")})),l.each(i,function(t,e){var o=l(e),n=0;if(a.target)n=a.target.outerHeight(!1);else{if(a.byRow&&o.length<=1)return void o.css(a.property,"");o.each(function(){var t=l(this),e=t.attr("style"),o=t.css("display");"inline-block"!==o&&"flex"!==o&&"inline-flex"!==o&&(o="block");var i={display:o};i[a.property]="",t.css(i),t.outerHeight(!1)>n&&(n=t.outerHeight(!1)),e?t.attr("style",e):t.css("display","")})}o.each(function(){var t=l(this),e=0;a.target&&t.is(a.target)||("border-box"!==t.css("box-sizing")&&(e+=h(t.css("border-top-width"))+h(t.css("border-bottom-width")),e+=h(t.css("padding-top"))+h(t.css("padding-bottom"))),t.css(a.property,n-e+"px"))})}),s.each(function(){var t=l(this);t.attr("style",t.data("style-cache")||null)}),d._maintainScroll&&l(window).scrollTop(n/r*l("html").outerHeight(!0)),this},d._applyDataApi=function(){var o={};l("[data-match-height], [data-mh]").each(function(){var t=l(this),e=t.attr("data-mh")||t.attr("data-match-height");o[e]=e in o?o[e].add(t):t}),l.each(o,function(){this.matchHeight(!0)})};function a(t){d._beforeUpdate&&d._beforeUpdate(t,d._groups),l.each(d._groups,function(){d._apply(this.elements,this.options)}),d._afterUpdate&&d._afterUpdate(t,d._groups)}d._update=function(t,e){if(e&&"resize"===e.type){var o=l(window).width();if(o===i)return;i=o}t?-1===n&&(n=setTimeout(function(){a(e),n=-1},d._throttle)):a(e)},l(d._applyDataApi),l(window).bind("load",function(t){d._update(!1,t)}),l(window).bind("resize orientationchange",function(t){d._update(!0,t)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlbmRvci9qcXVlcnkubWF0Y2hIZWlnaHQuanMiXSwibmFtZXMiOlsiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXF1aXJlIiwialF1ZXJ5IiwiJCIsIl9wYXJzZSIsInZhbHVlIiwicGFyc2VGbG9hdCIsIl9yb3dzIiwiZWxlbWVudHMiLCIkZWxlbWVudHMiLCJsYXN0VG9wIiwicm93cyIsImVhY2giLCIkdGhhdCIsInRoaXMiLCJ0b3AiLCJvZmZzZXQiLCJjc3MiLCJsYXN0Um93IiwibGVuZ3RoIiwicHVzaCIsIk1hdGgiLCJmbG9vciIsImFicyIsImFkZCIsIl9wYXJzZU9wdGlvbnMiLCJvcHRpb25zIiwib3B0cyIsImJ5Um93IiwicHJvcGVydHkiLCJ0YXJnZXQiLCJyZW1vdmUiLCJleHRlbmQiLCJfcHJldmlvdXNSZXNpemVXaWR0aCIsIl91cGRhdGVUaW1lb3V0IiwibWF0Y2hIZWlnaHQiLCJmbiIsInRoYXQiLCJfZ3JvdXBzIiwia2V5IiwiZ3JvdXAiLCJub3QiLCJfYXBwbHkiLCJ2ZXJzaW9uIiwiX3Rocm90dGxlIiwiX21haW50YWluU2Nyb2xsIiwiX2JlZm9yZVVwZGF0ZSIsIl9hZnRlclVwZGF0ZSIsInNjcm9sbFRvcCIsIndpbmRvdyIsImh0bWxIZWlnaHQiLCJvdXRlckhlaWdodCIsIiRoaWRkZW5QYXJlbnRzIiwicGFyZW50cyIsImZpbHRlciIsImRhdGEiLCJhdHRyIiwiZGlzcGxheSIsInBhZGRpbmctdG9wIiwicGFkZGluZy1ib3R0b20iLCJtYXJnaW4tdG9wIiwibWFyZ2luLWJvdHRvbSIsImJvcmRlci10b3Atd2lkdGgiLCJib3JkZXItYm90dG9tLXdpZHRoIiwiaGVpZ2h0Iiwib3ZlcmZsb3ciLCJyb3ciLCIkcm93IiwidGFyZ2V0SGVpZ2h0Iiwic3R5bGUiLCJ2ZXJ0aWNhbFBhZGRpbmciLCJpcyIsIl9hcHBseURhdGFBcGkiLCJncm91cHMiLCIkdGhpcyIsImdyb3VwSWQiLCJfdXBkYXRlIiwiZXZlbnQiLCJ0aHJvdHRsZSIsInR5cGUiLCJ3aW5kb3dXaWR0aCIsIndpZHRoIiwic2V0VGltZW91dCIsImJpbmQiXSwibWFwcGluZ3MiOiJDQU1DLFNBQVVBLEdBQ1YsYUFDc0IsbUJBQVhDLFFBQXlCQSxPQUFPQyxJQUUxQ0QsT0FBTyxDQUFDLFVBQVdELEdBQ1Msb0JBQVhHLFFBQTBCQSxPQUFPQyxRQUVsREQsT0FBT0MsUUFBVUosRUFBUUssUUFBUSxXQUdqQ0wsRUFBUU0sUUFWVCxDQVlFLFNBQVNDLEdBYUUsU0FBVEMsRUFBa0JDLEdBRXJCLE9BQU9DLFdBQVdELElBQVUsRUFTakIsU0FBUkUsRUFBaUJDLEdBQ3BCLElBQ0NDLEVBQVlOLEVBQUVLLEdBQ2RFLEVBQVUsS0FDVkMsRUFBTyxHQXlCUixPQXRCQUYsRUFBVUcsS0FBSyxXQUNkLElBQUlDLEVBQVFWLEVBQUVXLE1BQ2JDLEVBQU1GLEVBQU1HLFNBQVNELElBQU1YLEVBQU9TLEVBQU1JLElBQUksZUFDNUNDLEVBQXdCLEVBQWRQLEVBQUtRLE9BQWFSLEVBQUtBLEVBQUtRLE9BQVMsR0FBSyxLQUVyQyxPQUFaRCxFQUVIUCxFQUFLUyxLQUFLUCxHQUdOUSxLQUFLQyxNQUFNRCxLQUFLRSxJQUFJYixFQUFVSyxLQWhCcEIsRUFpQmJKLEVBQUtBLEVBQUtRLE9BQVMsR0FBS0QsRUFBUU0sSUFBSVgsR0FHcENGLEVBQUtTLEtBQUtQLEdBS1pILEVBQVVLLElBR0pKLEVBUVksU0FBaEJjLEVBQXlCQyxHQUM1QixJQUFJQyxFQUFPLENBQ1ZDLE9BQU8sRUFDUEMsU0FBVSxTQUNWQyxPQUFRLEtBQ1JDLFFBQVEsR0FHVCxNQUF1QixpQkFBWkwsRUFDSHZCLEVBQUU2QixPQUFPTCxFQUFNRCxJQUdBLGtCQUFaQSxFQUNWQyxFQUFLQyxNQUFRRixFQUNTLFdBQVpBLElBQ1ZDLEVBQUtJLFFBQVMsR0FHUkosR0ExRVIsSUFBSU0sR0FBd0IsRUFDM0JDLEdBQWtCLEVBaUZmQyxFQUFjaEMsRUFBRWlDLEdBQUdELFlBQWMsU0FBU1QsR0FDN0MsSUFBSUMsRUFBT0YsRUFBY0MsR0FHekIsR0FBSUMsRUFBS0ksT0FBUSxDQUNoQixJQUFJTSxFQUFPdkIsS0FZWCxPQVRBQSxLQUFLRyxJQUFJVSxFQUFLRSxTQUFVLElBR3hCMUIsRUFBRVMsS0FBS3VCLEVBQVlHLFFBQVMsU0FBU0MsRUFBS0MsR0FDekNBLEVBQU1oQyxTQUFXZ0MsRUFBTWhDLFNBQVNpQyxJQUFJSixLQUs5QnZCLEtBR1IsT0FBSUEsS0FBS0ssUUFBVSxJQUFNUSxFQUFLRyxTQUs5QkssRUFBWUcsUUFBUWxCLEtBQUssQ0FDeEJaLFNBQVVNLEtBQ1ZZLFFBQVNDLElBSVZRLEVBQVlPLE9BQU81QixLQUFNYSxJQVZqQmIsTUFtQlRxQixFQUFZUSxRQUFVLFFBQ3RCUixFQUFZRyxRQUFVLEdBQ3RCSCxFQUFZUyxVQUFZLEdBQ3hCVCxFQUFZVSxpQkFBa0IsRUFDOUJWLEVBQVlXLGNBQWdCLEtBQzVCWCxFQUFZWSxhQUFlLEtBQzNCWixFQUFZNUIsTUFBUUEsRUFDcEI0QixFQUFZL0IsT0FBU0EsRUFDckIrQixFQUFZVixjQUFnQkEsRUFPNUJVLEVBQVlPLE9BQVMsU0FBU2xDLEVBQVVrQixHQUN2QyxJQUFJQyxFQUFPRixFQUFjQyxHQUN4QmpCLEVBQVlOLEVBQUVLLEdBQ2RHLEVBQU8sQ0FBQ0YsR0FHTHVDLEVBQVk3QyxFQUFFOEMsUUFBUUQsWUFDekJFLEVBQWEvQyxFQUFFLFFBQVFnRCxhQUFZLEdBR2hDQyxFQUFpQjNDLEVBQVU0QyxVQUFVQyxPQUFPLFdBOEhoRCxPQTNIQUYsRUFBZXhDLEtBQUssV0FDbkIsSUFBSUMsRUFBUVYsRUFBRVcsTUFDZEQsRUFBTTBDLEtBQUssY0FBZTFDLEVBQU0yQyxLQUFLLFlBSXRDSixFQUFlbkMsSUFBSSxVQUFXLFNBRzFCVSxFQUFLQyxRQUFVRCxFQUFLRyxTQUd2QnJCLEVBQVVHLEtBQUssV0FDZCxJQUFJQyxFQUFRVixFQUFFVyxNQUNiMkMsRUFBVTVDLEVBQU1JLElBQUksV0FHTCxpQkFBWndDLEdBQTBDLFNBQVpBLEdBQWtDLGdCQUFaQSxJQUN2REEsRUFBVSxTQUlYNUMsRUFBTTBDLEtBQUssY0FBZTFDLEVBQU0yQyxLQUFLLFVBRXJDM0MsRUFBTUksSUFBSSxDQUNUd0MsUUFBV0EsRUFDWEMsY0FBZSxJQUNmQyxpQkFBa0IsSUFDbEJDLGFBQWMsSUFDZEMsZ0JBQWlCLElBQ2pCQyxtQkFBb0IsSUFDcEJDLHNCQUF1QixJQUN2QkMsT0FBVSxRQUNWQyxTQUFZLGFBS2R0RCxFQUFPSixFQUFNRSxHQUdiQSxFQUFVRyxLQUFLLFdBQ2QsSUFBSUMsRUFBUVYsRUFBRVcsTUFDZEQsRUFBTTJDLEtBQUssUUFBUzNDLEVBQU0wQyxLQUFLLGdCQUFrQixPQUluRHBELEVBQUVTLEtBQUtELEVBQU0sU0FBUzRCLEVBQUsyQixHQUMxQixJQUFJQyxFQUFPaEUsRUFBRStELEdBQ1pFLEVBQWUsRUFFaEIsR0FBS3pDLEVBQUtHLE9BcUNUc0MsRUFBZXpDLEVBQUtHLE9BQU9xQixhQUFZLE9BckN0QixDQUVqQixHQUFJeEIsRUFBS0MsT0FBU3VDLEVBQUtoRCxRQUFVLEVBRWhDLFlBREFnRCxFQUFLbEQsSUFBSVUsRUFBS0UsU0FBVSxJQUt6QnNDLEVBQUt2RCxLQUFLLFdBQ1QsSUFBSUMsRUFBUVYsRUFBRVcsTUFDYnVELEVBQVF4RCxFQUFNMkMsS0FBSyxTQUNuQkMsRUFBVTVDLEVBQU1JLElBQUksV0FHTCxpQkFBWndDLEdBQTBDLFNBQVpBLEdBQWtDLGdCQUFaQSxJQUN2REEsRUFBVSxTQUlYLElBQUl4QyxFQUFNLENBQUV3QyxRQUFXQSxHQUN2QnhDLEVBQUlVLEVBQUtFLFVBQVksR0FDckJoQixFQUFNSSxJQUFJQSxHQUdOSixFQUFNc0MsYUFBWSxHQUFTaUIsSUFDOUJBLEVBQWV2RCxFQUFNc0MsYUFBWSxJQUk5QmtCLEVBQ0h4RCxFQUFNMkMsS0FBSyxRQUFTYSxHQUVwQnhELEVBQU1JLElBQUksVUFBVyxNQVN4QmtELEVBQUt2RCxLQUFLLFdBQ1QsSUFBSUMsRUFBUVYsRUFBRVcsTUFDYndELEVBQWtCLEVBR2YzQyxFQUFLRyxRQUFVakIsRUFBTTBELEdBQUc1QyxFQUFLRyxVQUtELGVBQTVCakIsRUFBTUksSUFBSSxnQkFDYnFELEdBQW1CbEUsRUFBT1MsRUFBTUksSUFBSSxxQkFBdUJiLEVBQU9TLEVBQU1JLElBQUksd0JBQzVFcUQsR0FBbUJsRSxFQUFPUyxFQUFNSSxJQUFJLGdCQUFrQmIsRUFBT1MsRUFBTUksSUFBSSxvQkFJeEVKLEVBQU1JLElBQUlVLEVBQUtFLFNBQVd1QyxFQUFlRSxFQUFtQixXQUs5RGxCLEVBQWV4QyxLQUFLLFdBQ25CLElBQUlDLEVBQVFWLEVBQUVXLE1BQ2RELEVBQU0yQyxLQUFLLFFBQVMzQyxFQUFNMEMsS0FBSyxnQkFBa0IsUUFJOUNwQixFQUFZVSxpQkFDZjFDLEVBQUU4QyxRQUFRRCxVQUFXQSxFQUFZRSxFQUFjL0MsRUFBRSxRQUFRZ0QsYUFBWSxJQUcvRHJDLE1BUVJxQixFQUFZcUMsY0FBZ0IsV0FDM0IsSUFBSUMsRUFBUyxHQUdidEUsRUFBRSxrQ0FBa0NTLEtBQUssV0FDeEMsSUFBSThELEVBQVF2RSxFQUFFVyxNQUNiNkQsRUFBVUQsRUFBTWxCLEtBQUssWUFBY2tCLEVBQU1sQixLQUFLLHFCQUc5Q2lCLEVBQU9FLEdBREpBLEtBQVdGLEVBQ0lBLEVBQU9FLEdBQVNuRCxJQUFJa0QsR0FFcEJBLElBS3BCdkUsRUFBRVMsS0FBSzZELEVBQVEsV0FDZDNELEtBQUtxQixhQUFZLE1BU0wsU0FBVnlDLEVBQW1CQyxHQUNsQjFDLEVBQVlXLGVBQ2ZYLEVBQVlXLGNBQWMrQixFQUFPMUMsRUFBWUcsU0FHOUNuQyxFQUFFUyxLQUFLdUIsRUFBWUcsUUFBUyxXQUMzQkgsRUFBWU8sT0FBTzVCLEtBQUtOLFNBQVVNLEtBQUtZLFdBR3BDUyxFQUFZWSxjQUNmWixFQUFZWSxhQUFhOEIsRUFBTzFDLEVBQVlHLFNBSTlDSCxFQUFZeUMsUUFBVSxTQUFTRSxFQUFVRCxHQUl4QyxHQUFJQSxHQUF3QixXQUFmQSxFQUFNRSxLQUFtQixDQUNyQyxJQUFJQyxFQUFjN0UsRUFBRThDLFFBQVFnQyxRQUM1QixHQUFJRCxJQUFnQi9DLEVBQ25CLE9BRURBLEVBQXVCK0MsRUFJbkJGLEdBRTBCLElBQXBCNUMsSUFDVkEsRUFBaUJnRCxXQUFXLFdBQzNCTixFQUFRQyxHQUNSM0MsR0FBa0IsR0FDaEJDLEVBQVlTLFlBTGZnQyxFQUFRQyxJQWNWMUUsRUFBRWdDLEVBQVlxQyxlQUdkckUsRUFBRThDLFFBQVFrQyxLQUFLLE9BQVEsU0FBU04sR0FDL0IxQyxFQUFZeUMsU0FBUSxFQUFPQyxLQUk1QjFFLEVBQUU4QyxRQUFRa0MsS0FBSywyQkFBNEIsU0FBU04sR0FDbkQxQyxFQUFZeUMsU0FBUSxFQUFNQyIsImZpbGUiOiJ2ZW5kb3IvanF1ZXJ5Lm1hdGNoSGVpZ2h0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuKiBqcXVlcnktbWF0Y2gtaGVpZ2h0IDAuNy4wIGJ5IEBsaWFicnVcbiogaHR0cDovL2JybS5pby9qcXVlcnktbWF0Y2gtaGVpZ2h0L1xuKiBMaWNlbnNlOiBNSVRcbiovXG5cbjsoZnVuY3Rpb24oZmFjdG9yeSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWV4dHJhLXNlbWlcblx0J3VzZSBzdHJpY3QnO1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gQU1EXG5cdFx0ZGVmaW5lKFsnanF1ZXJ5J10sIGZhY3RvcnkpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0Ly8gQ29tbW9uSlNcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnanF1ZXJ5JykpO1xuXHR9IGVsc2Uge1xuXHRcdC8vIEdsb2JhbFxuXHRcdGZhY3RvcnkoalF1ZXJ5KTtcblx0fVxufSkoZnVuY3Rpb24oJCkge1xuXHQvKlxuXHQqICBpbnRlcm5hbFxuXHQqL1xuXG5cdHZhciBfcHJldmlvdXNSZXNpemVXaWR0aCA9IC0xLFxuXHRcdF91cGRhdGVUaW1lb3V0ID0gLTE7XG5cblx0Lypcblx0KiAgX3BhcnNlXG5cdCogIHZhbHVlIHBhcnNlIHV0aWxpdHkgZnVuY3Rpb25cblx0Ki9cblxuXHR2YXIgX3BhcnNlID0gZnVuY3Rpb24odmFsdWUpIHtcblx0XHQvLyBwYXJzZSB2YWx1ZSBhbmQgY29udmVydCBOYU4gdG8gMFxuXHRcdHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKSB8fCAwO1xuXHR9O1xuXG5cdC8qXG5cdCogIF9yb3dzXG5cdCogIHV0aWxpdHkgZnVuY3Rpb24gcmV0dXJucyBhcnJheSBvZiBqUXVlcnkgc2VsZWN0aW9ucyByZXByZXNlbnRpbmcgZWFjaCByb3dcblx0KiAgKGFzIGRpc3BsYXllZCBhZnRlciBmbG9hdCB3cmFwcGluZyBhcHBsaWVkIGJ5IGJyb3dzZXIpXG5cdCovXG5cblx0dmFyIF9yb3dzID0gZnVuY3Rpb24oZWxlbWVudHMpIHtcblx0XHR2YXIgdG9sZXJhbmNlID0gMSxcblx0XHRcdCRlbGVtZW50cyA9ICQoZWxlbWVudHMpLFxuXHRcdFx0bGFzdFRvcCA9IG51bGwsXG5cdFx0XHRyb3dzID0gW107XG5cblx0XHQvLyBncm91cCBlbGVtZW50cyBieSB0aGVpciB0b3AgcG9zaXRpb25cblx0XHQkZWxlbWVudHMuZWFjaChmdW5jdGlvbigpe1xuXHRcdFx0dmFyICR0aGF0ID0gJCh0aGlzKSxcblx0XHRcdFx0dG9wID0gJHRoYXQub2Zmc2V0KCkudG9wIC0gX3BhcnNlKCR0aGF0LmNzcygnbWFyZ2luLXRvcCcpKSxcblx0XHRcdFx0bGFzdFJvdyA9IHJvd3MubGVuZ3RoID4gMCA/IHJvd3Nbcm93cy5sZW5ndGggLSAxXSA6IG51bGw7XG5cblx0XHRcdGlmIChsYXN0Um93ID09PSBudWxsKSB7XG5cdFx0XHRcdC8vIGZpcnN0IGl0ZW0gb24gdGhlIHJvdywgc28ganVzdCBwdXNoIGl0XG5cdFx0XHRcdHJvd3MucHVzaCgkdGhhdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBpZiB0aGUgcm93IHRvcCBpcyB0aGUgc2FtZSwgYWRkIHRvIHRoZSByb3cgZ3JvdXBcblx0XHRcdFx0aWYgKE1hdGguZmxvb3IoTWF0aC5hYnMobGFzdFRvcCAtIHRvcCkpIDw9IHRvbGVyYW5jZSkge1xuXHRcdFx0XHRcdHJvd3Nbcm93cy5sZW5ndGggLSAxXSA9IGxhc3RSb3cuYWRkKCR0aGF0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBvdGhlcndpc2Ugc3RhcnQgYSBuZXcgcm93IGdyb3VwXG5cdFx0XHRcdFx0cm93cy5wdXNoKCR0aGF0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBrZWVwIHRyYWNrIG9mIHRoZSBsYXN0IHJvdyB0b3Bcblx0XHRcdGxhc3RUb3AgPSB0b3A7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gcm93cztcblx0fTtcblxuXHQvKlxuXHQqICBfcGFyc2VPcHRpb25zXG5cdCogIGhhbmRsZSBwbHVnaW4gb3B0aW9uc1xuXHQqL1xuXG5cdHZhciBfcGFyc2VPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHRcdHZhciBvcHRzID0ge1xuXHRcdFx0YnlSb3c6IHRydWUsXG5cdFx0XHRwcm9wZXJ0eTogJ2hlaWdodCcsXG5cdFx0XHR0YXJnZXQ6IG51bGwsXG5cdFx0XHRyZW1vdmU6IGZhbHNlXG5cdFx0fTtcblxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcblx0XHRcdHJldHVybiAkLmV4dGVuZChvcHRzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJykge1xuXHRcdFx0b3B0cy5ieVJvdyA9IG9wdGlvbnM7XG5cdFx0fSBlbHNlIGlmIChvcHRpb25zID09PSAncmVtb3ZlJykge1xuXHRcdFx0b3B0cy5yZW1vdmUgPSB0cnVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBvcHRzO1xuXHR9O1xuXG5cdC8qXG5cdCogIG1hdGNoSGVpZ2h0XG5cdCogIHBsdWdpbiBkZWZpbml0aW9uXG5cdCovXG5cblx0dmFyIG1hdGNoSGVpZ2h0ID0gJC5mbi5tYXRjaEhlaWdodCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0XHR2YXIgb3B0cyA9IF9wYXJzZU9wdGlvbnMob3B0aW9ucyk7XG5cblx0XHQvLyBoYW5kbGUgcmVtb3ZlXG5cdFx0aWYgKG9wdHMucmVtb3ZlKSB7XG5cdFx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0XHRcdC8vIHJlbW92ZSBmaXhlZCBoZWlnaHQgZnJvbSBhbGwgc2VsZWN0ZWQgZWxlbWVudHNcblx0XHRcdHRoaXMuY3NzKG9wdHMucHJvcGVydHksICcnKTtcblxuXHRcdFx0Ly8gcmVtb3ZlIHNlbGVjdGVkIGVsZW1lbnRzIGZyb20gYWxsIGdyb3Vwc1xuXHRcdFx0JC5lYWNoKG1hdGNoSGVpZ2h0Ll9ncm91cHMsIGZ1bmN0aW9uKGtleSwgZ3JvdXApIHtcblx0XHRcdFx0Z3JvdXAuZWxlbWVudHMgPSBncm91cC5lbGVtZW50cy5ub3QodGhhdCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gVE9ETzogY2xlYW51cCBlbXB0eSBncm91cHNcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMubGVuZ3RoIDw9IDEgJiYgIW9wdHMudGFyZ2V0KSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHQvLyBrZWVwIHRyYWNrIG9mIHRoaXMgZ3JvdXAgc28gd2UgY2FuIHJlLWFwcGx5IGxhdGVyIG9uIGxvYWQgYW5kIHJlc2l6ZSBldmVudHNcblx0XHRtYXRjaEhlaWdodC5fZ3JvdXBzLnB1c2goe1xuXHRcdFx0ZWxlbWVudHM6IHRoaXMsXG5cdFx0XHRvcHRpb25zOiBvcHRzXG5cdFx0fSk7XG5cblx0XHQvLyBtYXRjaCBlYWNoIGVsZW1lbnQncyBoZWlnaHQgdG8gdGhlIHRhbGxlc3QgZWxlbWVudCBpbiB0aGUgc2VsZWN0aW9uXG5cdFx0bWF0Y2hIZWlnaHQuX2FwcGx5KHRoaXMsIG9wdHMpO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0Lypcblx0KiAgcGx1Z2luIGdsb2JhbCBvcHRpb25zXG5cdCovXG5cblx0bWF0Y2hIZWlnaHQudmVyc2lvbiA9ICcwLjcuMCc7XG5cdG1hdGNoSGVpZ2h0Ll9ncm91cHMgPSBbXTtcblx0bWF0Y2hIZWlnaHQuX3Rocm90dGxlID0gODA7XG5cdG1hdGNoSGVpZ2h0Ll9tYWludGFpblNjcm9sbCA9IGZhbHNlO1xuXHRtYXRjaEhlaWdodC5fYmVmb3JlVXBkYXRlID0gbnVsbDtcblx0bWF0Y2hIZWlnaHQuX2FmdGVyVXBkYXRlID0gbnVsbDtcblx0bWF0Y2hIZWlnaHQuX3Jvd3MgPSBfcm93cztcblx0bWF0Y2hIZWlnaHQuX3BhcnNlID0gX3BhcnNlO1xuXHRtYXRjaEhlaWdodC5fcGFyc2VPcHRpb25zID0gX3BhcnNlT3B0aW9ucztcblxuXHQvKlxuXHQqICBtYXRjaEhlaWdodC5fYXBwbHlcblx0KiAgYXBwbHkgbWF0Y2hIZWlnaHQgdG8gZ2l2ZW4gZWxlbWVudHNcblx0Ki9cblxuXHRtYXRjaEhlaWdodC5fYXBwbHkgPSBmdW5jdGlvbihlbGVtZW50cywgb3B0aW9ucykge1xuXHRcdHZhciBvcHRzID0gX3BhcnNlT3B0aW9ucyhvcHRpb25zKSxcblx0XHRcdCRlbGVtZW50cyA9ICQoZWxlbWVudHMpLFxuXHRcdFx0cm93cyA9IFskZWxlbWVudHNdO1xuXG5cdFx0Ly8gdGFrZSBub3RlIG9mIHNjcm9sbCBwb3NpdGlvblxuXHRcdHZhciBzY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCksXG5cdFx0XHRodG1sSGVpZ2h0ID0gJCgnaHRtbCcpLm91dGVySGVpZ2h0KHRydWUpO1xuXG5cdFx0Ly8gZ2V0IGhpZGRlbiBwYXJlbnRzXG5cdFx0dmFyICRoaWRkZW5QYXJlbnRzID0gJGVsZW1lbnRzLnBhcmVudHMoKS5maWx0ZXIoJzpoaWRkZW4nKTtcblxuXHRcdC8vIGNhY2hlIHRoZSBvcmlnaW5hbCBpbmxpbmUgc3R5bGVcblx0XHQkaGlkZGVuUGFyZW50cy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyICR0aGF0ID0gJCh0aGlzKTtcblx0XHRcdCR0aGF0LmRhdGEoJ3N0eWxlLWNhY2hlJywgJHRoYXQuYXR0cignc3R5bGUnKSk7XG5cdFx0fSk7XG5cblx0XHQvLyB0ZW1wb3JhcmlseSBtdXN0IGZvcmNlIGhpZGRlbiBwYXJlbnRzIHZpc2libGVcblx0XHQkaGlkZGVuUGFyZW50cy5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcblxuXHRcdC8vIGdldCByb3dzIGlmIHVzaW5nIGJ5Um93LCBvdGhlcndpc2UgYXNzdW1lIG9uZSByb3dcblx0XHRpZiAob3B0cy5ieVJvdyAmJiAhb3B0cy50YXJnZXQpIHtcblxuXHRcdFx0Ly8gbXVzdCBmaXJzdCBmb3JjZSBhbiBhcmJpdHJhcnkgZXF1YWwgaGVpZ2h0IHNvIGZsb2F0aW5nIGVsZW1lbnRzIGJyZWFrIGV2ZW5seVxuXHRcdFx0JGVsZW1lbnRzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciAkdGhhdCA9ICQodGhpcyksXG5cdFx0XHRcdFx0ZGlzcGxheSA9ICR0aGF0LmNzcygnZGlzcGxheScpO1xuXG5cdFx0XHRcdC8vIHRlbXBvcmFyaWx5IGZvcmNlIGEgdXNhYmxlIGRpc3BsYXkgdmFsdWVcblx0XHRcdFx0aWYgKGRpc3BsYXkgIT09ICdpbmxpbmUtYmxvY2snICYmIGRpc3BsYXkgIT09ICdmbGV4JyAmJiBkaXNwbGF5ICE9PSAnaW5saW5lLWZsZXgnKSB7XG5cdFx0XHRcdFx0ZGlzcGxheSA9ICdibG9jayc7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBjYWNoZSB0aGUgb3JpZ2luYWwgaW5saW5lIHN0eWxlXG5cdFx0XHRcdCR0aGF0LmRhdGEoJ3N0eWxlLWNhY2hlJywgJHRoYXQuYXR0cignc3R5bGUnKSk7XG5cblx0XHRcdFx0JHRoYXQuY3NzKHtcblx0XHRcdFx0XHQnZGlzcGxheSc6IGRpc3BsYXksXG5cdFx0XHRcdFx0J3BhZGRpbmctdG9wJzogJzAnLFxuXHRcdFx0XHRcdCdwYWRkaW5nLWJvdHRvbSc6ICcwJyxcblx0XHRcdFx0XHQnbWFyZ2luLXRvcCc6ICcwJyxcblx0XHRcdFx0XHQnbWFyZ2luLWJvdHRvbSc6ICcwJyxcblx0XHRcdFx0XHQnYm9yZGVyLXRvcC13aWR0aCc6ICcwJyxcblx0XHRcdFx0XHQnYm9yZGVyLWJvdHRvbS13aWR0aCc6ICcwJyxcblx0XHRcdFx0XHQnaGVpZ2h0JzogJzEwMHB4Jyxcblx0XHRcdFx0XHQnb3ZlcmZsb3cnOiAnaGlkZGVuJ1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBnZXQgdGhlIGFycmF5IG9mIHJvd3MgKGJhc2VkIG9uIGVsZW1lbnQgdG9wIHBvc2l0aW9uKVxuXHRcdFx0cm93cyA9IF9yb3dzKCRlbGVtZW50cyk7XG5cblx0XHRcdC8vIHJldmVydCBvcmlnaW5hbCBpbmxpbmUgc3R5bGVzXG5cdFx0XHQkZWxlbWVudHMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyICR0aGF0ID0gJCh0aGlzKTtcblx0XHRcdFx0JHRoYXQuYXR0cignc3R5bGUnLCAkdGhhdC5kYXRhKCdzdHlsZS1jYWNoZScpIHx8ICcnKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdCQuZWFjaChyb3dzLCBmdW5jdGlvbihrZXksIHJvdykge1xuXHRcdFx0dmFyICRyb3cgPSAkKHJvdyksXG5cdFx0XHRcdHRhcmdldEhlaWdodCA9IDA7XG5cblx0XHRcdGlmICghb3B0cy50YXJnZXQpIHtcblx0XHRcdFx0Ly8gc2tpcCBhcHBseSB0byByb3dzIHdpdGggb25seSBvbmUgaXRlbVxuXHRcdFx0XHRpZiAob3B0cy5ieVJvdyAmJiAkcm93Lmxlbmd0aCA8PSAxKSB7XG5cdFx0XHRcdFx0JHJvdy5jc3Mob3B0cy5wcm9wZXJ0eSwgJycpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGl0ZXJhdGUgdGhlIHJvdyBhbmQgZmluZCB0aGUgbWF4IGhlaWdodFxuXHRcdFx0XHQkcm93LmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdFx0XHR2YXIgJHRoYXQgPSAkKHRoaXMpLFxuXHRcdFx0XHRcdFx0c3R5bGUgPSAkdGhhdC5hdHRyKCdzdHlsZScpLFxuXHRcdFx0XHRcdFx0ZGlzcGxheSA9ICR0aGF0LmNzcygnZGlzcGxheScpO1xuXG5cdFx0XHRcdFx0Ly8gdGVtcG9yYXJpbHkgZm9yY2UgYSB1c2FibGUgZGlzcGxheSB2YWx1ZVxuXHRcdFx0XHRcdGlmIChkaXNwbGF5ICE9PSAnaW5saW5lLWJsb2NrJyAmJiBkaXNwbGF5ICE9PSAnZmxleCcgJiYgZGlzcGxheSAhPT0gJ2lubGluZS1mbGV4Jykge1xuXHRcdFx0XHRcdFx0ZGlzcGxheSA9ICdibG9jayc7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gZW5zdXJlIHdlIGdldCB0aGUgY29ycmVjdCBhY3R1YWwgaGVpZ2h0IChhbmQgbm90IGEgcHJldmlvdXNseSBzZXQgaGVpZ2h0IHZhbHVlKVxuXHRcdFx0XHRcdHZhciBjc3MgPSB7ICdkaXNwbGF5JzogZGlzcGxheSB9O1xuXHRcdFx0XHRcdGNzc1tvcHRzLnByb3BlcnR5XSA9ICcnO1xuXHRcdFx0XHRcdCR0aGF0LmNzcyhjc3MpO1xuXG5cdFx0XHRcdFx0Ly8gZmluZCB0aGUgbWF4IGhlaWdodCAoaW5jbHVkaW5nIHBhZGRpbmcsIGJ1dCBub3QgbWFyZ2luKVxuXHRcdFx0XHRcdGlmICgkdGhhdC5vdXRlckhlaWdodChmYWxzZSkgPiB0YXJnZXRIZWlnaHQpIHtcblx0XHRcdFx0XHRcdHRhcmdldEhlaWdodCA9ICR0aGF0Lm91dGVySGVpZ2h0KGZhbHNlKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyByZXZlcnQgc3R5bGVzXG5cdFx0XHRcdFx0aWYgKHN0eWxlKSB7XG5cdFx0XHRcdFx0XHQkdGhhdC5hdHRyKCdzdHlsZScsIHN0eWxlKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0JHRoYXQuY3NzKCdkaXNwbGF5JywgJycpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBpZiB0YXJnZXQgc2V0LCB1c2UgdGhlIGhlaWdodCBvZiB0aGUgdGFyZ2V0IGVsZW1lbnRcblx0XHRcdFx0dGFyZ2V0SGVpZ2h0ID0gb3B0cy50YXJnZXQub3V0ZXJIZWlnaHQoZmFsc2UpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBpdGVyYXRlIHRoZSByb3cgYW5kIGFwcGx5IHRoZSBoZWlnaHQgdG8gYWxsIGVsZW1lbnRzXG5cdFx0XHQkcm93LmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdFx0dmFyICR0aGF0ID0gJCh0aGlzKSxcblx0XHRcdFx0XHR2ZXJ0aWNhbFBhZGRpbmcgPSAwO1xuXG5cdFx0XHRcdC8vIGRvbid0IGFwcGx5IHRvIGEgdGFyZ2V0XG5cdFx0XHRcdGlmIChvcHRzLnRhcmdldCAmJiAkdGhhdC5pcyhvcHRzLnRhcmdldCkpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBoYW5kbGUgcGFkZGluZyBhbmQgYm9yZGVyIGNvcnJlY3RseSAocmVxdWlyZWQgd2hlbiBub3QgdXNpbmcgYm9yZGVyLWJveClcblx0XHRcdFx0aWYgKCR0aGF0LmNzcygnYm94LXNpemluZycpICE9PSAnYm9yZGVyLWJveCcpIHtcblx0XHRcdFx0XHR2ZXJ0aWNhbFBhZGRpbmcgKz0gX3BhcnNlKCR0aGF0LmNzcygnYm9yZGVyLXRvcC13aWR0aCcpKSArIF9wYXJzZSgkdGhhdC5jc3MoJ2JvcmRlci1ib3R0b20td2lkdGgnKSk7XG5cdFx0XHRcdFx0dmVydGljYWxQYWRkaW5nICs9IF9wYXJzZSgkdGhhdC5jc3MoJ3BhZGRpbmctdG9wJykpICsgX3BhcnNlKCR0aGF0LmNzcygncGFkZGluZy1ib3R0b20nKSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBzZXQgdGhlIGhlaWdodCAoYWNjb3VudGluZyBmb3IgcGFkZGluZyBhbmQgYm9yZGVyKVxuXHRcdFx0XHQkdGhhdC5jc3Mob3B0cy5wcm9wZXJ0eSwgKHRhcmdldEhlaWdodCAtIHZlcnRpY2FsUGFkZGluZykgKyAncHgnKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gcmV2ZXJ0IGhpZGRlbiBwYXJlbnRzXG5cdFx0JGhpZGRlblBhcmVudHMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdHZhciAkdGhhdCA9ICQodGhpcyk7XG5cdFx0XHQkdGhhdC5hdHRyKCdzdHlsZScsICR0aGF0LmRhdGEoJ3N0eWxlLWNhY2hlJykgfHwgbnVsbCk7XG5cdFx0fSk7XG5cblx0XHQvLyByZXN0b3JlIHNjcm9sbCBwb3NpdGlvbiBpZiBlbmFibGVkXG5cdFx0aWYgKG1hdGNoSGVpZ2h0Ll9tYWludGFpblNjcm9sbCkge1xuXHRcdFx0JCh3aW5kb3cpLnNjcm9sbFRvcCgoc2Nyb2xsVG9wIC8gaHRtbEhlaWdodCkgKiAkKCdodG1sJykub3V0ZXJIZWlnaHQodHJ1ZSkpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qXG5cdCogIG1hdGNoSGVpZ2h0Ll9hcHBseURhdGFBcGlcblx0KiAgYXBwbGllcyBtYXRjaEhlaWdodCB0byBhbGwgZWxlbWVudHMgd2l0aCBhIGRhdGEtbWF0Y2gtaGVpZ2h0IGF0dHJpYnV0ZVxuXHQqL1xuXG5cdG1hdGNoSGVpZ2h0Ll9hcHBseURhdGFBcGkgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgZ3JvdXBzID0ge307XG5cblx0XHQvLyBnZW5lcmF0ZSBncm91cHMgYnkgdGhlaXIgZ3JvdXBJZCBzZXQgYnkgZWxlbWVudHMgdXNpbmcgZGF0YS1tYXRjaC1oZWlnaHRcblx0XHQkKCdbZGF0YS1tYXRjaC1oZWlnaHRdLCBbZGF0YS1taF0nKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyICR0aGlzID0gJCh0aGlzKSxcblx0XHRcdFx0Z3JvdXBJZCA9ICR0aGlzLmF0dHIoJ2RhdGEtbWgnKSB8fCAkdGhpcy5hdHRyKCdkYXRhLW1hdGNoLWhlaWdodCcpO1xuXG5cdFx0XHRpZiAoZ3JvdXBJZCBpbiBncm91cHMpIHtcblx0XHRcdFx0Z3JvdXBzW2dyb3VwSWRdID0gZ3JvdXBzW2dyb3VwSWRdLmFkZCgkdGhpcyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRncm91cHNbZ3JvdXBJZF0gPSAkdGhpcztcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIGFwcGx5IG1hdGNoSGVpZ2h0IHRvIGVhY2ggZ3JvdXBcblx0XHQkLmVhY2goZ3JvdXBzLCBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMubWF0Y2hIZWlnaHQodHJ1ZSk7XG5cdFx0fSk7XG5cdH07XG5cblx0Lypcblx0KiAgbWF0Y2hIZWlnaHQuX3VwZGF0ZVxuXHQqICB1cGRhdGVzIG1hdGNoSGVpZ2h0IG9uIGFsbCBjdXJyZW50IGdyb3VwcyB3aXRoIHRoZWlyIGNvcnJlY3Qgb3B0aW9uc1xuXHQqL1xuXG5cdHZhciBfdXBkYXRlID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRpZiAobWF0Y2hIZWlnaHQuX2JlZm9yZVVwZGF0ZSkge1xuXHRcdFx0bWF0Y2hIZWlnaHQuX2JlZm9yZVVwZGF0ZShldmVudCwgbWF0Y2hIZWlnaHQuX2dyb3Vwcyk7XG5cdFx0fVxuXG5cdFx0JC5lYWNoKG1hdGNoSGVpZ2h0Ll9ncm91cHMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0bWF0Y2hIZWlnaHQuX2FwcGx5KHRoaXMuZWxlbWVudHMsIHRoaXMub3B0aW9ucyk7XG5cdFx0fSk7XG5cblx0XHRpZiAobWF0Y2hIZWlnaHQuX2FmdGVyVXBkYXRlKSB7XG5cdFx0XHRtYXRjaEhlaWdodC5fYWZ0ZXJVcGRhdGUoZXZlbnQsIG1hdGNoSGVpZ2h0Ll9ncm91cHMpO1xuXHRcdH1cblx0fTtcblxuXHRtYXRjaEhlaWdodC5fdXBkYXRlID0gZnVuY3Rpb24odGhyb3R0bGUsIGV2ZW50KSB7XG5cdFx0Ly8gcHJldmVudCB1cGRhdGUgaWYgZmlyZWQgZnJvbSBhIHJlc2l6ZSBldmVudFxuXHRcdC8vIHdoZXJlIHRoZSB2aWV3cG9ydCB3aWR0aCBoYXNuJ3QgYWN0dWFsbHkgY2hhbmdlZFxuXHRcdC8vIGZpeGVzIGFuIGV2ZW50IGxvb3BpbmcgYnVnIGluIElFOFxuXHRcdGlmIChldmVudCAmJiBldmVudC50eXBlID09PSAncmVzaXplJykge1xuXHRcdFx0dmFyIHdpbmRvd1dpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XG5cdFx0XHRpZiAod2luZG93V2lkdGggPT09IF9wcmV2aW91c1Jlc2l6ZVdpZHRoKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdF9wcmV2aW91c1Jlc2l6ZVdpZHRoID0gd2luZG93V2lkdGg7XG5cdFx0fVxuXG5cdFx0Ly8gdGhyb3R0bGUgdXBkYXRlc1xuXHRcdGlmICghdGhyb3R0bGUpIHtcblx0XHRcdF91cGRhdGUoZXZlbnQpO1xuXHRcdH0gZWxzZSBpZiAoX3VwZGF0ZVRpbWVvdXQgPT09IC0xKSB7XG5cdFx0XHRfdXBkYXRlVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdF91cGRhdGUoZXZlbnQpO1xuXHRcdFx0XHRfdXBkYXRlVGltZW91dCA9IC0xO1xuXHRcdFx0fSwgbWF0Y2hIZWlnaHQuX3Rocm90dGxlKTtcblx0XHR9XG5cdH07XG5cblx0Lypcblx0KiAgYmluZCBldmVudHNcblx0Ki9cblxuXHQvLyBhcHBseSBvbiBET00gcmVhZHkgZXZlbnRcblx0JChtYXRjaEhlaWdodC5fYXBwbHlEYXRhQXBpKTtcblxuXHQvLyB1cGRhdGUgaGVpZ2h0cyBvbiBsb2FkIGFuZCByZXNpemUgZXZlbnRzXG5cdCQod2luZG93KS5iaW5kKCdsb2FkJywgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRtYXRjaEhlaWdodC5fdXBkYXRlKGZhbHNlLCBldmVudCk7XG5cdH0pO1xuXG5cdC8vIHRocm90dGxlZCB1cGRhdGUgaGVpZ2h0cyBvbiByZXNpemUgZXZlbnRzXG5cdCQod2luZG93KS5iaW5kKCdyZXNpemUgb3JpZW50YXRpb25jaGFuZ2UnLCBmdW5jdGlvbihldmVudCkge1xuXHRcdG1hdGNoSGVpZ2h0Ll91cGRhdGUodHJ1ZSwgZXZlbnQpO1xuXHR9KTtcblxufSk7Il19
