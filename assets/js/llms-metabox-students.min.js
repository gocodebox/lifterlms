!function(d){window.llms=window.llms||{};window.llms.MetaboxStudents=new function(){this.init=function(){window.llms.post.post_type&&-1!==["course","llms_membership"].indexOf(window.llms.post.post_type)&&(this.$metabox=d("#lifterlms-students"),this.bind())},this.bind=function(){var e=this;this.$metabox.on("click","a.llms-remove-student",function(t){t.preventDefault(),e.remove_student(d(this))}),this.$metabox.on("click","a.llms-delete-enrollment",function(t){t.preventDefault(),e.delete_student_enrollment(d(this))}),this.$metabox.on("click","a.llms-add-student",function(t){t.preventDefault(),e.add_student(d(this))}),d("#llms-add-student-select").llmsStudentsSelect2({multiple:!0}),d("#llms-enroll-students").on("click",function(){e.enroll_students(d(this))})},this.add_student=function(t){this.update_student_enrollment(t.attr("data-id"),"add")},this.enroll_students=function(e){var n=d("#llms-add-student-select"),s=n.val(),l=this.$metabox.find(".llms-metabox-students-add-new");LLMS.Spinner.start(l),window.LLMS.Ajax.call({data:{action:"bulk_enroll_students",student_ids:s},beforeSend:function(t){s||(e.before('<span class="llms-error">'+LLMS.l10n.translate("Please select a student to enroll")+"</span>"),t.abort(),LLMS.Spinner.stop(l))},success:function(t){n.val(null).trigger("change"),LLMS.Spinner.stop(l),window.llms.admin_tables.reload(d("#llms-gb-table-student-management"))}})},this.remove_student=function(t){this.update_student_enrollment(t.attr("data-id"),"remove")},this.delete_student_enrollment=function(t){this.update_student_enrollment(t.attr("data-id"),"delete")},this.update_student_enrollment=function(t,e){var n=d("#llms-gb-table-student-management"),s=n.closest(".llms-table-wrap");LLMS.Spinner.start(s),window.LLMS.Ajax.call({data:{action:"update_student_enrollment",status:e,student_id:t},success:function(){window.llms.admin_tables.reload(n)}})},this.init()}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMtbWV0YWJveC1zdHVkZW50cy5qcyJdLCJuYW1lcyI6WyIkIiwid2luZG93IiwibGxtcyIsIk1ldGFib3hTdHVkZW50cyIsInRoaXMiLCJpbml0IiwicG9zdCIsInBvc3RfdHlwZSIsImluZGV4T2YiLCIkbWV0YWJveCIsImJpbmQiLCJzZWxmIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJyZW1vdmVfc3R1ZGVudCIsImRlbGV0ZV9zdHVkZW50X2Vucm9sbG1lbnQiLCJhZGRfc3R1ZGVudCIsImxsbXNTdHVkZW50c1NlbGVjdDIiLCJtdWx0aXBsZSIsImVucm9sbF9zdHVkZW50cyIsIiRlbCIsInVwZGF0ZV9zdHVkZW50X2Vucm9sbG1lbnQiLCJhdHRyIiwiJHNlbGVjdCIsImlkcyIsInZhbCIsIiRjb250YWluZXIiLCJmaW5kIiwiTExNUyIsIlNwaW5uZXIiLCJzdGFydCIsIkFqYXgiLCJjYWxsIiwiZGF0YSIsImFjdGlvbiIsInN0dWRlbnRfaWRzIiwiYmVmb3JlU2VuZCIsInhociIsImJlZm9yZSIsImwxMG4iLCJ0cmFuc2xhdGUiLCJhYm9ydCIsInN0b3AiLCJzdWNjZXNzIiwiciIsInRyaWdnZXIiLCJhZG1pbl90YWJsZXMiLCJyZWxvYWQiLCJpZCIsInN0YXR1cyIsIiR0YWJsZSIsImNsb3Nlc3QiLCJzdHVkZW50X2lkIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FNQSxTQUFZQSxHQUVYQyxPQUFPQyxLQUFPRCxPQUFPQyxNQUFRLEdBeUs3QkQsT0FBT0MsS0FBS0MsZ0JBQWtCLElBdktSLFdBUXJCQyxLQUFLQyxLQUFPLFdBSU5KLE9BQU9DLEtBQUtJLEtBQUtDLFlBQWMsSUFGdEIsQ0FBRSxTQUFVLG1CQUV3QkMsUUFBU1AsT0FBT0MsS0FBS0ksS0FBS0MsYUFFM0VILEtBQUtLLFNBQVdULEVBQUcsdUJBRW5CSSxLQUFLTSxTQWNQTixLQUFLTSxLQUFPLFdBRVgsSUFBSUMsRUFBT1AsS0FFWEEsS0FBS0ssU0FBU0csR0FBSSxRQUFTLHdCQUF5QixTQUFVQyxHQUM3REEsRUFBRUMsaUJBQ0ZILEVBQUtJLGVBQWdCZixFQUFHSSxTQUd6QkEsS0FBS0ssU0FBU0csR0FBSSxRQUFTLDJCQUE0QixTQUFVQyxHQUNoRUEsRUFBRUMsaUJBQ0ZILEVBQUtLLDBCQUEyQmhCLEVBQUdJLFNBR3BDQSxLQUFLSyxTQUFTRyxHQUFJLFFBQVMscUJBQXNCLFNBQVVDLEdBQzFEQSxFQUFFQyxpQkFDRkgsRUFBS00sWUFBYWpCLEVBQUdJLFNBR3RCSixFQUFHLDRCQUE2QmtCLG9CQUFxQixDQUFFQyxVQUFVLElBRWpFbkIsRUFBRyx5QkFBMEJZLEdBQUksUUFBUyxXQUN6Q0QsRUFBS1MsZ0JBQWlCcEIsRUFBR0ksVUFXM0JBLEtBQUthLFlBQWMsU0FBVUksR0FDNUJqQixLQUFLa0IsMEJBQTJCRCxFQUFJRSxLQUFNLFdBQWEsUUFVeERuQixLQUFLZ0IsZ0JBQWtCLFNBQVVDLEdBRWhDLElBQ0NHLEVBQVV4QixFQUFHLDRCQUNieUIsRUFBTUQsRUFBUUUsTUFDZEMsRUFBYXZCLEtBQUtLLFNBQVNtQixLQUFNLGtDQUVsQ0MsS0FBS0MsUUFBUUMsTUFBT0osR0FFcEIxQixPQUFPNEIsS0FBS0csS0FBS0MsS0FBTSxDQUN0QkMsS0FBTSxDQUNMQyxPQUFRLHVCQUNSQyxZQUFhWCxHQUVkWSxXQUFZLFNBQVVDLEdBQ2RiLElBQ05KLEVBQUlrQixPQUFRLDRCQUE4QlYsS0FBS1csS0FBS0MsVUFBVyxxQ0FBd0MsV0FDdkdILEVBQUlJLFFBQ0piLEtBQUtDLFFBQVFhLEtBQU1oQixLQUdyQmlCLFFBQVMsU0FBVUMsR0FFbEJyQixFQUFRRSxJQUFLLE1BQU9vQixRQUFTLFVBQzdCakIsS0FBS0MsUUFBUWEsS0FBTWhCLEdBQ25CMUIsT0FBT0MsS0FBSzZDLGFBQWFDLE9BQVFoRCxFQUFHLDBDQWV2Q0ksS0FBS1csZUFBaUIsU0FBVU0sR0FDL0JqQixLQUFLa0IsMEJBQTJCRCxFQUFJRSxLQUFNLFdBQWEsV0FXeERuQixLQUFLWSwwQkFBNEIsU0FBVUssR0FDMUNqQixLQUFLa0IsMEJBQTJCRCxFQUFJRSxLQUFNLFdBQWEsV0FZeERuQixLQUFLa0IsMEJBQTRCLFNBQVUyQixFQUFJQyxHQUU5QyxJQUFJQyxFQUFTbkQsRUFBRyxxQ0FDZjJCLEVBQWF3QixFQUFPQyxRQUFTLG9CQUU5QnZCLEtBQUtDLFFBQVFDLE1BQU9KLEdBRXBCMUIsT0FBTzRCLEtBQUtHLEtBQUtDLEtBQU0sQ0FDdEJDLEtBQU0sQ0FDTEMsT0FBUSw0QkFDUmUsT0FBUUEsRUFDUkcsV0FBWUosR0FFYkwsUUFBUyxXQUVSM0MsT0FBT0MsS0FBSzZDLGFBQWFDLE9BQVFHLE9BUXBDL0MsS0FBS0MsUUF0S1AsQ0E2S0tpRCIsImZpbGUiOiJsbG1zLW1ldGFib3gtc3R1ZGVudHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWZ0ZXJMTVMgU3R1ZGVudHMgTWV0YWJveCBGdW5jdGlvbnNcbiAqXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBzaW5jZSAzLjMzLjAgQWRkZWQgdGhlIGxvZ2ljIHRvIGhhbmRsZSB0aGUgU3R1ZGVudCdzIGVucm9sbG1lbnQgZGVsZXRpb24uXG4gKi9cbiggZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcblxuXHR3aW5kb3cubGxtcyA9IHdpbmRvdy5sbG1zIHx8IHt9O1xuXG5cdHZhciBNZXRhYm94U3R1ZGVudHMgPSBmdW5jdGlvbigpIHtcblxuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemVcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKiBAc2luY2UgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0dGhpcy5pbml0ID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciBzY3JlZW5zID0gWyAnY291cnNlJywgJ2xsbXNfbWVtYmVyc2hpcCcgXTtcblxuXHRcdFx0aWYgKCB3aW5kb3cubGxtcy5wb3N0LnBvc3RfdHlwZSAmJiAtMSAhPT0gc2NyZWVucy5pbmRleE9mKCB3aW5kb3cubGxtcy5wb3N0LnBvc3RfdHlwZSApICkge1xuXG5cdFx0XHRcdHRoaXMuJG1ldGFib3ggPSAkKCAnI2xpZnRlcmxtcy1zdHVkZW50cycgKTtcblxuXHRcdFx0XHR0aGlzLmJpbmQoKTtcblx0XHRcdH1cblxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBCaW5kIGRvbSBldmVudHNcblx0XHQgKlxuXHRcdCAqIEBzaW5jZSAzLjAuMFxuXHRcdCAqIEBzaW5jZSAzLjQuMCBVbmtub3duLlxuXHRcdCAqIEBzaW5jZSAzLjMzLjAgQWRkZWQgZW5yb2xsbWVudCBkZWxldGlvbiBoYW5kbGVycy5cblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdHRoaXMuYmluZCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHRoaXMuJG1ldGFib3gub24oICdjbGljaycsICdhLmxsbXMtcmVtb3ZlLXN0dWRlbnQnLCBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRzZWxmLnJlbW92ZV9zdHVkZW50KCAkKCB0aGlzICkgKTtcblx0XHRcdH0gKTtcblxuXHRcdFx0dGhpcy4kbWV0YWJveC5vbiggJ2NsaWNrJywgJ2EubGxtcy1kZWxldGUtZW5yb2xsbWVudCcsIGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdHNlbGYuZGVsZXRlX3N0dWRlbnRfZW5yb2xsbWVudCggJCggdGhpcyApICk7XG5cdFx0XHR9ICk7XG5cblx0XHRcdHRoaXMuJG1ldGFib3gub24oICdjbGljaycsICdhLmxsbXMtYWRkLXN0dWRlbnQnLCBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRzZWxmLmFkZF9zdHVkZW50KCAkKCB0aGlzICkgKTtcblx0XHRcdH0gKTtcblxuXHRcdFx0JCggJyNsbG1zLWFkZC1zdHVkZW50LXNlbGVjdCcgKS5sbG1zU3R1ZGVudHNTZWxlY3QyKCB7IG11bHRpcGxlOiB0cnVlIH0gKTtcblxuXHRcdFx0JCggJyNsbG1zLWVucm9sbC1zdHVkZW50cycgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYuZW5yb2xsX3N0dWRlbnRzKCAkKCB0aGlzICkgKTtcblx0XHRcdH0gKTtcblxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBBZGQgYSBTdHVkZW50XG5cdFx0ICogQHBhcmFtICAgIG9iaiAgJGVsICBqUXVlcnkgc2VsZWN0b3Igb2YgdGhlIGFkZCBidXR0b25cblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHR0aGlzLmFkZF9zdHVkZW50ID0gZnVuY3Rpb24oICRlbCApIHtcblx0XHRcdHRoaXMudXBkYXRlX3N0dWRlbnRfZW5yb2xsbWVudCggJGVsLmF0dHIoICdkYXRhLWlkJyApLCAnYWRkJyApO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBIYW5kbGUgYnVsayBlbnJvbGxtZW50IHZpYSBcIkVucm9sbCBOZXcgU3R1ZGVudHNcIiBhcmVhXG5cdFx0ICogQHBhcmFtICAgIG9iaiAgICRlbCAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgdHJpZ2dlcmluZyBidXR0b25cblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjQuMFxuXHRcdCAqL1xuXHRcdHRoaXMuZW5yb2xsX3N0dWRlbnRzID0gZnVuY3Rpb24oICRlbCApIHtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHQkc2VsZWN0ID0gJCggJyNsbG1zLWFkZC1zdHVkZW50LXNlbGVjdCcgKSxcblx0XHRcdFx0aWRzID0gJHNlbGVjdC52YWwoKSxcblx0XHRcdFx0JGNvbnRhaW5lciA9IHRoaXMuJG1ldGFib3guZmluZCggJy5sbG1zLW1ldGFib3gtc3R1ZGVudHMtYWRkLW5ldycgKTtcblxuXHRcdFx0TExNUy5TcGlubmVyLnN0YXJ0KCAkY29udGFpbmVyICk7XG5cblx0XHRcdHdpbmRvdy5MTE1TLkFqYXguY2FsbCgge1xuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0YWN0aW9uOiAnYnVsa19lbnJvbGxfc3R1ZGVudHMnLFxuXHRcdFx0XHRcdHN0dWRlbnRfaWRzOiBpZHMsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCB4aHIgKSB7XG5cdFx0XHRcdFx0aWYgKCAhIGlkcyApIHtcblx0XHRcdFx0XHRcdCRlbC5iZWZvcmUoICc8c3BhbiBjbGFzcz1cImxsbXMtZXJyb3JcIj4nICsgTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1BsZWFzZSBzZWxlY3QgYSBzdHVkZW50IHRvIGVucm9sbCcgKSArICc8L3NwYW4+JyApO1xuXHRcdFx0XHRcdFx0eGhyLmFib3J0KCk7XG5cdFx0XHRcdFx0XHRMTE1TLlNwaW5uZXIuc3RvcCggJGNvbnRhaW5lciApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oIHIgKSB7XG5cblx0XHRcdFx0XHQkc2VsZWN0LnZhbCggbnVsbCApLnRyaWdnZXIoICdjaGFuZ2UnICk7XG5cdFx0XHRcdFx0TExNUy5TcGlubmVyLnN0b3AoICRjb250YWluZXIgKTtcblx0XHRcdFx0XHR3aW5kb3cubGxtcy5hZG1pbl90YWJsZXMucmVsb2FkKCAkKCAnI2xsbXMtZ2ItdGFibGUtc3R1ZGVudC1tYW5hZ2VtZW50JyApICk7XG5cblx0XHRcdFx0fSxcblx0XHRcdH0gKTtcblxuXG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogUmVtb3ZlIGEgU3R1ZGVudFxuXHRcdCAqIEBwYXJhbSAgICBvYmogICRlbCAgalF1ZXJ5IHNlbGVjdG9yIG9mIHRoZSBhZGQgYnV0dG9uXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0dGhpcy5yZW1vdmVfc3R1ZGVudCA9IGZ1bmN0aW9uKCAkZWwgKSB7XG5cdFx0XHR0aGlzLnVwZGF0ZV9zdHVkZW50X2Vucm9sbG1lbnQoICRlbC5hdHRyKCAnZGF0YS1pZCcgKSwgJ3JlbW92ZScgKTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogRGVsZXRlIGEgU3R1ZGVudCdzIGVucm9sbG1lbnQuXG5cdFx0ICpcblx0XHQgKiBAc2luY2UgMy4zMy4wXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gIG9iaiAgJGVsICBqUXVlcnkgc2VsZWN0b3Igb2YgdGhlIGFkZCBidXR0b24uXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICovXG5cdFx0dGhpcy5kZWxldGVfc3R1ZGVudF9lbnJvbGxtZW50ID0gZnVuY3Rpb24oICRlbCApIHtcblx0XHRcdHRoaXMudXBkYXRlX3N0dWRlbnRfZW5yb2xsbWVudCggJGVsLmF0dHIoICdkYXRhLWlkJyApLCAnZGVsZXRlJyApO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBFeGVjdXRlIEFKQVggY2FsbCwgYWRkIHNwaW5uZXJzLCB1cGRhdGUgaHRtbCB2aWV3XG5cdFx0ICpcblx0XHQgKiBAc2luY2UgMy4wLjBcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBpbnQgaWQgU3R1ZGVudCBpZC5cblx0XHQgKiBAcGFyYW0gc3RyaW5nIHN0YXR1cyBOZXcgc3RhdHVzIFthZGR8cmVtb3ZlfGRlbGV0ZV0uXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICovXG5cdFx0dGhpcy51cGRhdGVfc3R1ZGVudF9lbnJvbGxtZW50ID0gZnVuY3Rpb24oIGlkLCBzdGF0dXMgKSB7XG5cblx0XHRcdHZhciAkdGFibGUgPSAkKCAnI2xsbXMtZ2ItdGFibGUtc3R1ZGVudC1tYW5hZ2VtZW50JyApLFxuXHRcdFx0XHQkY29udGFpbmVyID0gJHRhYmxlLmNsb3Nlc3QoICcubGxtcy10YWJsZS13cmFwJyApO1xuXG5cdFx0XHRMTE1TLlNwaW5uZXIuc3RhcnQoICRjb250YWluZXIgKTtcblxuXHRcdFx0d2luZG93LkxMTVMuQWpheC5jYWxsKCB7XG5cdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRhY3Rpb246ICd1cGRhdGVfc3R1ZGVudF9lbnJvbGxtZW50Jyxcblx0XHRcdFx0XHRzdGF0dXM6IHN0YXR1cyxcblx0XHRcdFx0XHRzdHVkZW50X2lkOiBpZCxcblx0XHRcdFx0fSxcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Ly8gc3Bpbm5lciBkb2Vzbid0IHN0b3AgYmVjYXVzZSB0aGUgdGFibGUgcmVsb2FkZXIgd2lsbCBzdG9wIGl0XG5cdFx0XHRcdFx0d2luZG93LmxsbXMuYWRtaW5fdGFibGVzLnJlbG9hZCggJHRhYmxlICk7XG5cdFx0XHRcdH0sXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cblx0XHQvLyBnb1xuXHRcdHRoaXMuaW5pdCgpO1xuXG5cdH07XG5cblx0Ly8gaW5pdGlhbGl6ZSB0aGUgb2JqZWN0XG5cdHdpbmRvdy5sbG1zLk1ldGFib3hTdHVkZW50cyA9IG5ldyBNZXRhYm94U3R1ZGVudHMoKTtcblxufSApKCBqUXVlcnkgKTtcbiJdfQ==
