!function(d){window.llms=window.llms||{};window.llms.MetaboxStudents=new function(){this.init=function(){window.llms.post.post_type&&-1!==["course","llms_membership"].indexOf(window.llms.post.post_type)&&(this.$metabox=d("#lifterlms-students"),this.bind())},this.bind=function(){var e=this;this.$metabox.on("click","a.llms-remove-student",function(t){t.preventDefault(),e.remove_student(d(this))}),this.$metabox.on("click","a.llms-delete-enrollment",function(t){t.preventDefault(),e.delete_student_enrollment(d(this))}),this.$metabox.on("click","a.llms-add-student",function(t){t.preventDefault(),e.add_student(d(this))}),d("#llms-add-student-select").llmsStudentsSelect2({multiple:!0}),d("#llms-enroll-students").on("click",function(){e.enroll_students(d(this))})},this.add_student=function(t){this.update_student_enrollment(t.attr("data-id"),"add")},this.enroll_students=function(e){var n=d("#llms-add-student-select"),s=n.val(),l=this.$metabox.find(".llms-metabox-students-add-new");LLMS.Spinner.start(l),window.LLMS.Ajax.call({data:{action:"bulk_enroll_students",student_ids:s},beforeSend:function(t){s||(e.before('<span class="llms-error">'+LLMS.l10n.translate("Please select a student to enroll")+"</span>"),t.abort(),LLMS.Spinner.stop(l))},success:function(t){n.val(null).trigger("change"),LLMS.Spinner.stop(l),window.llms.admin_tables.reload(d("#llms-gb-table-student-management"))}})},this.remove_student=function(t){this.update_student_enrollment(t.attr("data-id"),"remove")},this.delete_student_enrollment=function(t){this.update_student_enrollment(t.attr("data-id"),"delete")},this.update_student_enrollment=function(t,e){var n=d("#llms-gb-table-student-management"),s=n.closest(".llms-table-wrap");LLMS.Spinner.start(s),window.LLMS.Ajax.call({data:{action:"update_student_enrollment",status:e,student_id:t},success:function(){window.llms.admin_tables.reload(n)}})},this.init()}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMtbWV0YWJveC1zdHVkZW50cy5qcyJdLCJuYW1lcyI6WyIkIiwid2luZG93IiwibGxtcyIsIk1ldGFib3hTdHVkZW50cyIsInRoaXMiLCJpbml0IiwicG9zdCIsInBvc3RfdHlwZSIsImluZGV4T2YiLCIkbWV0YWJveCIsImJpbmQiLCJzZWxmIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJyZW1vdmVfc3R1ZGVudCIsImRlbGV0ZV9zdHVkZW50X2Vucm9sbG1lbnQiLCJhZGRfc3R1ZGVudCIsImxsbXNTdHVkZW50c1NlbGVjdDIiLCJtdWx0aXBsZSIsImVucm9sbF9zdHVkZW50cyIsIiRlbCIsInVwZGF0ZV9zdHVkZW50X2Vucm9sbG1lbnQiLCJhdHRyIiwiJHNlbGVjdCIsImlkcyIsInZhbCIsIiRjb250YWluZXIiLCJmaW5kIiwiTExNUyIsIlNwaW5uZXIiLCJzdGFydCIsIkFqYXgiLCJjYWxsIiwiZGF0YSIsImFjdGlvbiIsInN0dWRlbnRfaWRzIiwiYmVmb3JlU2VuZCIsInhociIsImJlZm9yZSIsImwxMG4iLCJ0cmFuc2xhdGUiLCJhYm9ydCIsInN0b3AiLCJzdWNjZXNzIiwiciIsInRyaWdnZXIiLCJhZG1pbl90YWJsZXMiLCJyZWxvYWQiLCJpZCIsInN0YXR1cyIsIiR0YWJsZSIsImNsb3Nlc3QiLCJzdHVkZW50X2lkIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FlQSxTQUFZQSxHQUVYQyxPQUFPQyxLQUFPRCxPQUFPQyxNQUFRLEdBMEs3QkQsT0FBT0MsS0FBS0MsZ0JBQWtCLElBeEtSLFdBU3JCQyxLQUFLQyxLQUFPLFdBSU5KLE9BQU9DLEtBQUtJLEtBQUtDLFlBQWMsSUFGdEIsQ0FBRSxTQUFVLG1CQUV3QkMsUUFBU1AsT0FBT0MsS0FBS0ksS0FBS0MsYUFFM0VILEtBQUtLLFNBQVdULEVBQUcsdUJBRW5CSSxLQUFLTSxTQWNQTixLQUFLTSxLQUFPLFdBRVgsSUFBSUMsRUFBT1AsS0FFWEEsS0FBS0ssU0FBU0csR0FBSSxRQUFTLHdCQUF5QixTQUFVQyxHQUM3REEsRUFBRUMsaUJBQ0ZILEVBQUtJLGVBQWdCZixFQUFHSSxTQUd6QkEsS0FBS0ssU0FBU0csR0FBSSxRQUFTLDJCQUE0QixTQUFVQyxHQUNoRUEsRUFBRUMsaUJBQ0ZILEVBQUtLLDBCQUEyQmhCLEVBQUdJLFNBR3BDQSxLQUFLSyxTQUFTRyxHQUFJLFFBQVMscUJBQXNCLFNBQVVDLEdBQzFEQSxFQUFFQyxpQkFDRkgsRUFBS00sWUFBYWpCLEVBQUdJLFNBR3RCSixFQUFHLDRCQUE2QmtCLG9CQUFxQixDQUFFQyxVQUFVLElBRWpFbkIsRUFBRyx5QkFBMEJZLEdBQUksUUFBUyxXQUN6Q0QsRUFBS1MsZ0JBQWlCcEIsRUFBR0ksVUFZM0JBLEtBQUthLFlBQWMsU0FBVUksR0FDNUJqQixLQUFLa0IsMEJBQTJCRCxFQUFJRSxLQUFNLFdBQWEsUUFXeERuQixLQUFLZ0IsZ0JBQWtCLFNBQVVDLEdBRWhDLElBQ0NHLEVBQWF4QixFQUFHLDRCQUNoQnlCLEVBQWFELEVBQVFFLE1BQ3JCQyxFQUFhdkIsS0FBS0ssU0FBU21CLEtBQU0sa0NBRWxDQyxLQUFLQyxRQUFRQyxNQUFPSixHQUVwQjFCLE9BQU80QixLQUFLRyxLQUFLQyxLQUFNLENBQ3RCQyxLQUFNLENBQ0xDLE9BQVEsdUJBQ1JDLFlBQWFYLEdBRWRZLFdBQVksU0FBVUMsR0FDZGIsSUFDTkosRUFBSWtCLE9BQVEsNEJBQThCVixLQUFLVyxLQUFLQyxVQUFXLHFDQUF3QyxXQUN2R0gsRUFBSUksUUFDSmIsS0FBS0MsUUFBUWEsS0FBTWhCLEtBR3JCaUIsUUFBUyxTQUFVQyxHQUVsQnJCLEVBQVFFLElBQUssTUFBT29CLFFBQVMsVUFDN0JqQixLQUFLQyxRQUFRYSxLQUFNaEIsR0FDbkIxQixPQUFPQyxLQUFLNkMsYUFBYUMsT0FBUWhELEVBQUcsMENBY3ZDSSxLQUFLVyxlQUFpQixTQUFVTSxHQUMvQmpCLEtBQUtrQiwwQkFBMkJELEVBQUlFLEtBQU0sV0FBYSxXQVd4RG5CLEtBQUtZLDBCQUE0QixTQUFVSyxHQUMxQ2pCLEtBQUtrQiwwQkFBMkJELEVBQUlFLEtBQU0sV0FBYSxXQVl4RG5CLEtBQUtrQiwwQkFBNEIsU0FBVTJCLEVBQUlDLEdBRTlDLElBQUlDLEVBQWFuRCxFQUFHLHFDQUNuQjJCLEVBQWF3QixFQUFPQyxRQUFTLG9CQUU5QnZCLEtBQUtDLFFBQVFDLE1BQU9KLEdBRXBCMUIsT0FBTzRCLEtBQUtHLEtBQUtDLEtBQU0sQ0FDdEJDLEtBQU0sQ0FDTEMsT0FBUSw0QkFDUmUsT0FBUUEsRUFDUkcsV0FBWUosR0FFYkwsUUFBUyxXQUVSM0MsT0FBT0MsS0FBSzZDLGFBQWFDLE9BQVFHLE9BT3BDL0MsS0FBS0MsUUF2S1AsQ0E4S0tpRCIsImZpbGUiOiJsbG1zLW1ldGFib3gtc3R1ZGVudHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWZ0ZXJMTVMgU3R1ZGVudHMgTWV0YWJveCBGdW5jdGlvbnNcbiAqXG4gKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuICpcbiAqIEBzaW5jZSAzLjAuMFxuICogQHZlcnNpb24gMy4zMy4wXG4gKi9cblxuLyoqXG4gKiBMaWZ0ZXJMTVMgU3R1ZGVudHMgTWV0YWJveCBGdW5jdGlvbnNcbiAqXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBzaW5jZSAzLjMzLjAgQWRkZWQgdGhlIGxvZ2ljIHRvIGhhbmRsZSB0aGUgU3R1ZGVudCdzIGVucm9sbG1lbnQgZGVsZXRpb24uXG4gKi9cbiggZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcblxuXHR3aW5kb3cubGxtcyA9IHdpbmRvdy5sbG1zIHx8IHt9O1xuXG5cdHZhciBNZXRhYm94U3R1ZGVudHMgPSBmdW5jdGlvbigpIHtcblxuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemVcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqIEBzaW5jZSAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHR0aGlzLmluaXQgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIHNjcmVlbnMgPSBbICdjb3Vyc2UnLCAnbGxtc19tZW1iZXJzaGlwJyBdO1xuXG5cdFx0XHRpZiAoIHdpbmRvdy5sbG1zLnBvc3QucG9zdF90eXBlICYmIC0xICE9PSBzY3JlZW5zLmluZGV4T2YoIHdpbmRvdy5sbG1zLnBvc3QucG9zdF90eXBlICkgKSB7XG5cblx0XHRcdFx0dGhpcy4kbWV0YWJveCA9ICQoICcjbGlmdGVybG1zLXN0dWRlbnRzJyApO1xuXG5cdFx0XHRcdHRoaXMuYmluZCgpO1xuXHRcdFx0fVxuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgZG9tIGV2ZW50c1xuXHRcdCAqXG5cdFx0ICogQHNpbmNlIDMuMC4wXG5cdFx0ICogQHNpbmNlIDMuNC4wIFVua25vd24uXG5cdFx0ICogQHNpbmNlIDMuMzMuMCBBZGRlZCBlbnJvbGxtZW50IGRlbGV0aW9uIGhhbmRsZXJzLlxuXHRcdCAqXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0dGhpcy4kbWV0YWJveC5vbiggJ2NsaWNrJywgJ2EubGxtcy1yZW1vdmUtc3R1ZGVudCcsIGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdHNlbGYucmVtb3ZlX3N0dWRlbnQoICQoIHRoaXMgKSApO1xuXHRcdFx0fSApO1xuXG5cdFx0XHR0aGlzLiRtZXRhYm94Lm9uKCAnY2xpY2snLCAnYS5sbG1zLWRlbGV0ZS1lbnJvbGxtZW50JywgZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0c2VsZi5kZWxldGVfc3R1ZGVudF9lbnJvbGxtZW50KCAkKCB0aGlzICkgKTtcblx0XHRcdH0gKTtcblxuXHRcdFx0dGhpcy4kbWV0YWJveC5vbiggJ2NsaWNrJywgJ2EubGxtcy1hZGQtc3R1ZGVudCcsIGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdHNlbGYuYWRkX3N0dWRlbnQoICQoIHRoaXMgKSApO1xuXHRcdFx0fSApO1xuXG5cdFx0XHQkKCAnI2xsbXMtYWRkLXN0dWRlbnQtc2VsZWN0JyApLmxsbXNTdHVkZW50c1NlbGVjdDIoIHsgbXVsdGlwbGU6IHRydWUgfSApO1xuXG5cdFx0XHQkKCAnI2xsbXMtZW5yb2xsLXN0dWRlbnRzJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5lbnJvbGxfc3R1ZGVudHMoICQoIHRoaXMgKSApO1xuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEFkZCBhIFN0dWRlbnRcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgICBvYmogICRlbCAgalF1ZXJ5IHNlbGVjdG9yIG9mIHRoZSBhZGQgYnV0dG9uXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0dGhpcy5hZGRfc3R1ZGVudCA9IGZ1bmN0aW9uKCAkZWwgKSB7XG5cdFx0XHR0aGlzLnVwZGF0ZV9zdHVkZW50X2Vucm9sbG1lbnQoICRlbC5hdHRyKCAnZGF0YS1pZCcgKSwgJ2FkZCcgKTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogSGFuZGxlIGJ1bGsgZW5yb2xsbWVudCB2aWEgXCJFbnJvbGwgTmV3IFN0dWRlbnRzXCIgYXJlYVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtICAgIG9iaiAgICRlbCAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgdHJpZ2dlcmluZyBidXR0b25cblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjQuMFxuXHRcdCAqL1xuXHRcdHRoaXMuZW5yb2xsX3N0dWRlbnRzID0gZnVuY3Rpb24oICRlbCApIHtcblxuXHRcdFx0dmFyIHNlbGYgICAgICAgPSB0aGlzLFxuXHRcdFx0XHQkc2VsZWN0ICAgID0gJCggJyNsbG1zLWFkZC1zdHVkZW50LXNlbGVjdCcgKSxcblx0XHRcdFx0aWRzICAgICAgICA9ICRzZWxlY3QudmFsKCksXG5cdFx0XHRcdCRjb250YWluZXIgPSB0aGlzLiRtZXRhYm94LmZpbmQoICcubGxtcy1tZXRhYm94LXN0dWRlbnRzLWFkZC1uZXcnICk7XG5cblx0XHRcdExMTVMuU3Bpbm5lci5zdGFydCggJGNvbnRhaW5lciApO1xuXG5cdFx0XHR3aW5kb3cuTExNUy5BamF4LmNhbGwoIHtcblx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdGFjdGlvbjogJ2J1bGtfZW5yb2xsX3N0dWRlbnRzJyxcblx0XHRcdFx0XHRzdHVkZW50X2lkczogaWRzLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbiggeGhyICkge1xuXHRcdFx0XHRcdGlmICggISBpZHMgKSB7XG5cdFx0XHRcdFx0XHQkZWwuYmVmb3JlKCAnPHNwYW4gY2xhc3M9XCJsbG1zLWVycm9yXCI+JyArIExMTVMubDEwbi50cmFuc2xhdGUoICdQbGVhc2Ugc2VsZWN0IGEgc3R1ZGVudCB0byBlbnJvbGwnICkgKyAnPC9zcGFuPicgKTtcblx0XHRcdFx0XHRcdHhoci5hYm9ydCgpO1xuXHRcdFx0XHRcdFx0TExNUy5TcGlubmVyLnN0b3AoICRjb250YWluZXIgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKCByICkge1xuXG5cdFx0XHRcdFx0JHNlbGVjdC52YWwoIG51bGwgKS50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXHRcdFx0XHRcdExMTVMuU3Bpbm5lci5zdG9wKCAkY29udGFpbmVyICk7XG5cdFx0XHRcdFx0d2luZG93LmxsbXMuYWRtaW5fdGFibGVzLnJlbG9hZCggJCggJyNsbG1zLWdiLXRhYmxlLXN0dWRlbnQtbWFuYWdlbWVudCcgKSApO1xuXG5cdFx0XHRcdH0sXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogUmVtb3ZlIGEgU3R1ZGVudFxuXHRcdCAqXG5cdFx0ICogQHBhcmFtICAgIG9iaiAgJGVsICBqUXVlcnkgc2VsZWN0b3Igb2YgdGhlIGFkZCBidXR0b25cblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHR0aGlzLnJlbW92ZV9zdHVkZW50ID0gZnVuY3Rpb24oICRlbCApIHtcblx0XHRcdHRoaXMudXBkYXRlX3N0dWRlbnRfZW5yb2xsbWVudCggJGVsLmF0dHIoICdkYXRhLWlkJyApLCAncmVtb3ZlJyApO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBEZWxldGUgYSBTdHVkZW50J3MgZW5yb2xsbWVudC5cblx0XHQgKlxuXHRcdCAqIEBzaW5jZSAzLjMzLjBcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgb2JqICAkZWwgIGpRdWVyeSBzZWxlY3RvciBvZiB0aGUgYWRkIGJ1dHRvbi5cblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKi9cblx0XHR0aGlzLmRlbGV0ZV9zdHVkZW50X2Vucm9sbG1lbnQgPSBmdW5jdGlvbiggJGVsICkge1xuXHRcdFx0dGhpcy51cGRhdGVfc3R1ZGVudF9lbnJvbGxtZW50KCAkZWwuYXR0ciggJ2RhdGEtaWQnICksICdkZWxldGUnICk7XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEV4ZWN1dGUgQUpBWCBjYWxsLCBhZGQgc3Bpbm5lcnMsIHVwZGF0ZSBodG1sIHZpZXdcblx0XHQgKlxuXHRcdCAqIEBzaW5jZSAzLjAuMFxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIGludCBpZCBTdHVkZW50IGlkLlxuXHRcdCAqIEBwYXJhbSBzdHJpbmcgc3RhdHVzIE5ldyBzdGF0dXMgW2FkZHxyZW1vdmV8ZGVsZXRlXS5cblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKi9cblx0XHR0aGlzLnVwZGF0ZV9zdHVkZW50X2Vucm9sbG1lbnQgPSBmdW5jdGlvbiggaWQsIHN0YXR1cyApIHtcblxuXHRcdFx0dmFyICR0YWJsZSAgICAgPSAkKCAnI2xsbXMtZ2ItdGFibGUtc3R1ZGVudC1tYW5hZ2VtZW50JyApLFxuXHRcdFx0XHQkY29udGFpbmVyID0gJHRhYmxlLmNsb3Nlc3QoICcubGxtcy10YWJsZS13cmFwJyApO1xuXG5cdFx0XHRMTE1TLlNwaW5uZXIuc3RhcnQoICRjb250YWluZXIgKTtcblxuXHRcdFx0d2luZG93LkxMTVMuQWpheC5jYWxsKCB7XG5cdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRhY3Rpb246ICd1cGRhdGVfc3R1ZGVudF9lbnJvbGxtZW50Jyxcblx0XHRcdFx0XHRzdGF0dXM6IHN0YXR1cyxcblx0XHRcdFx0XHRzdHVkZW50X2lkOiBpZCxcblx0XHRcdFx0fSxcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Ly8gc3Bpbm5lciBkb2Vzbid0IHN0b3AgYmVjYXVzZSB0aGUgdGFibGUgcmVsb2FkZXIgd2lsbCBzdG9wIGl0XG5cdFx0XHRcdFx0d2luZG93LmxsbXMuYWRtaW5fdGFibGVzLnJlbG9hZCggJHRhYmxlICk7XG5cdFx0XHRcdH0sXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0Ly8gZ29cblx0XHR0aGlzLmluaXQoKTtcblxuXHR9O1xuXG5cdC8vIGluaXRpYWxpemUgdGhlIG9iamVjdFxuXHR3aW5kb3cubGxtcy5NZXRhYm94U3R1ZGVudHMgPSBuZXcgTWV0YWJveFN0dWRlbnRzKCk7XG5cbn0gKSggalF1ZXJ5ICk7XG4iXX0=
