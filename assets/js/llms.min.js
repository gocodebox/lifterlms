var LLMS=window.LLMS||{};!function(t){"use strict";LLMS.Achievements={init:function(){var e=this;t(".llms-achievement")&&t(document).on("ready",function(){e.bind(),e.maybe_open()})},bind:function(){var e=this;t(".llms-achievement").each(function(){e.create_modal(t(this))}),t(".llms-achievement").on("click",function(){var n=t(this),s="achievement-"+n.attr("data-id"),i=t("#"+s);i.length||e.create_modal(n),i.iziModal("open")})},create_modal:function(e){var n="achievement-"+e.attr("data-id"),s=t("#"+n);s.length||(s=t('<div class="llms-achievement-modal" id="'+n+'" />'),t("body").append(s)),s.iziModal({headerColor:"#3a3a3a",group:"achievements",history:!0,loop:!0,overlayColor:"rgba( 0, 0, 0, 0.6 )",transitionIn:"fadeInDown",transitionOut:"fadeOutDown",width:340,onOpening:function(t){t.setTitle(e.find(".llms-achievement-title").html()),t.setSubtitle(e.find(".llms-achievement-date").html()),t.setContent('<div class="llms-achievement">'+e.html()+"</div>")},onClosing:function(){window.history.pushState("",document.title,window.location.pathname+window.location.search)}})},maybe_open:function(){var e=window.location.hash;e&&-1!==e.indexOf("achievement-")&&t('a[href="'+e+'"]').first().trigger("click")}},LLMS.Ajax={url:window.ajaxurl||window.llms.ajaxurl,type:"post",data:[],cache:!1,dataType:"json",async:!0,response:[],init:function(e){if(null===e||"object"!=typeof e)return!1;e.url="url"in e?e.url:this.url,e.type="type"in e?e.type:this.type,e.data="data"in e?e.data:this.data,e.cache="cache"in e?e.cache:this.cache,e.dataType="dataType"in e?e.dataType:this.dataType,e.async="async"in e?e.async:this.async,e.data._ajax_nonce=wp_ajax_data.nonce;var n=LLMS.Rest,s=n.get_query_vars();return e.data.post_id="post"in s?s.post:null,!e.data.post_id&&t("input#post_ID").length&&(e.data.post_id=t("input#post_ID").val()),e},call:function(t){var e=this.init(t);return!!e&&(this.request(e),this)},request:function(e){return t.ajax(e),this}},LLMS.Donut=function(e){function n(e){this.settings=t.extend({element:e.element,percent:100},e),this.circle=this.settings.element.find("path"),this.settings.stroke_width=parseInt(this.circle.css("stroke-width")),this.radius=(parseInt(this.settings.element.css("width"))-this.settings.stroke_width)/2,this.angle=-97.5,this.i=Math.round(.75*this.settings.percent),this.first=!0,this.animate=function(){this.timer=setInterval(this.loop.bind(this),10)},this.loop=function(){this.angle+=5,this.angle%=360;var t,e=this.angle/180*Math.PI,n=this.radius+this.settings.stroke_width/2+Math.cos(e)*this.radius,s=this.radius+this.settings.stroke_width/2+Math.sin(e)*this.radius;this.first===!0?(t=this.circle.attr("d")+" M "+n+" "+s,this.first=!1):t=this.circle.attr("d")+" L "+n+" "+s,this.circle.attr("d",t),this.i--,this.i<=0&&clearInterval(this.timer)}}function s(t){var e='<path d="M100,100" />';t.append('<svg preserveAspectRatio="xMidYMid" xmlns:xlink="http://www.w3.org/1999/xlink">'+e+"</svg>");var s=new n({element:t,percent:t.attr("data-perc")});s.animate()}s(e)},LLMS.Instructors={init:function(){var e=this;t("body").hasClass("wp-admin")||t(".llms-instructors").length&&LLMS.wait_for_matchHeight(function(){e.bind()})},bind:function(){t(".llms-instructors .llms-author").matchHeight()}},LLMS.l10n=LLMS.l10n||{},LLMS.l10n.translate=function(t){var e=this;return e.strings[t]?e.strings[t]:t},LLMS.l10n.replace=function(e,n){var s=this.translate(e);return t.each(n,function(t,e){-1!==t.indexOf("s")?e=e.toString():-1!==t.indexOf("d")&&(e=1*e),s=s.replace(t,e)}),s},LLMS.LessonPreview={$els:null,init:function(){var e=this;this.$locked=t('a[href="#llms-lesson-locked"]'),this.$locked.length&&e.bind(),t(".llms-course-navigation").length&&LLMS.wait_for_matchHeight(function(){e.match_height()})},bind:function(){var e=this;this.$locked.on("click",function(){return!1}),this.$locked.on("mouseenter",function(){var n=t(this).find(".llms-tooltip");if(!n.length){var s=t(this).attr("data-tooltip-msg");s||(s=LLMS.l10n.translate("You do not have permission to access this content")),n=e.get_tooltip(s),t(this).append(n)}setTimeout(function(){n.addClass("show")},10)}),this.$locked.on("mouseleave",function(){var e=t(this).find(".llms-tooltip");e.removeClass("show")})},match_height:function(){t(".llms-course-navigation .llms-lesson-link").matchHeight()},get_tooltip:function(e){var n=t('<div class="llms-tooltip" />');return n.append('<div class="llms-tooltip-content">'+e+"</div>"),n}},LLMS.Loops={init:function(){var e=this;t(".llms-loop").length&&LLMS.wait_for_matchHeight(function(){e.match_height()})},match_height:function(){t(".llms-loop-item .llms-loop-item-content").matchHeight(),t(".llms-achievement-loop-item .llms-achievement").matchHeight(),t(".llms-certificate-loop-item .llms-certificate").matchHeight()}},LLMS.OutlineCollapse={$outlines:null,init:function(){this.$outlines=t(".llms-widget-syllabus--collapsible"),this.$outlines.length&&this.bind()},bind:function(){var e=this;this.$outlines.each(function(){var n=t(this),s=n.find(".llms-section .section-header");s.on("click",function(n){n.preventDefault();var s=t(this),i=s.closest(".llms-section"),o=e.get_section_state(i);switch(o){case"closed":e.open_section(i);break;case"opened":e.close_section(i)}}),n.find(".llms-collapse-toggle").on("click",function(n){n.preventDefault();var i=t(this),o=i.attr("data-action"),a="close"===o?"opened":"closed";s.each(function(){var n=t(this).closest(".llms-section"),s=e.get_section_state(n);if(a!==s)return!0;switch(s){case"closed":e.close_section(n);break;case"opened":e.open_section(n)}t(this).trigger("click")})})})},close_section:function(t){t.removeClass("llms-section--opened").addClass("llms-section--closed")},open_section:function(t){t.removeClass("llms-section--closed").addClass("llms-section--opened")},get_section_state:function(t){return t.hasClass("llms-section--opened")?"opened":"closed"}},t.extend(LLMS.PasswordStrength,{$pass:t(".llms-password"),$conf:t(".llms-password-confirm"),$meter:t(".llms-password-strength-meter"),$form:null,init:function(){if(!t("body").hasClass("wp-admin")&&this.$meter.length){this.$form=this.$pass.closest("form");var e,n=this,s=0;e=setInterval(function(){if(s>=300)console.log("cannot do password strength meter.");else{if("undefined"==typeof wp&&"undefined"==typeof wp.passwordStrength)return void s++;n.bind(),n.$form.trigger("llms-password-strength-ready")}clearInterval(e)},100)}},bind:function(){var t=this;this.$form.hasClass("llms-checkout")||this.$form.on("submit",t,t.submit),t.$pass.add(t.$conf).on("keyup",function(){t.check_strength()})},check_strength:function(){var t=this.$pass.closest(".llms-form-field"),e=this.$conf.closest(".llms-form-field"),n=this.$pass.val().length,s=this.$conf.val().length;return n||s?(this.get_current_strength_status()?(t.removeClass("invalid").addClass("valid"),s&&e.removeClass("invalid").addClass("valid")):(t.removeClass("valid").addClass("invalid"),s&&e.removeClass("valid").addClass("invalid")),this.$meter.removeClass("too-short very-weak weak medium strong mismatch"),this.$meter.show().addClass(this.get_current_strength("slug")),void this.$meter.html(this.get_current_strength("text"))):(t.removeClass("valid invalid"),e.removeClass("valid invalid"),void this.$meter.hide())},checkout:function(t,e){e(t.get_current_strength_status()?!0:LLMS.l10n.translate("There is an issue with your chosen password."))},get_blacklist:function(){var t=wp.passwordStrength.userInputBlacklist();return t},get_current_strength:function(t){t=t||"int";var e,n=this.$pass.val(),s=this.$conf.val();return n.length<6?e=-1:(e=wp.passwordStrength.meter(n,this.get_blacklist(),s),0===e&&(e=1)),"slug"===t?this.get_strength_slug(e):"text"===t?this.get_strength_text(e):e},get_current_strength_status:function(){var t=this.get_current_strength(),e=this.get_strength_value(this.get_minimum_strength());return 5!==t&&t>=e},get_strength_slug:function(t){var e={"-1":"too-short",1:"very-weak",2:"weak",3:"medium",4:"strong",5:"mismatch"};return e[t]?e[t]:e[5]},get_strength_text:function(t){var e={"-1":LLMS.l10n.translate("Too Short"),1:LLMS.l10n.translate("Very Weak"),2:LLMS.l10n.translate("Weak"),3:LLMS.l10n.translate("Medium"),4:LLMS.l10n.translate("Strong"),5:LLMS.l10n.translate("Mismatch")};return e[t]?e[t]:e[5]},get_strength_value:function(t){var e={"too-short":-1,"very-weak":1,weak:2,medium:3,strong:4,mismatch:5};return e[t]?e[t]:e.mismatch},submit:function(e){var n=e.data;e.preventDefault(),n.$pass.trigger("keyup"),n.get_current_strength_status()?(n.$form.off("submit",n.submit),n.$form.trigger("submit")):(t("html, body").animate({scrollTop:n.$meter.offset().top-100},200),n.$meter.hide(),setTimeout(function(){n.$meter.fadeIn(400)},220))}}),LLMS.Pricing_Tables={init:function(){var e=this;t("body").hasClass("wp-admin")||t(".llms-access-plans").length&&(LLMS.wait_for_matchHeight(function(){e.bind()}),this.$locked=t('a[href="#llms-plan-locked"]'),this.$locked.length&&LLMS.wait_for_popover(function(){e.bind_locked()}))},bind:function(){t(".llms-access-plan-content").matchHeight(),t(".llms-access-plan-pricing.trial").matchHeight()},bind_locked:function(){this.$locked.each(function(){t(this).webuiPopover({animation:"pop",closeable:!0,content:function(e){var n=t('<div class="llms-members-only-restrictions" />');return n.append(e.$element.closest(".llms-access-plan").find(".llms-access-plan-restrictions ul").clone()),n},placement:"top",style:"inverse",title:LLMS.l10n.translate("Members Only Pricing"),width:"280px"})})}},LLMS.Review={init:function(){this.bind()},bind:function(){t("#llms_review_submit_button").click(function(){""!==t("#review_title").val()&&""!==t("#review_text").val()?jQuery.ajax({type:"post",dataType:"json",url:window.llms.ajaxurl,data:{action:"LLMSSubmitReview",review_title:t("#review_title").val(),review_text:t("#review_text").val(),pageID:t("#post_ID").val()},success:function(){console.log("Review success"),t("#review_box").hide("swing"),t("#thank_you_box").show("swing")},error:function(t,e,n){console.log(t),console.log(e),console.log(n)}}):(""===t("#review_title").val()?t("#review_title_error").show("swing"):t("#review_title_error").hide("swing"),""===t("#review_text").val()?t("#review_text_error").show("swing"):t("#review_text_error").hide("swing"))}),t("#_llms_display_reviews").attr("checked")?(t(".llms-num-reviews-top").addClass("top"),t(".llms-num-reviews-bottom").show()):t(".llms-num-reviews-bottom").hide(),t("#_llms_display_reviews").change(function(){t("#_llms_display_reviews").attr("checked")?(t(".llms-num-reviews-top").addClass("top"),t(".llms-num-reviews-bottom").show()):(t(".llms-num-reviews-top").removeClass("top"),t(".llms-num-reviews-bottom").hide())})}},LLMS.Spinner={get:function(e,n){var s=e.find(".llms-spinning").first();return s.length||(n=n?n:"default",s=t('<div class="llms-spinning"><i class="llms-spinner '+n+'"></i></div>'),e.append(s)),s},start:function(e,n){var s=this;e.each(function(){s.get(t(this),n).show()})},stop:function(e){var n=this;e.each(function(){n.get(t(this)).hide()})}},LLMS.StudentDashboard={screen:"",meter_exists:0,init:function(){t(".llms-student-dashboard").length&&(this.meter_exists=t(".llms-password-strength-meter").length,this.bind(),"orders"===this.get_screen()&&this.bind_orders())},bind:function(){var e=this,n=t('.llms-student-dashboard a[href="#llms-password-change-toggle"]');n.on("click",function(n){n.preventDefault();var s=t(this),i=s.text(),o=s.attr("data-action"),a="hide"===o?"show":"hide",r=s.attr("data-text");e.password_toggle(o),"show"===o?s.attr("tabindex","-777"):s.removeAttr("tabindex"),s.attr("data-action",a).attr("data-text",i).text(r)}),this.meter_exists?t(".llms-person-form.edit-account").on("llms-password-strength-ready",function(){e.password_toggle("hide")}):e.password_toggle("hide"),t(".llms-donut").each(function(){LLMS.Donut(t(this))})},bind_orders:function(){t("#llms-cancel-subscription-form").on("submit",this.order_cancel_warning),t("#llms_update_payment_method").on("click",function(){t('input[name="llms_payment_gateway"]:checked').trigger("change"),t(this).closest("form").find(".llms-switch-payment-source-main").slideToggle("200")})},get_screen:function(){return this.screen||(this.screen=t(".llms-student-dashboard").attr("data-current")),this.screen},order_cancel_warning:function(e){e.preventDefault();var n=LLMS.l10n.translate("Are you sure you want to cancel your subscription?");window.confirm(LLMS.l10n.translate(n))&&(t(this).off("submit",this.order_cancel_warning),t(this).submit())},password_toggle:function(e){e||(e="show");var n=this,s=t("#password, #password_confirm, #current_password"),i=t("#password").closest("form");t(".llms-change-password")[e](),"show"===e?(s.attr("required","required"),n.meter_exists&&i.on("submit",LLMS.PasswordStrength,LLMS.PasswordStrength.submit)):(s.removeAttr("required").val(""),n.meter_exists&&(i.off("submit",LLMS.PasswordStrength.submit),LLMS.PasswordStrength.check_strength()))}},LLMS.Rest={init:function(){this.bind()},bind:function(){},is_path:function(t){for(var e=!1,n=window.location.href,s=0;s<t.length;s++)n.search(t[s])>0&&!e&&(e=!0);return e},get_query_vars:function(){for(var t,e=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),s=0;s<n.length;s++)t=n[s].split("="),e.push(t[0]),e[t[0]]=t[1];return e}},LLMS.init=function(){for(var t in LLMS)"object"==typeof LLMS[t]&&null!==LLMS[t]&&void 0!==LLMS[t].init&&"function"==typeof LLMS[t].init&&LLMS[t].init()},LLMS.is_touch_device=function(){var t=" -webkit- -moz- -o- -ms- ".split(" "),e=function(t){return window.matchMedia(t).matches};if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;var n=["(",t.join("touch-enabled),("),"heartz",")"].join("");return e(n)},LLMS.wait_for_matchHeight=function(e){this.wait_for(function(){return void 0!==t.fn.matchHeight},e)},LLMS.wait_for_popover=function(e){this.wait_for(function(){return void 0!==t.fn.webuiPopover},e)},LLMS.wait_for=function(t,e){var n,s=0;n=setInterval(function(){if(s>=300)console.log("could not load dependency");else{if(!t())return console.log("waiting..."),void s++;e()}clearInterval(n)},100)},LLMS.init(t)}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMuanMiLCIuLi9hcHAvbGxtcy1hY2hpZXZlbWVudHMuanMiLCIuLi9hcHAvbGxtcy1hamF4LmpzIiwiLi4vYXBwL2xsbXMtZG9udXQuanMiLCIuLi9hcHAvbGxtcy1pbnN0cnVjdG9ycy5qcyIsIi4uL2FwcC9sbG1zLWwxMG4uanMiLCIuLi9hcHAvbGxtcy1sZXNzb24tcHJldmlldy5qcyIsIi4uL2FwcC9sbG1zLWxvb3BzLmpzIiwiLi4vYXBwL2xsbXMtb3V0bGluZS1jb2xsYXBzZS5qcyIsIi4uL2FwcC9sbG1zLXBhc3N3b3JkLXN0cmVuZ3RoLmpzIiwiLi4vYXBwL2xsbXMtcHJpY2luZy10YWJsZXMuanMiLCIuLi9hcHAvbGxtcy1yZXZpZXcuanMiLCIuLi9hcHAvbGxtcy1zcGlubmVyLmpzIiwiLi4vYXBwL2xsbXMtc3R1ZGVudC1kYXNoYm9hcmQuanMiLCIuLi9hcHAvcmVzdC5qcyJdLCJuYW1lcyI6WyJMTE1TIiwid2luZG93IiwiJCIsIkFjaGlldmVtZW50cyIsImluaXQiLCJzZWxmIiwidGhpcyIsImRvY3VtZW50Iiwib24iLCJiaW5kIiwibWF5YmVfb3BlbiIsImVhY2giLCJjcmVhdGVfbW9kYWwiLCIkdGhpcyIsImlkIiwiYXR0ciIsIiRtb2RhbCIsImxlbmd0aCIsIml6aU1vZGFsIiwiJGVsIiwiYXBwZW5kIiwiaGVhZGVyQ29sb3IiLCJncm91cCIsImhpc3RvcnkiLCJsb29wIiwib3ZlcmxheUNvbG9yIiwidHJhbnNpdGlvbkluIiwidHJhbnNpdGlvbk91dCIsIndpZHRoIiwib25PcGVuaW5nIiwibW9kYWwiLCJzZXRUaXRsZSIsImZpbmQiLCJodG1sIiwic2V0U3VidGl0bGUiLCJzZXRDb250ZW50Iiwib25DbG9zaW5nIiwicHVzaFN0YXRlIiwidGl0bGUiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwic2VhcmNoIiwiaGFzaCIsImluZGV4T2YiLCJmaXJzdCIsInRyaWdnZXIiLCJBamF4IiwidXJsIiwiYWpheHVybCIsImxsbXMiLCJ0eXBlIiwiZGF0YSIsImNhY2hlIiwiZGF0YVR5cGUiLCJhc3luYyIsInJlc3BvbnNlIiwib2JqIiwiX2FqYXhfbm9uY2UiLCJ3cF9hamF4X2RhdGEiLCJub25jZSIsIiRSIiwiUmVzdCIsInF1ZXJ5X3ZhcnMiLCJnZXRfcXVlcnlfdmFycyIsInBvc3RfaWQiLCJwb3N0IiwidmFsIiwiY2FsbCIsInNldHRpbmdzIiwicmVxdWVzdCIsImFqYXgiLCJEb251dCIsIm9wdGlvbnMiLCJleHRlbmQiLCJlbGVtZW50IiwicGVyY2VudCIsImNpcmNsZSIsInN0cm9rZV93aWR0aCIsInBhcnNlSW50IiwiY3NzIiwicmFkaXVzIiwiYW5nbGUiLCJpIiwiTWF0aCIsInJvdW5kIiwiYW5pbWF0ZSIsInRpbWVyIiwic2V0SW50ZXJ2YWwiLCJkIiwicmFkaWFucyIsIlBJIiwieCIsImNvcyIsInkiLCJzaW4iLCJjbGVhckludGVydmFsIiwiZHJhdyIsInBhdGgiLCJkb251dCIsIkluc3RydWN0b3JzIiwiaGFzQ2xhc3MiLCJ3YWl0X2Zvcl9tYXRjaEhlaWdodCIsIm1hdGNoSGVpZ2h0IiwibDEwbiIsInRyYW5zbGF0ZSIsInN0cmluZyIsInN0cmluZ3MiLCJyZXBsYWNlIiwicmVwbGFjZW1lbnRzIiwic3RyIiwidG9rZW4iLCJ2YWx1ZSIsInRvU3RyaW5nIiwiTGVzc29uUHJldmlldyIsIiRlbHMiLCIkbG9ja2VkIiwibWF0Y2hfaGVpZ2h0IiwiJHRpcCIsIm1zZyIsImdldF90b29sdGlwIiwic2V0VGltZW91dCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJMb29wcyIsIk91dGxpbmVDb2xsYXBzZSIsIiRvdXRsaW5lcyIsIiRvdXRsaW5lIiwiJGhlYWRlcnMiLCJlIiwicHJldmVudERlZmF1bHQiLCIkdG9nZ2xlIiwiJHNlY3Rpb24iLCJjbG9zZXN0Iiwic3RhdGUiLCJnZXRfc2VjdGlvbl9zdGF0ZSIsIm9wZW5fc2VjdGlvbiIsImNsb3NlX3NlY3Rpb24iLCIkYnRuIiwiYWN0aW9uIiwib3Bwb3NpdGVfYWN0aW9uIiwiUGFzc3dvcmRTdHJlbmd0aCIsIiRwYXNzIiwiJGNvbmYiLCIkbWV0ZXIiLCIkZm9ybSIsImludGVydmFsIiwiY291bnRlciIsImNvbnNvbGUiLCJsb2ciLCJ3cCIsInBhc3N3b3JkU3RyZW5ndGgiLCJzdWJtaXQiLCJhZGQiLCJjaGVja19zdHJlbmd0aCIsIiRwYXNzX2ZpZWxkIiwiJGNvbmZfZmllbGQiLCJwYXNzX2xlbmd0aCIsImNvbmZfbGVuZ3RoIiwiZ2V0X2N1cnJlbnRfc3RyZW5ndGhfc3RhdHVzIiwic2hvdyIsImdldF9jdXJyZW50X3N0cmVuZ3RoIiwiaGlkZSIsImNoZWNrb3V0IiwiY2FsbGJhY2siLCJnZXRfYmxhY2tsaXN0IiwiYmxhY2tsaXN0IiwidXNlcklucHV0QmxhY2tsaXN0IiwiZm9ybWF0IiwicGFzcyIsImNvbmYiLCJtZXRlciIsImdldF9zdHJlbmd0aF9zbHVnIiwiZ2V0X3N0cmVuZ3RoX3RleHQiLCJjdXJyIiwibWluIiwiZ2V0X3N0cmVuZ3RoX3ZhbHVlIiwiZ2V0X21pbmltdW1fc3RyZW5ndGgiLCJzdHJlbmd0aF92YWwiLCJzbHVncyIsIi0xIiwiMSIsIjIiLCIzIiwiNCIsIjUiLCJ0ZXh0cyIsInN0cmVuZ3RoX3NsdWciLCJ2YWx1ZXMiLCJ0b28tc2hvcnQiLCJ2ZXJ5LXdlYWsiLCJ3ZWFrIiwibWVkaXVtIiwic3Ryb25nIiwibWlzbWF0Y2giLCJvZmYiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJmYWRlSW4iLCJQcmljaW5nX1RhYmxlcyIsIndhaXRfZm9yX3BvcG92ZXIiLCJiaW5kX2xvY2tlZCIsIndlYnVpUG9wb3ZlciIsImFuaW1hdGlvbiIsImNsb3NlYWJsZSIsImNvbnRlbnQiLCIkY29udGVudCIsIiRlbGVtZW50IiwiY2xvbmUiLCJwbGFjZW1lbnQiLCJzdHlsZSIsIlJldmlldyIsImNsaWNrIiwialF1ZXJ5IiwicmV2aWV3X3RpdGxlIiwicmV2aWV3X3RleHQiLCJwYWdlSUQiLCJzdWNjZXNzIiwiZXJyb3IiLCJqcVhIUiIsInRleHRTdGF0dXMiLCJlcnJvclRocm93biIsImNoYW5nZSIsIlNwaW5uZXIiLCJnZXQiLCJzaXplIiwiJHNwaW5uZXIiLCJzdGFydCIsInN0b3AiLCJTdHVkZW50RGFzaGJvYXJkIiwic2NyZWVuIiwibWV0ZXJfZXhpc3RzIiwiZ2V0X3NjcmVlbiIsImJpbmRfb3JkZXJzIiwiY3Vycl90ZXh0IiwidGV4dCIsImN1cnJfYWN0aW9uIiwibmV3X2FjdGlvbiIsIm5ld190ZXh0IiwicGFzc3dvcmRfdG9nZ2xlIiwicmVtb3ZlQXR0ciIsIm9yZGVyX2NhbmNlbF93YXJuaW5nIiwic2xpZGVUb2dnbGUiLCJjb25maXJtIiwiJHB3ZHMiLCJpc19wYXRoIiwicGF0aF9leGlzdHMiLCJocmVmIiwidmFycyIsImhhc2hlcyIsInNsaWNlIiwic3BsaXQiLCJwdXNoIiwiZnVuYyIsInVuZGVmaW5lZCIsImlzX3RvdWNoX2RldmljZSIsInByZWZpeGVzIiwibXEiLCJxdWVyeSIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwiRG9jdW1lbnRUb3VjaCIsImpvaW4iLCJjYiIsIndhaXRfZm9yIiwiZm4iLCJ0ZXN0Il0sIm1hcHBpbmdzIjoiQUFPQSxHQUFBQSxNQUFBQyxPQUFBRCxVQUNBLFNBQUFFLEdBRUEsWUNEQUYsTUFBQUcsY0FTQUMsS0FBQSxXQUVBLEdBQUFDLEdBQUFDLElBRUFKLEdBQUEsc0JBQ0FBLEVBQUFLLFVBQUFDLEdBQUEsUUFBQSxXQUNBSCxFQUFBSSxPQUNBSixFQUFBSyxnQkFhQUQsS0FBQSxXQUVBLEdBQUFKLEdBQUFDLElBRUFKLEdBQUEscUJBQUFTLEtBQUEsV0FFQU4sRUFBQU8sYUFBQVYsRUFBQUksU0FJQUosRUFBQSxxQkFBQU0sR0FBQSxRQUFBLFdBRUEsR0FBQUssR0FBQVgsRUFBQUksTUFDQVEsRUFBQSxlQUFBRCxFQUFBRSxLQUFBLFdBQ0FDLEVBQUFkLEVBQUEsSUFBQVksRUFFQUUsR0FBQUMsUUFDQVosRUFBQU8sYUFBQUMsR0FHQUcsRUFBQUUsU0FBQSxXQWNBTixhQUFBLFNBQUFPLEdBRUEsR0FB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QUFBQyxHQUFBLDRCQUFBTCxNQUFBLEtBQ0FNLEVBQUEsU0FBQUMsR0FDQSxNQUFBalEsUUFBQWtRLFdBQUFELEdBQUFFLFFBR0EsSUFBQSxnQkFBQW5RLFNBQUFBLE9BQUFvUSxlQUFBOVAsbUJBQUE4UCxlQUNBLE9BQUEsQ0FLQSxJQUFBSCxJQUFBLElBQUFGLEVBQUFNLEtBQUEsb0JBQUEsU0FBQSxLQUFBQSxLQUFBLEdBQ0EsT0FBQUwsR0FBQUMsSUFZQWxRLEtBQUFxRyxxQkFBQSxTQUFBa0ssR0FDQWpRLEtBQUFrUSxTQUFBLFdBQ0EsTUFBQVYsVUFBQTVQLEVBQUF1USxHQUFBbkssYUFDQWlLLElBV0F2USxLQUFBd00saUJBQUEsU0FBQStELEdBQ0FqUSxLQUFBa1EsU0FBQSxXQUNBLE1BQUFWLFVBQUE1UCxFQUFBdVEsR0FBQS9ELGNBQ0E2RCxJQWFBdlEsS0FBQXdRLFNBQUEsU0FBQUUsRUFBQUgsR0FFQSxHQUNBdEgsR0FEQUMsRUFBQSxDQUdBRCxHQUFBMUQsWUFBQSxXQUdBLEdBQUEyRCxHQUFBLElBRUFDLFFBQUFDLElBQUEsaUNBR0EsQ0FHQSxJQUFBc0gsSUFRQSxNQUZBdkgsU0FBQUMsSUFBQSxrQkFDQUYsSUFMQXFILEtBWUF4SyxjQUFBa0QsSUFFQSxNQUlBakosS0FBQUksS0FBQUYsSUFFQW1OIiwiZmlsZSI6ImxsbXMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqXG4gKiBDb250cmlidXRvcidzIE5vdGljZVxuICogXG4gKiBUaGlzIGlzIGEgY29tcGlsZWQgZmlsZSBhbmQgc2hvdWxkIG5vdCBiZSBlZGl0ZWQgZGlyZWN0bHkhXG4gKiBUaGUgdW5jb21waWxlZCBzY3JpcHQgaXMgbG9jYXRlZCBpbiB0aGUgXCJhc3NldHMvcHJpdmF0ZVwiIGRpcmVjdG9yeVxuICogXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBNYWluIExMTVMgTmFtZXNwYWNlXG4gKlxuICogQHR5cGUgICAgIHtPYmplY3R9XG4gKiBAc2luY2UgICAgMS4wLjBcbiAqIEB2ZXJzaW9uICAzLjI0LjNcbiAqL1xudmFyIExMTVMgPSB3aW5kb3cuTExNUyB8fCB7fTtcbihmdW5jdGlvbigkKXtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0LyoqXG5cdCAqIGxvYWQgYWxsIGFwcCBtb2R1bGVzXG5cdCAqL1xuXHQvKipcblx0ICogRnJvbnQgRW5kIEFjaGlldmVtZW50c1xuXHQgKlxuXHQgKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuXHQgKlxuXHQgKiBAc2luY2UgICAgMy4xNC4wXG5cdCAqIEB2ZXJzaW9uICAzLjE0LjBcblx0ICovXG5cdFxuXHRMTE1TLkFjaGlldmVtZW50cyA9IHtcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5pdFxuXHRcdCAqXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4xNC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHRpZiAoICQoICcubGxtcy1hY2hpZXZlbWVudCcgKSApIHtcblx0XHRcdFx0JCggZG9jdW1lbnQgKS5vbiggJ3JlYWR5JywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0c2VsZi5iaW5kKCk7XG5cdFx0XHRcdFx0c2VsZi5tYXliZV9vcGVuKCk7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQmluZCBET00gZXZlbnRzXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjE0LjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xNC4wXG5cdFx0ICovXG5cdFx0YmluZDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdCQoICcubGxtcy1hY2hpZXZlbWVudCcgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdHNlbGYuY3JlYXRlX21vZGFsKCAkKCB0aGlzICkgKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdFx0JCggJy5sbG1zLWFjaGlldmVtZW50JyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdHZhciAkdGhpcyAgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0aWQgICAgID0gJ2FjaGlldmVtZW50LScgKyAkdGhpcy5hdHRyKCAnZGF0YS1pZCcgKSxcblx0XHRcdFx0XHQkbW9kYWwgPSAkKCAnIycgKyBpZCApO1xuXHRcblx0XHRcdFx0aWYgKCAhICRtb2RhbC5sZW5ndGggKSB7XG5cdFx0XHRcdFx0c2VsZi5jcmVhdGVfbW9kYWwoICR0aGlzICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdCRtb2RhbC5pemlNb2RhbCggJ29wZW4nICk7XG5cdFxuXHRcdFx0fSApO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBDcmVhdGVzIG1vZGFsIGEgbW9kYWwgZm9yIGFuIGFjaGlldmVtZW50XG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICAgb2JqICAgJGVsICBqUXVlcnkgc2VsZWN0b3IgZm9yIHRoZSBtb2RhbCBjYXJkXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4xNC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHRcdCAqL1xuXHRcdGNyZWF0ZV9tb2RhbDogZnVuY3Rpb24oICRlbCApIHtcblx0XG5cdFx0XHR2YXIgaWQgICAgID0gJ2FjaGlldmVtZW50LScgKyAkZWwuYXR0ciggJ2RhdGEtaWQnICksXG5cdFx0XHRcdCRtb2RhbCA9ICQoICcjJyArIGlkICk7XG5cdFxuXHRcdFx0aWYgKCAhICRtb2RhbC5sZW5ndGggKSB7XG5cdFx0XHRcdCRtb2RhbCA9ICQoICc8ZGl2IGNsYXNzPVwibGxtcy1hY2hpZXZlbWVudC1tb2RhbFwiIGlkPVwiJyArIGlkICsgJ1wiIC8+JyApO1xuXHRcdFx0XHQkKCAnYm9keScgKS5hcHBlbmQoICRtb2RhbCApO1xuXHRcdFx0fVxuXHRcblx0XHRcdCRtb2RhbC5pemlNb2RhbCgge1xuXHRcdFx0XHRoZWFkZXJDb2xvcjogJyMzYTNhM2EnLFxuXHRcdFx0XHRncm91cDogJ2FjaGlldmVtZW50cycsXG5cdFx0XHRcdGhpc3Rvcnk6IHRydWUsXG5cdFx0XHRcdGxvb3A6IHRydWUsXG5cdFx0XHRcdG92ZXJsYXlDb2xvcjogJ3JnYmEoIDAsIDAsIDAsIDAuNiApJyxcblx0XHRcdFx0dHJhbnNpdGlvbkluOiAnZmFkZUluRG93bicsXG5cdFx0XHRcdHRyYW5zaXRpb25PdXQ6ICdmYWRlT3V0RG93bicsXG5cdFx0XHRcdHdpZHRoOiAzNDAsXG5cdFx0XHRcdG9uT3BlbmluZzogZnVuY3Rpb24oIG1vZGFsICkge1xuXHRcblx0XHRcdFx0XHRtb2RhbC5zZXRUaXRsZSggJGVsLmZpbmQoICcubGxtcy1hY2hpZXZlbWVudC10aXRsZScgKS5odG1sKCkgKTtcblx0XHRcdFx0XHRtb2RhbC5zZXRTdWJ0aXRsZSggJGVsLmZpbmQoICcubGxtcy1hY2hpZXZlbWVudC1kYXRlJyApLmh0bWwoKSApO1xuXHRcdFx0XHRcdG1vZGFsLnNldENvbnRlbnQoICc8ZGl2IGNsYXNzPVwibGxtcy1hY2hpZXZlbWVudFwiPicgKyAkZWwuaHRtbCgpICsgJzwvZGl2PicgKTtcblx0XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRvbkNsb3Npbmc6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSggJycsIGRvY3VtZW50LnRpdGxlLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoICk7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0fSApO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBPbiBwYWdlIGxvYWQsIG9wZW5zIGEgbW9kYWwgaWYgdGhlIFVSTCBjb250YWlucyBhbiBhY2hpZXZlbWVudCBpbiB0aGUgbG9jYXRpb24gaGFzaFxuXHRcdCAqXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4xNC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHRcdCAqL1xuXHRcdG1heWJlX29wZW46IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cdFx0XHRpZiAoIGhhc2ggJiYgLTEgIT09IGhhc2guaW5kZXhPZiggJ2FjaGlldmVtZW50LScgKSApIHtcblx0XHRcdFx0JCggJ2FbaHJlZj1cIicgKyBoYXNoICsgJ1wiXScgKS5maXJzdCgpLnRyaWdnZXIoICdjbGljaycgKTtcblx0XHRcdH1cblx0XG5cdFx0fVxuXHRcblx0fTtcblx0XG5cdFx0LyoqXG5cdCAqIE1haW4gQWpheCBjbGFzc1xuXHQgKiBIYW5kbGVzIFByaW1hcnkgQWpheCBjb25uZWN0aW9uXG5cdCAqXG5cdCAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG5cdCAqXG5cdCAqIEBzaW5jZSBVbmtub3duXG5cdCAqIEB2ZXJzaW9uIFVua25vd25cblx0ICovXG5cdFxuXHRMTE1TLkFqYXggPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFVybFxuXHRcdCAqXG5cdFx0ICogQHR5cGUge1N0cmluZ31cblx0XHQgKi9cblx0XHR1cmw6IHdpbmRvdy5hamF4dXJsIHx8IHdpbmRvdy5sbG1zLmFqYXh1cmwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFR5cGVcblx0XHQgKlxuXHRcdCAqIEB0eXBlIHtbdHlwZV19XG5cdFx0ICovXG5cdFx0dHlwZTogJ3Bvc3QnLFxuXHRcblx0XHQvKipcblx0XHQgKiBEYXRhXG5cdFx0ICpcblx0XHQgKiBAdHlwZSB7W3R5cGVdfVxuXHRcdCAqL1xuXHRcdGRhdGE6IFtdLFxuXHRcblx0XHQvKipcblx0XHQgKiBDYWNoZVxuXHRcdCAqXG5cdFx0ICogQHR5cGUge1t0eXBlXX1cblx0XHQgKi9cblx0XHRjYWNoZTogZmFsc2UsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIERhdGFUeXBlXG5cdFx0ICogZGVmYXVsdGVkIHRvIGpzb25cblx0XHQgKlxuXHRcdCAqIEB0eXBlIHtTdHJpbmd9XG5cdFx0ICovXG5cdFx0ZGF0YVR5cGU6ICdqc29uJyxcblx0XG5cdFx0LyoqXG5cdFx0ICogQXN5bmNcblx0XHQgKiBkZWZhdWx0IHRvIGZhbHNlXG5cdFx0ICpcblx0XHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0XHQgKi9cblx0XHRhc3luYzogdHJ1ZSxcblx0XG5cdFx0cmVzcG9uc2U6W10sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemUgQWpheCBtZXRob2RzXG5cdFx0ICogbG9hZHMgY2xhc3MgbWV0aG9kc1xuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKG9iaikge1xuXHRcblx0XHRcdC8vIGlmIG9iaiBpcyBub3Qgb2YgdHlwZSBvYmplY3Qgb3IgbnVsbCByZXR1cm4gZmFsc2U7XG5cdFx0XHRpZiAoIG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vIHNldCBvYmplY3QgZGVmYXVsdHMgaWYgdmFsdWVzIGFyZSBub3Qgc3VwcGxpZWRcblx0XHRcdG9iai51cmwgICAgICA9ICd1cmwnICAgICAgICAgaW4gb2JqID8gb2JqLnVybCA6IHRoaXMudXJsO1xuXHRcdFx0b2JqLnR5cGUgICAgID0gJ3R5cGUnIFx0XHRpbiBvYmogPyBvYmoudHlwZSA6IHRoaXMudHlwZTtcblx0XHRcdG9iai5kYXRhICAgICA9ICdkYXRhJyBcdFx0aW4gb2JqID8gb2JqLmRhdGEgOiB0aGlzLmRhdGE7XG5cdFx0XHRvYmouY2FjaGUgICAgPSAnY2FjaGUnIFx0XHRpbiBvYmogPyBvYmouY2FjaGUgOiB0aGlzLmNhY2hlO1xuXHRcdFx0b2JqLmRhdGFUeXBlID0gJ2RhdGFUeXBlJ1x0aW4gb2JqID8gb2JqLmRhdGFUeXBlIDogdGhpcy5kYXRhVHlwZTtcblx0XHRcdG9iai5hc3luYyAgICA9ICdhc3luYydcdFx0aW4gb2JqID8gb2JqLmFzeW5jIDogdGhpcy5hc3luYztcblx0XG5cdFx0XHQvLyBhZGQgbm9uY2UgdG8gZGF0YSBvYmplY3Rcblx0XHRcdG9iai5kYXRhLl9hamF4X25vbmNlID0gd3BfYWpheF9kYXRhLm5vbmNlO1xuXHRcblx0XHRcdC8vIGFkZCBwb3N0IGlkIHRvIGRhdGEgb2JqZWN0XG5cdFx0XHR2YXIgJFIgICAgICAgICAgID0gTExNUy5SZXN0LFxuXHRcdFx0cXVlcnlfdmFycyAgICAgICA9ICRSLmdldF9xdWVyeV92YXJzKCk7XG5cdFx0XHRvYmouZGF0YS5wb3N0X2lkID0gJ3Bvc3QnIGluIHF1ZXJ5X3ZhcnMgPyBxdWVyeV92YXJzLnBvc3QgOiBudWxsO1xuXHRcdFx0aWYgKCAhIG9iai5kYXRhLnBvc3RfaWQgJiYgJCggJ2lucHV0I3Bvc3RfSUQnICkubGVuZ3RoICkge1xuXHRcdFx0XHRvYmouZGF0YS5wb3N0X2lkID0gJCggJ2lucHV0I3Bvc3RfSUQnICkudmFsKCk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIG9iajtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBDYWxsXG5cdFx0ICogQ2FsbGVkIGJ5IGV4dGVybmFsIGNsYXNzZXNcblx0XHQgKiBTZXRzIHVwIGpRdWVyeSBBamF4IG9iamVjdFxuXHRcdCAqXG5cdFx0ICogQHBhcmFtICB7W29iamVjdF19IFtvYmplY3Qgb2YgYWpheCBzZXR0aW5nc11cblx0XHQgKiBAcmV0dXJuIHtbbWl4ZWRdfSBbZmFsc2UgaWYgbm90IG9iamVjdCBvciB0aGlzXVxuXHRcdCAqL1xuXHRcdGNhbGw6IGZ1bmN0aW9uKG9iaikge1xuXHRcblx0XHRcdC8vIGdldCBkZWZhdWx0IHZhcmlhYmxlcyBpZiBub3QgaW5jbHVkZWQgaW4gY2FsbFxuXHRcdFx0dmFyIHNldHRpbmdzID0gdGhpcy5pbml0KCBvYmogKTtcblx0XG5cdFx0XHQvLyBpZiBpbml0IHJldHVybiBhIHJlc3BvbnNlIG9mIGZhbHNlXG5cdFx0XHRpZiAoICEgc2V0dGluZ3MpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5yZXF1ZXN0KCBzZXR0aW5ncyApO1xuXHRcdFx0fVxuXHRcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBDYWxscyBqUXVlcnkgQWpheCBvbiBzZXR0aW5ncyBvYmplY3Rcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4ge1tvYmplY3RdfSBbdGhpc11cblx0XHQgKi9cblx0XHRyZXF1ZXN0OiBmdW5jdGlvbihzZXR0aW5ncykge1xuXHRcblx0XHRcdCQuYWpheCggc2V0dGluZ3MgKTtcblx0XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XG5cdFx0fVxuXHRcblx0fTtcblx0XG5cdFx0LyoqXG5cdCAqIENyZWF0ZSBhIERvbnV0IENoYXJ0XG5cdCAqXG5cdCAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG5cdCAqXG5cdCAqIEBzaW5jZSAgICAzLjkuMFxuXHQgKiBAdmVyc2lvbiAgMy45LjBcblx0ICpcblx0ICogQGxpbmsgIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2pvZXlpbmJveC84MjA1OTYyXG5cdCAqXG5cdCAqIEBwYXJhbSAgICBvYmogICAkZWwgIGpRdWVyeSBlbGVtZW50IHRvIGRyYXcgYSBjaGFydCB3aXRoaW5cblx0ICovXG5cdFxuXHRMTE1TLkRvbnV0ID0gZnVuY3Rpb24oICRlbCApIHtcblx0XG5cdFx0ZnVuY3Rpb24gRG9udXQob3B0aW9ucykge1xuXHRcblx0XHRcdHRoaXMuc2V0dGluZ3MgPSAkLmV4dGVuZCgge1xuXHRcdFx0XHRlbGVtZW50OiBvcHRpb25zLmVsZW1lbnQsXG5cdFx0XHRcdHBlcmNlbnQ6IDEwMFxuXHRcdFx0fSwgb3B0aW9ucyApO1xuXHRcblx0XHRcdHRoaXMuY2lyY2xlICAgICAgICAgICAgICAgID0gdGhpcy5zZXR0aW5ncy5lbGVtZW50LmZpbmQoICdwYXRoJyApO1xuXHRcdFx0dGhpcy5zZXR0aW5ncy5zdHJva2Vfd2lkdGggPSBwYXJzZUludCggdGhpcy5jaXJjbGUuY3NzKCAnc3Ryb2tlLXdpZHRoJyApICk7XG5cdFx0XHR0aGlzLnJhZGl1cyAgICAgICAgICAgICAgICA9ICggcGFyc2VJbnQoIHRoaXMuc2V0dGluZ3MuZWxlbWVudC5jc3MoICd3aWR0aCcgKSApIC0gdGhpcy5zZXR0aW5ncy5zdHJva2Vfd2lkdGggKSAvIDI7XG5cdFx0XHR0aGlzLmFuZ2xlICAgICAgICAgICAgICAgICA9IC05Ny41OyAvLyBPcmlnaW4gb2YgdGhlIGRyYXcgYXQgdGhlIHRvcCBvZiB0aGUgY2lyY2xlXG5cdFx0XHR0aGlzLmkgICAgICAgICAgICAgICAgICAgICA9IE1hdGgucm91bmQoIDAuNzUgKiB0aGlzLnNldHRpbmdzLnBlcmNlbnQgKTtcblx0XHRcdHRoaXMuZmlyc3QgICAgICAgICAgICAgICAgID0gdHJ1ZTtcblx0XG5cdFx0XHR0aGlzLmFuaW1hdGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy50aW1lciA9IHNldEludGVydmFsKCB0aGlzLmxvb3AuYmluZCggdGhpcyApLCAxMCApO1xuXHRcdFx0fTtcblx0XG5cdFx0XHR0aGlzLmxvb3AgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5hbmdsZSArPSA1O1xuXHRcdFx0XHR0aGlzLmFuZ2xlICU9IDM2MDtcblx0XHRcdFx0dmFyIHJhZGlhbnMgPSAoIHRoaXMuYW5nbGUgLyAxODAgKSAqIE1hdGguUEksXG5cdFx0XHRcdFx0eCAgICAgICA9IHRoaXMucmFkaXVzICsgdGhpcy5zZXR0aW5ncy5zdHJva2Vfd2lkdGggLyAyICsgTWF0aC5jb3MoIHJhZGlhbnMgKSAqIHRoaXMucmFkaXVzLFxuXHRcdFx0XHRcdHkgICAgICAgPSB0aGlzLnJhZGl1cyArIHRoaXMuc2V0dGluZ3Muc3Ryb2tlX3dpZHRoIC8gMiArIE1hdGguc2luKCByYWRpYW5zICkgKiB0aGlzLnJhZGl1cyxcblx0XHRcdFx0XHRkO1xuXHRcdFx0XHRpZiAodGhpcy5maXJzdCA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdGQgICAgICAgICAgPSB0aGlzLmNpcmNsZS5hdHRyKCAnZCcgKSArICcgTSAnICsgeCArICcgJyArIHk7XG5cdFx0XHRcdFx0dGhpcy5maXJzdCA9IGZhbHNlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGQgPSB0aGlzLmNpcmNsZS5hdHRyKCAnZCcgKSArICcgTCAnICsgeCArICcgJyArIHk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5jaXJjbGUuYXR0ciggJ2QnLCBkICk7XG5cdFx0XHRcdHRoaXMuaS0tO1xuXHRcblx0XHRcdFx0aWYgKHRoaXMuaSA8PSAwKSB7XG5cdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbCggdGhpcy50aW1lciApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0XG5cdFx0ZnVuY3Rpb24gZHJhdyggJGVsICkge1xuXHRcdFx0dmFyIHBhdGggPSAnPHBhdGggZD1cIk0xMDAsMTAwXCIgLz4nO1xuXHRcdFx0JGVsLmFwcGVuZCggJzxzdmcgcHJlc2VydmVBc3BlY3RSYXRpbz1cInhNaWRZTWlkXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCI+JyArIHBhdGggKyAnPC9zdmc+JyApO1xuXHRcdFx0dmFyIGRvbnV0ID0gbmV3IERvbnV0KCB7XG5cdFx0XHRcdGVsZW1lbnQ6ICRlbCxcblx0XHRcdFx0cGVyY2VudDogJGVsLmF0dHIoICdkYXRhLXBlcmMnIClcblx0XHRcdH0gKTtcblx0XHRcdGRvbnV0LmFuaW1hdGUoKTtcblx0XHR9XG5cdFxuXHRcdGRyYXcoICRlbCApO1xuXHRcblx0fTtcblx0XG5cdFx0LyoqXG5cdCAqIEluc3RydWN0b3JzIExpc3Rcblx0ICpcblx0ICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcblx0ICpcblx0ICogQHNpbmNlICBVbmtub3duXG5cdCAqIEB2ZXJzaW9uICBVbmtub3duXG5cdCAqL1xuXHRcblx0TExNUy5JbnN0cnVjdG9ycyA9IHtcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5pdFxuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHRpZiAoICQoICdib2R5JyApLmhhc0NsYXNzKCAnd3AtYWRtaW4nICkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoICQoICcubGxtcy1pbnN0cnVjdG9ycycgKS5sZW5ndGggKSB7XG5cdFxuXHRcdFx0XHRMTE1TLndhaXRfZm9yX21hdGNoSGVpZ2h0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XHRcdFx0fSApO1xuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQmluZCBNZXRob2Rcblx0XHQgKiBIYW5kbGVzIGRvbSBiaW5kaW5nIG9uIGxvYWRcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdCQoICcubGxtcy1pbnN0cnVjdG9ycyAubGxtcy1hdXRob3InICkubWF0Y2hIZWlnaHQoKTtcblx0XG5cdFx0fSxcblx0XG5cdH07XG5cdFxuXHRcdC8qKlxuXHQgKiBMb2NhbGl6YXRpb24gZnVuY3Rpb25zIGZvciBMaWZ0ZXJMTVMgSmF2YXNjcmlwdFxuXHQgKlxuXHQgKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuXHQgKlxuXHQgKiBAc2luY2UgIDIuNy4zXG5cdCAqIEB2ZXJzaW9uICAyLjcuM1xuXHQgKlxuXHQgKiBAdG9kbyAgd2UgbmVlZCBtb3JlIHJvYnVzdCB0cmFuc2xhdGlvbiBmdW5jdGlvbnMgdG8gaGFuZGxlIHNwcmludGYgYW5kIHBsdXJhbGl6YXRpb25cblx0ICogICAgICAgIGF0IHRoaXMgbW9tZW50IHdlIGRvbid0IG5lZWQgdGhvc2UgYW5kIGhhdmVuJ3Qgc3R1YmJlZCB0aGVtIG91dFxuXHQgKiAgICAgICAgdGhvc2Ugd2lsbCBiZSBhZGRlZCB3aGVuIHRoZXkncmUgbmVlZGVkXG5cdCAqL1xuXHRcblx0TExNUy5sMTBuID0gTExNUy5sMTBuIHx8IHt9O1xuXHRcblx0TExNUy5sMTBuLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uICggc3RyaW5nICkge1xuXHRcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdGlmICggc2VsZi5zdHJpbmdzW3N0cmluZ10gKSB7XG5cdFxuXHRcdFx0cmV0dXJuIHNlbGYuc3RyaW5nc1tzdHJpbmddO1xuXHRcblx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdHJldHVybiBzdHJpbmc7XG5cdFxuXHRcdH1cblx0XG5cdH07XG5cdFxuXHQvKipcblx0ICogVHJhbnNsYXRlIGFuZCByZXBsYWNlIHBsYWNlaG9sZGVycyBpbiBhIHN0cmluZ1xuXHQgKlxuXHQgKiBAZXhhbXBsZSBMTE1TLmwxMG4ucmVwbGFjZSggJ1RoaXMgaXMgYSAlMiRzICUxJHMgU3RyaW5nJywge1xuXHQgKiAgICAgICAgICAgXHQnJTEkcyc6ICdjb29sJyxcblx0ICogICAgXHRcdFx0JyUyJHMnOiAndmVyeSdcblx0ICogICAgXHRcdH0gKTtcblx0ICogICAgXHRcdE91dHB1dDogXCJUaGlzIGlzIGEgdmVyeSBjb29sIFN0cmluZ1wiXG5cdCAqXG5cdCAqIEBwYXJhbSAgICBzdHJpbmcgICBzdHJpbmcgICAgICAgIHRleHQgc3RyaW5nXG5cdCAqIEBwYXJhbSAgICBvYmplY3QgICByZXBsYWNlbWVudHMgIG9iamVjdCBjb250YWluaW5nIHRva2VuID0+IHJlcGxhY2VtZW50IHBhaXJzXG5cdCAqIEByZXR1cm4gICBzdHJpbmdcblx0ICogQHNpbmNlICAgIDMuMTYuMFxuXHQgKiBAdmVyc2lvbiAgMy4xNi4wXG5cdCAqL1xuXHRMTE1TLmwxMG4ucmVwbGFjZSA9IGZ1bmN0aW9uKCBzdHJpbmcsIHJlcGxhY2VtZW50cyApIHtcblx0XG5cdFx0dmFyIHN0ciA9IHRoaXMudHJhbnNsYXRlKCBzdHJpbmcgKTtcblx0XG5cdFx0JC5lYWNoKCByZXBsYWNlbWVudHMsIGZ1bmN0aW9uKCB0b2tlbiwgdmFsdWUgKSB7XG5cdFxuXHRcdFx0aWYgKCAtMSAhPT0gdG9rZW4uaW5kZXhPZiggJ3MnICkgKSB7XG5cdFx0XHRcdHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcblx0XHRcdH0gZWxzZSBpZiAoIC0xICE9PSB0b2tlbi5pbmRleE9mKCAnZCcgKSApIHtcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZSAqIDE7XG5cdFx0XHR9XG5cdFxuXHRcdFx0c3RyID0gc3RyLnJlcGxhY2UoIHRva2VuLCB2YWx1ZSApO1xuXHRcblx0XHR9ICk7XG5cdFxuXHRcdHJldHVybiBzdHI7XG5cdFxuXHR9O1xuXHRcblx0XHQvKipcblx0ICogSGFuZGxlIExlc3NvbiBQcmV2aWV3IEVsZW1lbnRzXG5cdCAqXG5cdCAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG5cdCAqXG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy4xNi4xMlxuXHQgKi9cblx0XG5cdExMTVMuTGVzc29uUHJldmlldyA9IHtcblx0XG5cdFx0LyoqXG5cdFx0ICogQSBqUXVlcnkgb2JqZWN0IG9mIGFsbCBvdXRsaW5lcyBwcmVzZW50IG9uIHRoZSBjdXJyZW50IHNjcmVlblxuXHRcdCAqXG5cdFx0ICogQHR5cGUgb2JqXG5cdFx0ICovXG5cdFx0JGVsczogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZVxuXHRcdCAqXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdHRoaXMuJGxvY2tlZCA9ICQoICdhW2hyZWY9XCIjbGxtcy1sZXNzb24tbG9ja2VkXCJdJyApO1xuXHRcblx0XHRcdGlmICggdGhpcy4kbG9ja2VkLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdHNlbGYuYmluZCgpO1xuXHRcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoICQoICcubGxtcy1jb3Vyc2UtbmF2aWdhdGlvbicgKS5sZW5ndGggKSB7XG5cdFxuXHRcdFx0XHRMTE1TLndhaXRfZm9yX21hdGNoSGVpZ2h0KCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdFx0c2VsZi5tYXRjaF9oZWlnaHQoKTtcblx0XG5cdFx0XHRcdH0gKTtcblx0XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgRE9NIGV2ZW50c1xuXHRcdCAqXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTYuMTJcblx0XHQgKi9cblx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0dGhpcy4kbG9ja2VkLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fSApO1xuXHRcblx0XHRcdHRoaXMuJGxvY2tlZC5vbiggJ21vdXNlZW50ZXInLCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdHZhciAkdGlwID0gJCggdGhpcyApLmZpbmQoICcubGxtcy10b29sdGlwJyApO1xuXHRcdFx0XHRpZiAoICEgJHRpcC5sZW5ndGggKSB7XG5cdFx0XHRcdFx0dmFyIG1zZyA9ICQoIHRoaXMgKS5hdHRyKCAnZGF0YS10b29sdGlwLW1zZycgKTtcblx0XHRcdFx0XHRpZiAoICEgbXNnICkge1xuXHRcdFx0XHRcdFx0bXNnID0gTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1lvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyB0aGlzIGNvbnRlbnQnICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCR0aXAgPSBzZWxmLmdldF90b29sdGlwKCBtc2cgKTtcblx0XHRcdFx0XHQkKCB0aGlzICkuYXBwZW5kKCAkdGlwICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0JHRpcC5hZGRDbGFzcyggJ3Nob3cnICk7XG5cdFx0XHRcdH0sIDEwICk7XG5cdFxuXHRcdFx0fSApO1xuXHRcblx0XHRcdHRoaXMuJGxvY2tlZC5vbiggJ21vdXNlbGVhdmUnLCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdHZhciAkdGlwID0gJCggdGhpcyApLmZpbmQoICcubGxtcy10b29sdGlwJyApO1xuXHRcdFx0XHQkdGlwLnJlbW92ZUNsYXNzKCAnc2hvdycgKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIE1hdGNoIHRoZSBoZWlnaHQgb2YgbGVzc29uIHByZXZpZXcgaXRlbXMgaW4gY291cnNlIG5hdmlnYXRpb24gYmxvY2tzXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdG1hdGNoX2hlaWdodDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0JCggJy5sbG1zLWNvdXJzZS1uYXZpZ2F0aW9uIC5sbG1zLWxlc3Nvbi1saW5rJyApLm1hdGNoSGVpZ2h0KCk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEdldCBhIHRvb2x0aXAgZWxlbWVudFxuXHRcdCAqXG5cdFx0ICogQHBhcmFtICAgIHN0cmluZyAgIG1zZyAgIG1lc3NhZ2UgdG8gZGlzcGxheSBpbnNpZGUgdGhlIHRvb2x0aXBcblx0XHQgKiBAcmV0dXJuICAgb2JqXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMi40XG5cdFx0ICovXG5cdFx0Z2V0X3Rvb2x0aXA6IGZ1bmN0aW9uKCBtc2cgKSB7XG5cdFx0XHR2YXIgJGVsID0gJCggJzxkaXYgY2xhc3M9XCJsbG1zLXRvb2x0aXBcIiAvPicgKTtcblx0XHRcdCRlbC5hcHBlbmQoICc8ZGl2IGNsYXNzPVwibGxtcy10b29sdGlwLWNvbnRlbnRcIj4nICsgbXNnICsgJzwvZGl2PicgKTtcblx0XHRcdHJldHVybiAkZWw7XG5cdFx0fSxcblx0XG5cdH07XG5cdFxuXHRcdC8qKlxuXHQgKiBMaWZ0ZXJMTVMgTG9vcHMgSlNcblx0ICpcblx0ICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcblx0ICpcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjE0LjBcblx0ICovXG5cdFxuXHRMTE1TLkxvb3BzID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXplXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0aWYgKCAkKCAnLmxsbXMtbG9vcCcgKS5sZW5ndGggKSB7XG5cdFxuXHRcdFx0XHRMTE1TLndhaXRfZm9yX21hdGNoSGVpZ2h0KCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdFx0c2VsZi5tYXRjaF9oZWlnaHQoKTtcblx0XG5cdFx0XHRcdH0gKTtcblx0XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIE1hdGNoIHRoZSBoZWlnaHQgb2YgLmxsbXMtbG9vcC1pdGVtXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjE0LjBcblx0XHQgKi9cblx0XHRtYXRjaF9oZWlnaHQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdCQoICcubGxtcy1sb29wLWl0ZW0gLmxsbXMtbG9vcC1pdGVtLWNvbnRlbnQnICkubWF0Y2hIZWlnaHQoKTtcblx0XHRcdCQoICcubGxtcy1hY2hpZXZlbWVudC1sb29wLWl0ZW0gLmxsbXMtYWNoaWV2ZW1lbnQnICkubWF0Y2hIZWlnaHQoKTtcblx0XHRcdCQoICcubGxtcy1jZXJ0aWZpY2F0ZS1sb29wLWl0ZW0gLmxsbXMtY2VydGlmaWNhdGUnICkubWF0Y2hIZWlnaHQoKTtcblx0XG5cdFx0fSxcblx0XG5cdH07XG5cdFxuXHRcdC8qKlxuXHQgKiBIYW5kbGUgdGhlIENvbGxhcHNpYmxlIFN5bGxhYnVzIFdpZGdldCAvIFNob3J0Y29kZVxuXHQgKlxuXHQgKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuXHQgKlxuXHQgKiBAc2luY2UgVW5rbm93blxuXHQgKiBAdmVyc2lvbiBVbmtub3duXG5cdCAqL1xuXHRcblx0TExNUy5PdXRsaW5lQ29sbGFwc2UgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEEgalF1ZXJ5IG9iamVjdCBvZiBhbGwgb3V0bGluZXMgcHJlc2VudCBvbiB0aGUgY3VycmVudCBzY3JlZW5cblx0XHQgKlxuXHRcdCAqIEB0eXBlIG9ialxuXHRcdCAqL1xuXHRcdCRvdXRsaW5lczogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZVxuXHRcdCAqXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dGhpcy4kb3V0bGluZXMgPSAkKCAnLmxsbXMtd2lkZ2V0LXN5bGxhYnVzLS1jb2xsYXBzaWJsZScgKTtcblx0XG5cdFx0XHRpZiAoIHRoaXMuJG91dGxpbmVzLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdHRoaXMuYmluZCgpO1xuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQmluZCBET00gZXZlbnRzXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKi9cblx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0dGhpcy4kb3V0bGluZXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHR2YXIgJG91dGxpbmUgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JGhlYWRlcnMgPSAkb3V0bGluZS5maW5kKCAnLmxsbXMtc2VjdGlvbiAuc2VjdGlvbi1oZWFkZXInICk7XG5cdFxuXHRcdFx0XHQvLyBiaW5kIGhlYWRlciBjbGlja3Ncblx0XHRcdFx0JGhlYWRlcnMub24oICdjbGljaycsIGZ1bmN0aW9uKCBlICkge1xuXHRcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHRcdFx0XHRcdHZhciAkdG9nZ2xlICA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRcdCRzZWN0aW9uID0gJHRvZ2dsZS5jbG9zZXN0KCAnLmxsbXMtc2VjdGlvbicgKSxcblx0XHRcdFx0XHRcdHN0YXRlICAgID0gc2VsZi5nZXRfc2VjdGlvbl9zdGF0ZSggJHNlY3Rpb24gKTtcblx0XG5cdFx0XHRcdFx0c3dpdGNoICggc3RhdGUgKSB7XG5cdFxuXHRcdFx0XHRcdFx0Y2FzZSAnY2xvc2VkJzpcblx0XHRcdFx0XHRcdFx0c2VsZi5vcGVuX3NlY3Rpb24oICRzZWN0aW9uICk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XG5cdFx0XHRcdFx0XHRjYXNlICdvcGVuZWQnOlxuXHRcdFx0XHRcdFx0XHRzZWxmLmNsb3NlX3NlY3Rpb24oICRzZWN0aW9uICk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0fSApO1xuXHRcblx0XHRcdFx0Ly8gYmluZCBvcHRpb25hbCB0b2dnbGUgXCJidXR0b25zXCJcblx0XHRcdFx0JG91dGxpbmUuZmluZCggJy5sbG1zLWNvbGxhcHNlLXRvZ2dsZScgKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oIGUgKSB7XG5cdFxuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XG5cdFx0XHRcdFx0dmFyICRidG4gICAgICAgICAgICA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRcdGFjdGlvbiAgICAgICAgICA9ICRidG4uYXR0ciggJ2RhdGEtYWN0aW9uJyApLFxuXHRcdFx0XHRcdFx0b3Bwb3NpdGVfYWN0aW9uID0gKCAnY2xvc2UnID09PSBhY3Rpb24gKSA/ICdvcGVuZWQnIDogJ2Nsb3NlZCc7XG5cdFxuXHRcdFx0XHRcdCRoZWFkZXJzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0XHRcdHZhciAkc2VjdGlvbiA9ICQoIHRoaXMgKS5jbG9zZXN0KCAnLmxsbXMtc2VjdGlvbicgKSxcblx0XHRcdFx0XHRcdFx0c3RhdGUgICAgPSBzZWxmLmdldF9zZWN0aW9uX3N0YXRlKCAkc2VjdGlvbiApO1xuXHRcblx0XHRcdFx0XHRcdGlmICggb3Bwb3NpdGVfYWN0aW9uICE9PSBzdGF0ZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0c3dpdGNoICggc3RhdGUgKSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRjYXNlICdjbG9zZWQnOlxuXHRcdFx0XHRcdFx0XHRcdHNlbGYuY2xvc2Vfc2VjdGlvbiggJHNlY3Rpb24gKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFxuXHRcdFx0XHRcdFx0XHRjYXNlICdvcGVuZWQnOlxuXHRcdFx0XHRcdFx0XHRcdHNlbGYub3Blbl9zZWN0aW9uKCAkc2VjdGlvbiApO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0JCggdGhpcyApLnRyaWdnZXIoICdjbGljaycgKTtcblx0XG5cdFx0XHRcdFx0fSApO1xuXHRcblx0XHRcdFx0fSApO1xuXHRcblx0XHRcdH0gKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQ2xvc2UgYW4gb3V0bGluZSBzZWN0aW9uXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gIG9iaiAgICAkc2VjdGlvbiAgIGpRdWVyeSBzZWxlY3RvciBvZiBhICcubGxtcy1zZWN0aW9uJ1xuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdGNsb3NlX3NlY3Rpb246IGZ1bmN0aW9uKCAkc2VjdGlvbiApIHtcblx0XG5cdFx0XHQkc2VjdGlvbi5yZW1vdmVDbGFzcyggJ2xsbXMtc2VjdGlvbi0tb3BlbmVkJyApLmFkZENsYXNzKCAnbGxtcy1zZWN0aW9uLS1jbG9zZWQnICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIE9wZW4gYW4gb3V0bGluZSBzZWN0aW9uXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gIG9iaiAgICAkc2VjdGlvbiAgIGpRdWVyeSBzZWxlY3RvciBvZiBhICcubGxtcy1zZWN0aW9uJ1xuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdG9wZW5fc2VjdGlvbjogZnVuY3Rpb24oICRzZWN0aW9uICkge1xuXHRcblx0XHRcdCRzZWN0aW9uLnJlbW92ZUNsYXNzKCAnbGxtcy1zZWN0aW9uLS1jbG9zZWQnICkuYWRkQ2xhc3MoICdsbG1zLXNlY3Rpb24tLW9wZW5lZCcgKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogR2V0IHRoZSBjdXJyZW50IHN0YXRlIChvcGVuIG9yIGNsb3NlZCkgb2YgYW4gb3V0bGluZSBzZWN0aW9uXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gIG9iaiAgICAkc2VjdGlvbiAgIGpRdWVyeSBzZWxlY3RvciBvZiBhICcubGxtcy1zZWN0aW9uJ1xuXHRcdCAqIEByZXR1cm4gc3RyaW5nICAgICAgICAgICAgJ29wZW5lZCcgb3IgJ2Nsb3NlZCdcblx0XHQgKi9cblx0XHRnZXRfc2VjdGlvbl9zdGF0ZTogZnVuY3Rpb24oICRzZWN0aW9uICkge1xuXHRcblx0XHRcdHJldHVybiAkc2VjdGlvbi5oYXNDbGFzcyggJ2xsbXMtc2VjdGlvbi0tb3BlbmVkJyApID8gJ29wZW5lZCcgOiAnY2xvc2VkJztcblx0XG5cdFx0fVxuXHRcblx0fTtcblx0XG5cdFx0LyoqXG5cdCAqIEhhbmRsZSBQYXNzd29yZCBTdHJlbmd0aCBNZXRlciBmb3IgcmVnaXN0cmF0aW9uIGFuZCBwYXNzd29yZCB1cGRhdGUgZmllbGRzXG5cdCAqXG5cdCAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG5cdCAqXG5cdCAqIEBzaW5jZSAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy43LjBcblx0ICovXG5cdFxuXHQkLmV4dGVuZCggTExNUy5QYXNzd29yZFN0cmVuZ3RoLCB7XG5cdFxuXHRcdCRwYXNzOiAkKCAnLmxsbXMtcGFzc3dvcmQnICksXG5cdFx0JGNvbmY6ICQoICcubGxtcy1wYXNzd29yZC1jb25maXJtJyApLFxuXHRcdCRtZXRlcjogJCggJy5sbG1zLXBhc3N3b3JkLXN0cmVuZ3RoLW1ldGVyJyApLFxuXHRcdCRmb3JtOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBJbml0XG5cdFx0ICogbG9hZHMgY2xhc3MgbWV0aG9kc1xuXHRcdCAqXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuNy4wXG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0aWYgKCAkKCAnYm9keScgKS5oYXNDbGFzcyggJ3dwLWFkbWluJyApICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCB0aGlzLiRtZXRlci5sZW5ndGggKSB7XG5cdFxuXHRcdFx0XHR0aGlzLiRmb3JtID0gdGhpcy4kcGFzcy5jbG9zZXN0KCAnZm9ybScgKTtcblx0XG5cdFx0XHRcdC8vIG91ciBhc3NldCBlbnF1ZXVlIGlzIGFsbCBzY3Jld2VkIHVwIGFuZCBJJ20gdG9vIHRpcmVkIHRvIGZpeCBpdFxuXHRcdFx0XHQvLyBzbyB3ZSdyZSBnb2luZyB0byBydW4gdGhpcyBsaXR0bGUgZGVwZW5kZW5jeSBjaGVja1xuXHRcdFx0XHQvLyBhbmQgd2FpdCBmb3IgbWF0Y2hIZWlnaHQgdG8gYmUgYXZhaWxhYmxlIGJlZm9yZSBiaW5kaW5nXG5cdFx0XHRcdHZhciBzZWxmICAgID0gdGhpcyxcblx0XHRcdFx0XHRjb3VudGVyID0gMCxcblx0XHRcdFx0XHRpbnRlcnZhbDtcblx0XG5cdFx0XHRcdGludGVydmFsID0gc2V0SW50ZXJ2YWwoIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0XHQvLyBpZiB3ZSBnZXQgdG8gMzAgc2Vjb25kcyBsb2cgYW4gZXJyb3IgbWVzc2FnZVxuXHRcdFx0XHRcdC8vIGFuZCByZWFsbHkgd2hvIGNhcmVzIGlmIHRoZSBlbGVtZW50IGhlaWdodHMgYXJlbid0IG1hdGNoZWRcblx0XHRcdFx0XHRpZiAoIGNvdW50ZXIgPj0gMzAwICkge1xuXHRcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCAnY2Fubm90IGRvIHBhc3N3b3JkIHN0cmVuZ3RoIG1ldGVyLicgKTtcblx0XG5cdFx0XHRcdFx0XHQvLyBpZiB3ZSBjYW4ndCBhY2Nlc3MgeWUsIGluY3JlbWVudCBhbmQgd2FpdC4uLlxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoICd1bmRlZmluZWQnID09PSB0eXBlb2Ygd3AgJiYgJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiB3cC5wYXNzd29yZFN0cmVuZ3RoICkge1xuXHRcblx0XHRcdFx0XHRcdGNvdW50ZXIrKztcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XG5cdFx0XHRcdFx0XHQvLyBiaW5kIHRoZSBldmVudHMsIHdlJ3JlIGdvb2QhXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XHRcdFx0XHRcdHNlbGYuJGZvcm0udHJpZ2dlciggJ2xsbXMtcGFzc3dvcmQtc3RyZW5ndGgtcmVhZHknICk7XG5cdFxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbCggaW50ZXJ2YWwgKTtcblx0XG5cdFx0XHRcdH0sIDEwMCApO1xuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQmluZCBNZXRob2Rcblx0XHQgKiBIYW5kbGVzIGRvbSBiaW5kaW5nIG9uIGxvYWRcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqIEBzaW5jZSAzLjAuMFxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHQvLyBhZGQgc3VibWlzc2lvbiBldmVudCBoYW5kbGVycyB3aGVuIG5vdCBvbiBhIGNoZWNrb3V0IGZvcm1cblx0XHRcdGlmICggISB0aGlzLiRmb3JtLmhhc0NsYXNzKCAnbGxtcy1jaGVja291dCcgKSApIHtcblx0XHRcdFx0dGhpcy4kZm9ybS5vbiggJ3N1Ym1pdCcsIHNlbGYsIHNlbGYuc3VibWl0ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gY2hlY2sgcGFzc3dvcmQgc3RyZW5ndGggb24ga2V5dXBcblx0XHRcdHNlbGYuJHBhc3MuYWRkKCBzZWxmLiRjb25mICkub24oICdrZXl1cCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmNoZWNrX3N0cmVuZ3RoKCk7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENoZWNrIHRoZSBzdHJlbmd0aCBvZiBhIHVzZXIgZW50ZXJlZCBwYXNzd29yZFxuXHRcdCAqIGFuZCB1cGRhdGUgZWxlbWVudHMgZGVwZW5kaW5nIG9uIHRoZSBjdXJyZW50IHN0cmVuZ3RoXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKiBAc2luY2UgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAzLjAuMFxuXHRcdCAqL1xuXHRcdGNoZWNrX3N0cmVuZ3RoOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgJHBhc3NfZmllbGQgPSB0aGlzLiRwYXNzLmNsb3Nlc3QoICcubGxtcy1mb3JtLWZpZWxkJyApLFxuXHRcdFx0XHQkY29uZl9maWVsZCA9IHRoaXMuJGNvbmYuY2xvc2VzdCggJy5sbG1zLWZvcm0tZmllbGQnICksXG5cdFx0XHRcdHBhc3NfbGVuZ3RoID0gdGhpcy4kcGFzcy52YWwoKS5sZW5ndGgsXG5cdFx0XHRcdGNvbmZfbGVuZ3RoID0gdGhpcy4kY29uZi52YWwoKS5sZW5ndGg7XG5cdFxuXHRcdFx0Ly8gaGlkZSB0aGUgbWV0ZXIgaWYgYm90aCBmaWVsZHMgYXJlIGVtcHR5XG5cdFx0XHRpZiAoICEgcGFzc19sZW5ndGggJiYgISBjb25mX2xlbmd0aCApIHtcblx0XHRcdFx0JHBhc3NfZmllbGQucmVtb3ZlQ2xhc3MoICd2YWxpZCBpbnZhbGlkJyApO1xuXHRcdFx0XHQkY29uZl9maWVsZC5yZW1vdmVDbGFzcyggJ3ZhbGlkIGludmFsaWQnICk7XG5cdFx0XHRcdHRoaXMuJG1ldGVyLmhpZGUoKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggdGhpcy5nZXRfY3VycmVudF9zdHJlbmd0aF9zdGF0dXMoKSApIHtcblx0XHRcdFx0JHBhc3NfZmllbGQucmVtb3ZlQ2xhc3MoICdpbnZhbGlkJyApLmFkZENsYXNzKCAndmFsaWQnICk7XG5cdFx0XHRcdGlmICggY29uZl9sZW5ndGggKSB7XG5cdFx0XHRcdFx0JGNvbmZfZmllbGQucmVtb3ZlQ2xhc3MoICdpbnZhbGlkJyApLmFkZENsYXNzKCAndmFsaWQnICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCRwYXNzX2ZpZWxkLnJlbW92ZUNsYXNzKCAndmFsaWQnICkuYWRkQ2xhc3MoICdpbnZhbGlkJyApO1xuXHRcdFx0XHRpZiAoIGNvbmZfbGVuZ3RoICkge1xuXHRcdFx0XHRcdCRjb25mX2ZpZWxkLnJlbW92ZUNsYXNzKCAndmFsaWQnICkuYWRkQ2xhc3MoICdpbnZhbGlkJyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0dGhpcy4kbWV0ZXIucmVtb3ZlQ2xhc3MoICd0b28tc2hvcnQgdmVyeS13ZWFrIHdlYWsgbWVkaXVtIHN0cm9uZyBtaXNtYXRjaCcgKTtcblx0XHRcdHRoaXMuJG1ldGVyLnNob3coKS5hZGRDbGFzcyggdGhpcy5nZXRfY3VycmVudF9zdHJlbmd0aCggJ3NsdWcnICkgKTtcblx0XHRcdHRoaXMuJG1ldGVyLmh0bWwoIHRoaXMuZ2V0X2N1cnJlbnRfc3RyZW5ndGgoICd0ZXh0JyApICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEZvcm0gc3VibWlzc2lvbiBhY3Rpb24gY2FsbGVkIGR1cmluZyByZWdpc3RyYXRpb24gb24gY2hlY2tvdXQgc2NyZWVuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICAgb2JqICAgICAgIHNlbGYgICAgICBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzXG5cdFx0ICogQHBhcmFtICAgIEZ1bmN0aW9uICBjYWxsYmFjayAgY2FsbGJhY2sgZnVuY3Rpb24sIHBhc3NlcyBlcnJvciBtZXNzYWdlIG9yIHN1Y2Nlc3MgYmFjayB0byBjaGVja291dCBoYW5kbGVyXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHRjaGVja291dDogZnVuY3Rpb24oIHNlbGYsIGNhbGxiYWNrICkge1xuXHRcblx0XHRcdGlmICggc2VsZi5nZXRfY3VycmVudF9zdHJlbmd0aF9zdGF0dXMoKSApIHtcblx0XG5cdFx0XHRcdGNhbGxiYWNrKCB0cnVlICk7XG5cdFxuXHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdGNhbGxiYWNrKCBMTE1TLmwxMG4udHJhbnNsYXRlKCAnVGhlcmUgaXMgYW4gaXNzdWUgd2l0aCB5b3VyIGNob3NlbiBwYXNzd29yZC4nICkgKTtcblx0XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEdldCB0aGUgbGlzdCBvZiBibGFja2xpc3RlZCBzdHJpbmdzXG5cdFx0ICogV2UnbGwgYWRkIGEgZmlsdGVyIHRvIHRoaXMgbGF0ZXIgc28gdGhhdCBkZXZlbG9wZXJzIGNhbiBhZGQgdGhlaXIgb3duIGJsYWNrbGlzdCB0byB0aGUgZGVmYXVsdCBXUCBsaXN0XG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIGFycmF5XG5cdFx0ICogQHNpbmNlIDMuMC4wXG5cdFx0ICovXG5cdFx0Z2V0X2JsYWNrbGlzdDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgYmxhY2tsaXN0ID0gd3AucGFzc3dvcmRTdHJlbmd0aC51c2VySW5wdXRCbGFja2xpc3QoKTtcblx0XHRcdHJldHVybiBibGFja2xpc3Q7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogUmV0cmlldmUgY3VycmVudCBzdHJlbmd0aCBhcyBhIG51bWJlciwgYSBzbHVnLCBvciBhIHRyYW5zbGF0ZWQgdGV4dCBzdHJpbmdcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgICBzdHJpbmcgICBmb3JtYXQgIGRlcml2ZWQgcmV0dXJuIGZvcm1hdCBbaW50fHNsdWd8dGV4dF0gZGVmYXVsdHMgdG8gaW50XG5cdFx0ICogQHJldHVybiAgIG1peGVkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0Z2V0X2N1cnJlbnRfc3RyZW5ndGg6IGZ1bmN0aW9uKCBmb3JtYXQgKSB7XG5cdFxuXHRcdFx0Zm9ybWF0ICAgPSBmb3JtYXQgfHwgJ2ludCc7XG5cdFx0XHR2YXIgcGFzcyA9IHRoaXMuJHBhc3MudmFsKCksXG5cdFx0XHRcdGNvbmYgPSB0aGlzLiRjb25mLnZhbCgpLFxuXHRcdFx0XHR2YWw7XG5cdFxuXHRcdFx0Ly8gZW5mb3JjZSBjdXN0b20gbGVuZ3RoIHJlcXVpcmVtZW50XG5cdFx0XHRpZiAoIHBhc3MubGVuZ3RoIDwgNiApIHtcblx0XHRcdFx0dmFsID0gLTE7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YWwgPSB3cC5wYXNzd29yZFN0cmVuZ3RoLm1ldGVyKCBwYXNzLCB0aGlzLmdldF9ibGFja2xpc3QoKSwgY29uZiApO1xuXHRcdFx0XHQvLyAwICYgMSBhcmUgYm90aCB2ZXJ5LXdlYWtcblx0XHRcdFx0aWYgKCAwID09PSB2YWwgKSB7XG5cdFx0XHRcdFx0dmFsID0gMTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggJ3NsdWcnID09PSBmb3JtYXQgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmdldF9zdHJlbmd0aF9zbHVnKCB2YWwgKTtcblx0XHRcdH0gZWxzZSBpZiAoICd0ZXh0JyA9PT0gZm9ybWF0ICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZXRfc3RyZW5ndGhfdGV4dCggdmFsICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gdmFsO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIERldGVybWluZXMgaWYgdGhlIGN1cnJlbnQgcGFzc3dvcmQgc3RyZW5ndGggbWVldHMgdGhlIHVzZXItZGVmaW5lZFxuXHRcdCAqIG1pbmltdW0gcGFzc3dvcmQgc3RyZW5ndGggcmVxdWlyZW1lbnRzXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuICAgYm9vbGVhblxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdGdldF9jdXJyZW50X3N0cmVuZ3RoX3N0YXR1czogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgY3VyciA9IHRoaXMuZ2V0X2N1cnJlbnRfc3RyZW5ndGgoKSxcblx0XHRcdFx0bWluICA9IHRoaXMuZ2V0X3N0cmVuZ3RoX3ZhbHVlKCB0aGlzLmdldF9taW5pbXVtX3N0cmVuZ3RoKCkgKTtcblx0XHRcdHJldHVybiAoIDUgPT09IGN1cnIgKSA/IGZhbHNlIDogKCBjdXJyID49IG1pbiApO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEdldCB0aGUgc2x1ZyBhc3NvY2lhdGVkIHdpdGggYSBzdHJlbmd0aCB2YWx1ZVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtICAgIGludCAgIHN0cmVuZ3RoX3ZhbCAgc3RyZW5ndGggdmFsdWUgbnVtYmVyXG5cdFx0ICogQHJldHVybiAgIHN0cmluZ1xuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdGdldF9zdHJlbmd0aF9zbHVnOiBmdW5jdGlvbiggc3RyZW5ndGhfdmFsICkge1xuXHRcblx0XHRcdHZhciBzbHVncyA9IHtcblx0XHRcdFx0Jy0xJzogJ3Rvby1zaG9ydCcsXG5cdFx0XHRcdDE6ICd2ZXJ5LXdlYWsnLFxuXHRcdFx0XHQyOiAnd2VhaycsXG5cdFx0XHRcdDM6ICdtZWRpdW0nLFxuXHRcdFx0XHQ0OiAnc3Ryb25nJyxcblx0XHRcdFx0NTogJ21pc21hdGNoJyxcblx0XHRcdH07XG5cdFxuXHRcdFx0cmV0dXJuICggc2x1Z3NbIHN0cmVuZ3RoX3ZhbCBdICkgPyBzbHVnc1sgc3RyZW5ndGhfdmFsIF0gOiBzbHVnc1s1XTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogR2V0cyB0aGUgdHJhbnNsYXRlZCB0ZXh0IGFzc29jaWF0ZWQgd2l0aCBhIHN0cmVuZ3RoIHZhbHVlXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICAgaW50ICBzdHJlbmd0aF92YWwgIHN0cmVuZ3RoIHZhbHVlXG5cdFx0ICogQHJldHVybiAgIHN0cmluZ1xuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdGdldF9zdHJlbmd0aF90ZXh0OiBmdW5jdGlvbiggc3RyZW5ndGhfdmFsICkge1xuXHRcblx0XHRcdHZhciB0ZXh0cyA9IHtcblx0XHRcdFx0Jy0xJzogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1RvbyBTaG9ydCcgKSxcblx0XHRcdFx0MTogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1ZlcnkgV2VhaycgKSxcblx0XHRcdFx0MjogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1dlYWsnICksXG5cdFx0XHRcdDM6IExMTVMubDEwbi50cmFuc2xhdGUoICdNZWRpdW0nICksXG5cdFx0XHRcdDQ6IExMTVMubDEwbi50cmFuc2xhdGUoICdTdHJvbmcnICksXG5cdFx0XHRcdDU6IExMTVMubDEwbi50cmFuc2xhdGUoICdNaXNtYXRjaCcgKSxcblx0XHRcdH07XG5cdFxuXHRcdFx0cmV0dXJuICggdGV4dHNbIHN0cmVuZ3RoX3ZhbCBdICkgPyB0ZXh0c1sgc3RyZW5ndGhfdmFsIF0gOiB0ZXh0c1s1XTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogR2V0IHRoZSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggYSBzdHJlbmd0aCBzbHVnXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgc3RyZW5ndGhfc2x1ZyAgYSBzdHJlbmd0aCBzbHVnXG5cdFx0ICogQHJldHVybiAgIGludFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdGdldF9zdHJlbmd0aF92YWx1ZTogZnVuY3Rpb24oIHN0cmVuZ3RoX3NsdWcgKSB7XG5cdFxuXHRcdFx0dmFyIHZhbHVlcyA9IHtcblx0XHRcdFx0J3Rvby1zaG9ydCc6IC0xLFxuXHRcdFx0XHQndmVyeS13ZWFrJzogMSxcblx0XHRcdFx0d2VhazogMixcblx0XHRcdFx0bWVkaXVtOiAzLFxuXHRcdFx0XHRzdHJvbmc6IDQsXG5cdFx0XHRcdG1pc21hdGNoOiA1LFxuXHRcdFx0fTtcblx0XG5cdFx0XHRyZXR1cm4gKCB2YWx1ZXNbIHN0cmVuZ3RoX3NsdWcgXSApID8gdmFsdWVzWyBzdHJlbmd0aF9zbHVnIF0gOiB2YWx1ZXMubWlzbWF0Y2g7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEZvcm0gc3VibWlzc2lvbiBoYW5kbGVyIGZvciByZWdpc3RyYXRpb24gYW5kIHVwZGF0ZSBmb3Jtc1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtICAgIG9iaiAgICBlICAgICAgICAgZXZlbnQgZGF0YVxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0c3VibWl0OiBmdW5jdGlvbiggZSApIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IGUuZGF0YTtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHNlbGYuJHBhc3MudHJpZ2dlciggJ2tleXVwJyApO1xuXHRcblx0XHRcdGlmICggc2VsZi5nZXRfY3VycmVudF9zdHJlbmd0aF9zdGF0dXMoKSApIHtcblx0XHRcdFx0c2VsZi4kZm9ybS5vZmYoICdzdWJtaXQnLCBzZWxmLnN1Ym1pdCApO1xuXHRcdFx0XHRzZWxmLiRmb3JtLnRyaWdnZXIoICdzdWJtaXQnICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKCAnaHRtbCwgYm9keScgKS5hbmltYXRlKCB7XG5cdFx0XHRcdFx0c2Nyb2xsVG9wOiBzZWxmLiRtZXRlci5vZmZzZXQoKS50b3AgLSAxMDAsXG5cdFx0XHRcdH0sIDIwMCApO1xuXHRcdFx0XHRzZWxmLiRtZXRlci5oaWRlKCk7XG5cdFx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNlbGYuJG1ldGVyLmZhZGVJbiggNDAwICk7XG5cdFx0XHRcdH0sIDIyMCApO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdH0gKTtcblx0XG5cdFx0LyoqXG5cdCAqIFByaWNpbmcgVGFibGUgVUlcblx0ICpcblx0ICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcblx0ICpcblx0ICogQHNpbmNlICBVbmtub3duLlxuXHQgKiBAdmVyc2lvbiAgVW5rbm93bi5cblx0ICovXG5cdFxuXHRMTE1TLlByaWNpbmdfVGFibGVzID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBJbml0XG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdGlmICggJCggJ2JvZHknICkuaGFzQ2xhc3MoICd3cC1hZG1pbicgKSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggJCggJy5sbG1zLWFjY2Vzcy1wbGFucycgKS5sZW5ndGggKSB7XG5cdFxuXHRcdFx0XHRMTE1TLndhaXRfZm9yX21hdGNoSGVpZ2h0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XHRcdFx0fSApO1xuXHRcblx0XHRcdFx0dGhpcy4kbG9ja2VkID0gJCggJ2FbaHJlZj1cIiNsbG1zLXBsYW4tbG9ja2VkXCJdJyApO1xuXHRcblx0XHRcdFx0aWYgKCB0aGlzLiRsb2NrZWQubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0XHRMTE1TLndhaXRfZm9yX3BvcG92ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0c2VsZi5iaW5kX2xvY2tlZCgpO1xuXHRcdFx0XHRcdH0gKTtcblx0XG5cdFx0XHRcdH1cblx0XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgTWV0aG9kXG5cdFx0ICogSGFuZGxlcyBkb20gYmluZGluZyBvbiBsb2FkXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cblx0XHQgKi9cblx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHQkKCAnLmxsbXMtYWNjZXNzLXBsYW4tY29udGVudCcgKS5tYXRjaEhlaWdodCgpO1xuXHRcdFx0JCggJy5sbG1zLWFjY2Vzcy1wbGFuLXByaWNpbmcudHJpYWwnICkubWF0Y2hIZWlnaHQoKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU2V0dXAgYSBwb3BvdmVyIGZvciBtZW1iZXJzLW9ubHkgcmVzdHJpY3RlZCBwbGFuc1xuXHRcdCAqXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuOS4xXG5cdFx0ICovXG5cdFx0YmluZF9sb2NrZWQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHRoaXMuJGxvY2tlZC5lYWNoKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdCQoIHRoaXMgKS53ZWJ1aVBvcG92ZXIoIHtcblx0XHRcdFx0XHRhbmltYXRpb246ICdwb3AnLFxuXHRcdFx0XHRcdGNsb3NlYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRjb250ZW50OiBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0XHRcdHZhciAkY29udGVudCA9ICQoICc8ZGl2IGNsYXNzPVwibGxtcy1tZW1iZXJzLW9ubHktcmVzdHJpY3Rpb25zXCIgLz4nICk7XG5cdFx0XHRcdFx0XHQkY29udGVudC5hcHBlbmQoIGUuJGVsZW1lbnQuY2xvc2VzdCggJy5sbG1zLWFjY2Vzcy1wbGFuJyApLmZpbmQoICcubGxtcy1hY2Nlc3MtcGxhbi1yZXN0cmljdGlvbnMgdWwnICkuY2xvbmUoKSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuICRjb250ZW50O1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0cGxhY2VtZW50OiAndG9wJyxcblx0XHRcdFx0XHRzdHlsZTogJ2ludmVyc2UnLFxuXHRcdFx0XHRcdHRpdGxlOiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnTWVtYmVycyBPbmx5IFByaWNpbmcnICksXG5cdFx0XHRcdFx0d2lkdGg6ICcyODBweCcsXG5cdFx0XHRcdH0gKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHR9O1xuXHRcblx0XHQvKipcblx0ICogTGlmdGVyTE1TIFJldmlld3MgSlNcblx0ICpcblx0ICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcblx0ICpcblx0ICogQHNpbmNlIFVua25vd25cblx0ICogQHZlcnNpb24gVW5rbm93blxuXHQgKi9cblx0XG5cdExMTVMuUmV2aWV3ID0ge1xuXHRcdC8qKlxuXHRcdCAqIEluaXRcblx0XHQgKiBsb2FkcyBjbGFzcyBtZXRob2RzXG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyBjb25zb2xlLmxvZygnSW5pdGlhbGl6aW5nIFJldmlldyAnKTtcblx0XHRcdHRoaXMuYmluZCgpO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoaXMgZnVuY3Rpb24gYmluZHMgYWN0aW9ucyB0byB0aGUgYXBwcm9wcmlhdGUgaG9va3Ncblx0XHQgKi9cblx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XHRcdCQoICcjbGxtc19yZXZpZXdfc3VibWl0X2J1dHRvbicgKS5jbGljayhmdW5jdGlvbigpXG5cdFx0XHRcdHtcblx0XHRcdFx0aWYgKCQoICcjcmV2aWV3X3RpdGxlJyApLnZhbCgpICE9PSAnJyAmJiAkKCAnI3Jldmlld190ZXh0JyApLnZhbCgpICE9PSAnJykge1xuXHRcdFx0XHRcdGpRdWVyeS5hamF4KHtcblx0XHRcdFx0XHRcdHR5cGUgOiAncG9zdCcsXG5cdFx0XHRcdFx0XHRkYXRhVHlwZSA6ICdqc29uJyxcblx0XHRcdFx0XHRcdHVybCA6IHdpbmRvdy5sbG1zLmFqYXh1cmwsXG5cdFx0XHRcdFx0XHRkYXRhIDoge1xuXHRcdFx0XHRcdFx0XHRhY3Rpb24gOiAnTExNU1N1Ym1pdFJldmlldycsXG5cdFx0XHRcdFx0XHRcdHJldmlld190aXRsZTogJCggJyNyZXZpZXdfdGl0bGUnICkudmFsKCksXG5cdFx0XHRcdFx0XHRcdHJldmlld190ZXh0OiAkKCAnI3Jldmlld190ZXh0JyApLnZhbCgpLFxuXHRcdFx0XHRcdFx0XHRwYWdlSUQgOiAkKCAnI3Bvc3RfSUQnICkudmFsKClcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbigpXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCAnUmV2aWV3IHN1Y2Nlc3MnICk7XG5cdFx0XHRcdFx0XHRcdCQoICcjcmV2aWV3X2JveCcgKS5oaWRlKCAnc3dpbmcnICk7XG5cdFx0XHRcdFx0XHRcdCQoICcjdGhhbmtfeW91X2JveCcgKS5zaG93KCAnc3dpbmcnICk7XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0ZXJyb3I6IGZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93biApXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCBqcVhIUiApO1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyggdGV4dFN0YXR1cyApO1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyggZXJyb3JUaHJvd24gKTtcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKCQoICcjcmV2aWV3X3RpdGxlJyApLnZhbCgpID09PSAnJykge1xuXHRcdFx0XHRcdFx0JCggJyNyZXZpZXdfdGl0bGVfZXJyb3InICkuc2hvdyggJ3N3aW5nJyApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQkKCAnI3Jldmlld190aXRsZV9lcnJvcicgKS5oaWRlKCAnc3dpbmcnICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICgkKCAnI3Jldmlld190ZXh0JyApLnZhbCgpID09PSAnJykge1xuXHRcdFx0XHRcdFx0JCggJyNyZXZpZXdfdGV4dF9lcnJvcicgKS5zaG93KCAnc3dpbmcnICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdCQoICcjcmV2aWV3X3RleHRfZXJyb3InICkuaGlkZSggJ3N3aW5nJyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRpZiAoICQoICcjX2xsbXNfZGlzcGxheV9yZXZpZXdzJyApLmF0dHIoICdjaGVja2VkJyApICkge1xuXHRcdFx0XHQkKCAnLmxsbXMtbnVtLXJldmlld3MtdG9wJyApLmFkZENsYXNzKCAndG9wJyApO1xuXHRcdFx0XHQkKCAnLmxsbXMtbnVtLXJldmlld3MtYm90dG9tJyApLnNob3coKTtcblx0XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKCAnLmxsbXMtbnVtLXJldmlld3MtYm90dG9tJyApLmhpZGUoKTtcblx0XHRcdH1cblx0XHRcdCQoICcjX2xsbXNfZGlzcGxheV9yZXZpZXdzJyApLmNoYW5nZShmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAkKCAnI19sbG1zX2Rpc3BsYXlfcmV2aWV3cycgKS5hdHRyKCAnY2hlY2tlZCcgKSApIHtcblx0XHRcdFx0XHQkKCAnLmxsbXMtbnVtLXJldmlld3MtdG9wJyApLmFkZENsYXNzKCAndG9wJyApO1xuXHRcdFx0XHRcdCQoICcubGxtcy1udW0tcmV2aWV3cy1ib3R0b20nICkuc2hvdygpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCQoICcubGxtcy1udW0tcmV2aWV3cy10b3AnICkucmVtb3ZlQ2xhc3MoICd0b3AnICk7XG5cdFx0XHRcdFx0JCggJy5sbG1zLW51bS1yZXZpZXdzLWJvdHRvbScgKS5oaWRlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcblx0XHR9LFxuXHR9O1xuXHRcblx0XHQvKipcblx0ICogQWRkIFNwaW5uZXJzIGZvciBBSkFYIGV2ZW50c1xuXHQgKlxuXHQgKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuXHQgKlxuXHQgKiBAc2luY2UgMy4wLjBcblx0ICogQHZlcnNpb24gMy4wLjBcblx0ICovXG5cdFxuXHRMTE1TLlNwaW5uZXIgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEdldCBhbiBleGl0aW5nIHNwaW5uZXIgZWxlbWVudCBvciBjcmVhdGUgYSBuZXcgb25lXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICAgb2JqICAgICAgJGVsICAgalF1ZXJ5IHNlbGVjdG9yIG9mIHRoZSBwYXJlbnQgZWxlbWVudCB0aGF0IHNob3VsZCBob2xkIGFuZCBiZSBtYXNlZCBieSBhIHNwaW5uZXJcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgc2l6ZSAgc2l6ZSBvciB0aGUgc3Bpbm5lciBbZGVmYXVsdHxzbWFsbF1cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCBpcyA0MHB4XG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgIHNtYWxsIGlzIDIwcHhcblx0XHQgKiBAcmV0dXJuICAgb2JqXG5cdFx0ICogQHNpbmNlIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gMy4wLjBcblx0XHQgKi9cblx0XHRnZXQ6IGZ1bmN0aW9uKCAkZWwsIHNpemUgKSB7XG5cdFxuXHRcdFx0Ly8gbG9vayBmb3IgYW4gZXhpc3Rpbmcgc3Bpbm5lclxuXHRcdFx0dmFyICRzcGlubmVyID0gJGVsLmZpbmQoICcubGxtcy1zcGlubmluZycgKS5maXJzdCgpO1xuXHRcblx0XHRcdC8vIG5vIHNwaW5uZXIgaW5zaWRlICRlbFxuXHRcdFx0aWYgKCAhICRzcGlubmVyLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdHNpemUgPSAoIHNpemUgKSA/IHNpemUgOiAnZGVmYXVsdCc7XG5cdFxuXHRcdFx0XHQvLyBjcmVhdGUgdGhlIHNwaW5uZXJcblx0XHRcdFx0JHNwaW5uZXIgPSAkKCAnPGRpdiBjbGFzcz1cImxsbXMtc3Bpbm5pbmdcIj48aSBjbGFzcz1cImxsbXMtc3Bpbm5lciAnICsgc2l6ZSArICdcIj48L2k+PC9kaXY+JyApO1xuXHRcblx0XHRcdFx0Ly8gYWRkIGl0IHRvIHRoZSBkb21cblx0XHRcdFx0JGVsLmFwcGVuZCggJHNwaW5uZXIgKTtcblx0XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gcmV0dXJuIGl0XG5cdFx0XHRyZXR1cm4gJHNwaW5uZXI7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFN0YXJ0IHNwaW5uZXIocykgaW5yPXNpZGUgYSBnaXZlbiBlbGVtZW50XG5cdFx0ICogQ3JlYXRlcyB0aGVtIGlmIHRoZXkgZG9uJ3QgZXhpc3QhXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICBvYmogICAgICAkZWwgICBqUXVlcnkgc2VsZWN0b3Igb2YgdGhlIHBhcmVudCBlbGVtZW50IHRoYXQgc2hvdWxkIGhvbGQgYW5kIGJlIG1hc2VkIGJ5IGEgc3Bpbm5lclxuXHRcdCAqIEBwYXJhbSAgIHN0cmluZyAgIHNpemUgIHNpemUgb3IgdGhlIHNwaW5uZXIgW2RlZmF1bHR8c21hbGxdXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgaXMgNDBweFxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICBzbWFsbCBpcyAyMHB4XG5cdFx0ICogQHJldHVybiAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gMy4wLjBcblx0XHQgKi9cblx0XHRzdGFydDogZnVuY3Rpb24oICRlbCwgc2l6ZSApIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0JGVsLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0c2VsZi5nZXQoICQoIHRoaXMgKSwgc2l6ZSApLnNob3coKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFN0b3JlIHNwaW5uZXJzIHdpdGhpbiBhbiBlbGVtZW50XG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICBvYmogICAgICAkZWwgICBqUXVlcnkgc2VsZWN0b3Igb2YgdGhlIHBhcmVudCBlbGVtZW50IHRoYXQgc2hvdWxkIGhvbGQgYW5kIGJlIG1hc2VkIGJ5IGEgc3Bpbm5lclxuXHRcdCAqIEByZXR1cm4gIHZvaWRcblx0XHQgKiBAc2luY2UgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uIDMuMC4wXG5cdFx0ICovXG5cdFx0c3RvcDogZnVuY3Rpb24oICRlbCApIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0JGVsLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0c2VsZi5nZXQoICQoIHRoaXMgKSApLmhpZGUoKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH1cblx0XG5cdH07XG5cdFxuXHRcdC8qKlxuXHQgKiBTdHVkZW50IERhc2hib2FyZCByZWxhdGVkIEpTXG5cdCAqXG5cdCAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG5cdCAqXG5cdCAqIEBzaW5jZSAgICAzLjcuMFxuXHQgKiBAdmVyc2lvbiAgMy4xMC4wXG5cdCAqL1xuXHRcblx0TExNUy5TdHVkZW50RGFzaGJvYXJkID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBTbHVnIGZvciB0aGUgY3VycmVudCBzY3JlZW4vZW5kcG9pbnRcblx0XHQgKlxuXHRcdCAqIEB0eXBlICB7U3RyaW5nfVxuXHRcdCAqL1xuXHRcdHNjcmVlbjogJycsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFdpbGwgc2hvdyB0aGUgbnVtYmVyIG9mIG1ldGVycyBvbiB0aGUgcGFnZVxuXHRcdCAqIFVzZWQgdG8gY29uZGl0aW9uYWxseSBiaW5kIG1ldGVyLXJlbGF0ZWQgZXZlbnRzIG9ubHkgd2hlbiBtZXRlcnNcblx0XHQgKiBhY3R1YWxseSBleGlzdFxuXHRcdCAqXG5cdFx0ICogQHR5cGUgIGludFxuXHRcdCAqL1xuXHRcdG1ldGVyX2V4aXN0czogMCxcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5pdFxuXHRcdCAqXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy43LjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xMC4wXG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0aWYgKCAkKCAnLmxsbXMtc3R1ZGVudC1kYXNoYm9hcmQnICkubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0dGhpcy5tZXRlcl9leGlzdHMgPSAkKCAnLmxsbXMtcGFzc3dvcmQtc3RyZW5ndGgtbWV0ZXInICkubGVuZ3RoO1xuXHRcdFx0XHR0aGlzLmJpbmQoKTtcblx0XG5cdFx0XHRcdGlmICggJ29yZGVycycgPT09IHRoaXMuZ2V0X3NjcmVlbigpICkge1xuXHRcblx0XHRcdFx0XHR0aGlzLmJpbmRfb3JkZXJzKCk7XG5cdFxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIERPTSBldmVudHNcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuNy4wXG5cdFx0ICogQHZlcnNpb24gIDMuNy40XG5cdFx0ICovXG5cdFx0YmluZDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgICAgPSB0aGlzLFxuXHRcdFx0XHQkdG9nZ2xlID0gJCggJy5sbG1zLXN0dWRlbnQtZGFzaGJvYXJkIGFbaHJlZj1cIiNsbG1zLXBhc3N3b3JkLWNoYW5nZS10b2dnbGVcIl0nICk7XG5cdFxuXHRcdFx0Ly8gY2xpY2sgZXZlbnQgZm9yIHRoZSBjaGFuZ2UgcGFzc3dvcmQgbGlua1xuXHRcdFx0JHRvZ2dsZS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oIGUgKSB7XG5cdFxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHRcdFx0XHR2YXIgJHRoaXMgICAgICAgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0Y3Vycl90ZXh0ICAgPSAkdGhpcy50ZXh0KCksXG5cdFx0XHRcdFx0Y3Vycl9hY3Rpb24gPSAkdGhpcy5hdHRyKCAnZGF0YS1hY3Rpb24nICksXG5cdFx0XHRcdFx0bmV3X2FjdGlvbiAgPSAnaGlkZScgPT09IGN1cnJfYWN0aW9uID8gJ3Nob3cnIDogJ2hpZGUnLFxuXHRcdFx0XHRcdG5ld190ZXh0ICAgID0gJHRoaXMuYXR0ciggJ2RhdGEtdGV4dCcgKTtcblx0XG5cdFx0XHRcdHNlbGYucGFzc3dvcmRfdG9nZ2xlKCBjdXJyX2FjdGlvbiApO1xuXHRcblx0XHRcdFx0Ly8gcHJldmVudCBhY2NpZGVudGFsIGNhbmNlbHMgd2hlbiB1c2VycyB0YWIgb3V0IG9mIHRoZSBjb25maXJtIHBhc3N3b3JkIGZpZWxkXG5cdFx0XHRcdC8vIGFuZCBleHBlY3QgdG8gaGl0IHN1Ym1pdCB3aXRoIGVudGVyIGtleSBpbW1lZGlhdGVseSBhZnRlclxuXHRcdFx0XHRpZiAoICdzaG93JyA9PT0gY3Vycl9hY3Rpb24gKSB7XG5cdFx0XHRcdFx0JHRoaXMuYXR0ciggJ3RhYmluZGV4JywgJy03NzcnICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JHRoaXMucmVtb3ZlQXR0ciggJ3RhYmluZGV4JyApO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHQkdGhpcy5hdHRyKCAnZGF0YS1hY3Rpb24nLCBuZXdfYWN0aW9uICkuYXR0ciggJ2RhdGEtdGV4dCcsIGN1cnJfdGV4dCApLnRleHQoIG5ld190ZXh0ICk7XG5cdFxuXHRcdFx0fSApO1xuXHRcblx0XHRcdC8vIHRoaXMgd2lsbCByZW1vdmUgdGhlIHJlcXVpcmVkIGJ5IGRlZmF1bHQgd2l0aG91dCBoYXZpbmcgdG8gbWVzcyB3aXRoXG5cdFx0XHQvLyBjb25kaXRpb25hbHMgaW4gUEhQIGFuZCBzdGlsbCBhbGxvd3MgdGhlIHJlcXVpcmVkICogdG8gc2hvdyBpbiB0aGUgbGFiZWxcblx0XG5cdFx0XHRpZiAoIHRoaXMubWV0ZXJfZXhpc3RzICkge1xuXHRcblx0XHRcdFx0JCggJy5sbG1zLXBlcnNvbi1mb3JtLmVkaXQtYWNjb3VudCcgKS5vbiggJ2xsbXMtcGFzc3dvcmQtc3RyZW5ndGgtcmVhZHknLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLnBhc3N3b3JkX3RvZ2dsZSggJ2hpZGUnICk7XG5cdFx0XHRcdH0gKTtcblx0XG5cdFx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdFx0c2VsZi5wYXNzd29yZF90b2dnbGUoICdoaWRlJyApO1xuXHRcblx0XHRcdH1cblx0XG5cdFx0XHQkKCAnLmxsbXMtZG9udXQnICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdExMTVMuRG9udXQoICQoIHRoaXMgKSApO1xuXHRcdFx0fSApO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIGV2ZW50cyByZWxhdGVkIHRvIHRoZSBvcmRlcnMgc2NyZWVuIG9uIHRoZSBkYXNoYm9hcmRcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMTAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0XHQgKi9cblx0XHRiaW5kX29yZGVyczogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0JCggJyNsbG1zLWNhbmNlbC1zdWJzY3JpcHRpb24tZm9ybScgKS5vbiggJ3N1Ym1pdCcsIHRoaXMub3JkZXJfY2FuY2VsX3dhcm5pbmcgKTtcblx0XHRcdCQoICcjbGxtc191cGRhdGVfcGF5bWVudF9tZXRob2QnICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQkKCAnaW5wdXRbbmFtZT1cImxsbXNfcGF5bWVudF9nYXRld2F5XCJdOmNoZWNrZWQnICkudHJpZ2dlciggJ2NoYW5nZScgKTtcblx0XHRcdFx0JCggdGhpcyApLmNsb3Nlc3QoICdmb3JtJyApLmZpbmQoICcubGxtcy1zd2l0Y2gtcGF5bWVudC1zb3VyY2UtbWFpbicgKS5zbGlkZVRvZ2dsZSggJzIwMCcgKTtcblx0XHRcdH0gKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogR2V0IHRoZSBjdXJyZW50IGRhc2hib2FyZCBlbmRwb2ludC90YWIgc2x1Z1xuXHRcdCAqXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4xMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHRcdCAqL1xuXHRcdGdldF9zY3JlZW46IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCAhIHRoaXMuc2NyZWVuICkge1xuXHRcdFx0XHR0aGlzLnNjcmVlbiA9ICQoICcubGxtcy1zdHVkZW50LWRhc2hib2FyZCcgKS5hdHRyKCAnZGF0YS1jdXJyZW50JyApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXMuc2NyZWVuO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFNob3cgYSBjb25maXJtYXRpb24gd2FybmluZyB3aGVuIENhbmNlbCBTdWJzY3JpcHRpb24gZm9ybSBpcyBzdWJtaXR0ZWRcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgICBvYmogICBlICBKUyBldmVudCBkYXRhXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4xMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHRcdCAqL1xuXHRcdG9yZGVyX2NhbmNlbF93YXJuaW5nOiBmdW5jdGlvbiggZSApIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHZhciBtc2cgPSBMTE1TLmwxMG4udHJhbnNsYXRlKCAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNhbmNlbCB5b3VyIHN1YnNjcmlwdGlvbj8nICk7XG5cdFx0XHRpZiAoIHdpbmRvdy5jb25maXJtKCBMTE1TLmwxMG4udHJhbnNsYXRlKCBtc2cgKSApICkge1xuXHRcdFx0XHQkKCB0aGlzICkub2ZmKCAnc3VibWl0JywgdGhpcy5vcmRlcl9jYW5jZWxfd2FybmluZyApO1xuXHRcdFx0XHQkKCB0aGlzICkuc3VibWl0KCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogVG9nZ2xlIHBhc3N3b3JkIHJlbGF0ZWQgZmllbGRzIG9uIHRoZSBhY2NvdW50IGVkaXQgcGFnZVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtICAgIHN0cmluZyAgIGFjdGlvbiAgW3Nob3d8aGlkZV1cblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjcuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjcuNFxuXHRcdCAqL1xuXHRcdHBhc3N3b3JkX3RvZ2dsZTogZnVuY3Rpb24oIGFjdGlvbiApIHtcblx0XG5cdFx0XHRpZiAoICEgYWN0aW9uICkge1xuXHRcdFx0XHRhY3Rpb24gPSAnc2hvdyc7XG5cdFx0XHR9XG5cdFxuXHRcdFx0dmFyIHNlbGYgID0gdGhpcyxcblx0XHRcdFx0JHB3ZHMgPSAkKCAnI3Bhc3N3b3JkLCAjcGFzc3dvcmRfY29uZmlybSwgI2N1cnJlbnRfcGFzc3dvcmQnICksXG5cdFx0XHRcdCRmb3JtID0gJCggJyNwYXNzd29yZCcgKS5jbG9zZXN0KCAnZm9ybScgKTtcblx0XG5cdFx0XHQvLyBoaWRlIG9yIHNob3cgdGhlIGZpZWxkc1xuXHRcdFx0JCggJy5sbG1zLWNoYW5nZS1wYXNzd29yZCcgKVsgYWN0aW9uIF0oKTtcblx0XG5cdFx0XHRpZiAoICdzaG93JyA9PT0gYWN0aW9uICkge1xuXHRcdFx0XHQvLyBtYWtlIHBhc3N3b3JkcyByZXF1aXJlZFxuXHRcdFx0XHQkcHdkcy5hdHRyKCAncmVxdWlyZWQnLCAncmVxdWlyZWQnICk7XG5cdFxuXHRcdFx0XHRpZiAoIHNlbGYubWV0ZXJfZXhpc3RzICkge1xuXHRcdFx0XHRcdC8vIGFkZCB0aGUgc3RyZW5ndGggY2hlY2sgb24gZm9ybSBzdWJtaXNzaW9uXG5cdFx0XHRcdFx0JGZvcm0ub24oICdzdWJtaXQnLCBMTE1TLlBhc3N3b3JkU3RyZW5ndGgsIExMTVMuUGFzc3dvcmRTdHJlbmd0aC5zdWJtaXQgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIHJlbW92ZSByZXF1aXJlbWVudCBzbyBmb3JtIGNhbiBiZSBzdWJtaXR0ZWQgd2hpbGUgZmllbGRzIGFyZSBoaWRkZW5cblx0XHRcdFx0Ly8gYW5kIGNsZWFyIHRoZSBwYXNzd29yZCBvdXQgb2YgdGhlIGZpZWxkcyBpZiB0eXBpbmcgc3RhcnRlZFxuXHRcdFx0XHQkcHdkcy5yZW1vdmVBdHRyKCAncmVxdWlyZWQnICkudmFsKCAnJyApO1xuXHRcblx0XHRcdFx0aWYgKCBzZWxmLm1ldGVyX2V4aXN0cyApIHtcblx0XG5cdFx0XHRcdFx0Ly8gcmVtb3ZlIHRoZSBwYXNzd29yZCBzdHJlbmd0aCBzdWJtaXNzaW9uIGNoZWNrXG5cdFx0XHRcdFx0JGZvcm0ub2ZmKCAnc3VibWl0JywgTExNUy5QYXNzd29yZFN0cmVuZ3RoLnN1Ym1pdCApO1xuXHRcdFx0XHRcdC8vIGNsZWFycyB0aGUgbWV0ZXJcblx0XHRcdFx0XHRMTE1TLlBhc3N3b3JkU3RyZW5ndGguY2hlY2tfc3RyZW5ndGgoKTtcblx0XG5cdFx0XHRcdH1cblx0XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHR9O1xuXHRcblx0XHQvKipcblx0ICogUmVzdCBNZXRob2RzXG5cdCAqIE1hbmFnZXMgVVJMIGFuZCBSZXN0IG9iamVjdCBwYXJzaW5nXG5cdCAqXG5cdCAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG5cdCAqXG5cdCAqIEBzaW5jZSBVbmtub3duXG5cdCAqIEB2ZXJzaW9uICBVbmtub3duXG5cdCAqL1xuXHRcblx0TExNUy5SZXN0ID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBJbml0XG5cdFx0ICogbG9hZHMgY2xhc3MgbWV0aG9kc1xuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5iaW5kKCk7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQmluZCBNZXRob2Rcblx0XHQgKiBIYW5kbGVzIGRvbSBiaW5kaW5nIG9uIGxvYWRcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFNlYXJjaGVzIGZvciBzdHJpbmcgbWF0Y2hlcyBpbiB1cmwgcGF0aFxuXHRcdCAqXG5cdFx0ICogQHBhcmFtICB7QXJyYXl9ICBzdHJpbmdzIFtBcnJheSBvZiBzdHJpbmdzIHRvIHNlYXJjaCBmb3IgbWF0Y2hlc11cblx0XHQgKiBAcmV0dXJuIHtCb29sZWFufSAgICAgICAgIFtXYXMgYSBtYXRjaCBmb3VuZD9dXG5cdFx0ICovXG5cdFx0aXNfcGF0aDogZnVuY3Rpb24oIHN0cmluZ3MgKSB7XG5cdFxuXHRcdFx0dmFyIHBhdGhfZXhpc3RzID0gZmFsc2UsXG5cdFx0XHRcdHVybCAgICAgICAgID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5cdFxuXHRcdFx0Zm9yICggdmFyIGkgPSAwOyBpIDwgc3RyaW5ncy5sZW5ndGg7IGkrKyApIHtcblx0XG5cdFx0XHRcdGlmICggdXJsLnNlYXJjaCggc3RyaW5nc1tpXSApID4gMCAmJiAhIHBhdGhfZXhpc3RzICkge1xuXHRcblx0XHRcdFx0XHRwYXRoX2V4aXN0cyA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gcGF0aF9leGlzdHM7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogUmV0cmlldmVzIHF1ZXJ5IHZhcmlhYmxlc1xuXHRcdCAqXG5cdFx0ICogQHJldHVybiB7W0FycmF5XX0gW2FycmF5IG9iamVjdCBvZiBxdWVyeSB2YXJpYWJsZSBrZXk9PnZhbHVlIHBhaXJzXVxuXHRcdCAqL1xuXHRcdGdldF9xdWVyeV92YXJzOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgdmFycyAgID0gW10sIGhhc2gsXG5cdFx0XHRcdGhhc2hlcyA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNsaWNlKCB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCAnPycgKSArIDEgKS5zcGxpdCggJyYnICk7XG5cdFxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBoYXNoZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aGFzaCA9IGhhc2hlc1tpXS5zcGxpdCggJz0nICk7XG5cdFx0XHRcdHZhcnMucHVzaCggaGFzaFswXSApO1xuXHRcdFx0XHR2YXJzW2hhc2hbMF1dID0gaGFzaFsxXTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gdmFycztcblx0XHR9XG5cdFxuXHR9O1xuXHRcblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZXMgYWxsIGNsYXNzZXMgd2l0aGluIHRoZSBMTE1TIE5hbWVzcGFjZVxuXHQgKlxuXHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cblx0ICovXG5cdExMTVMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0Zm9yICh2YXIgZnVuYyBpbiBMTE1TKSB7XG5cblx0XHRcdGlmICggdHlwZW9mIExMTVNbZnVuY10gPT09ICdvYmplY3QnICYmIExMTVNbZnVuY10gIT09IG51bGwgKSB7XG5cblx0XHRcdFx0aWYgKCBMTE1TW2Z1bmNdLmluaXQgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRcdGlmICggdHlwZW9mIExMTVNbZnVuY10uaW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0TExNU1tmdW5jXS5pbml0KCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH07XG5cblx0LyoqXG5cdCAqIERldGVybWluZSBpZiB0aGUgY3VycmVudCBkZXZpY2UgaXMgdG91Y2gtZW5hYmxlZFxuXHQgKlxuXHQgKiBAc2VlICAgICBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDgxOTg4Ni80MDA1NjggWzIwMTggVXBkYXRlXVxuXHQgKiBAcmV0dXJuICB7Qm9vbGVhbn1cblx0ICogQHNpbmNlICAgMy4yNC4zXG5cdCAqIEB2ZXJzaW9uIDMuMjQuM1xuXHQgKi9cblx0TExNUy5pc190b3VjaF9kZXZpY2UgPSBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBwcmVmaXhlcyA9ICcgLXdlYmtpdC0gLW1vei0gLW8tIC1tcy0gJy5zcGxpdCggJyAnICk7XG5cdFx0dmFyIG1xICAgICAgID0gZnVuY3Rpb24oIHF1ZXJ5ICkge1xuXHRcdFx0cmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKCBxdWVyeSApLm1hdGNoZXM7XG5cdFx0fVxuXG5cdFx0aWYgKCAoICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyApIHx8IHdpbmRvdy5Eb2N1bWVudFRvdWNoICYmIGRvY3VtZW50IGluc3RhbmNlb2YgRG9jdW1lbnRUb3VjaCApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIGluY2x1ZGUgdGhlICdoZWFydHonIGFzIGEgd2F5IHRvIGhhdmUgYSBub24gbWF0Y2hpbmcgTVEgdG8gaGVscCB0ZXJtaW5hdGUgdGhlIGpvaW5cblx0XHQvLyBodHRwczovL2dpdC5pby92em5GSFxuXHRcdHZhciBxdWVyeSA9IFsnKCcsIHByZWZpeGVzLmpvaW4oICd0b3VjaC1lbmFibGVkKSwoJyApLCAnaGVhcnR6JywgJyknXS5qb2luKCAnJyApO1xuXHRcdHJldHVybiBtcSggcXVlcnkgKTtcblxuXHR9O1xuXG5cdC8qKlxuXHQgKiBXYWl0IGZvciBtYXRjaEhlaWdodCB0byBsb2FkXG5cdCAqXG5cdCAqIEBwYXJhbSAgICB7RnVuY3Rpb259ICBjYiAgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcnVuIHdoZW4gbWF0Y2hoZWlnaHQgaXMgcmVhZHlcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjE2LjZcblx0ICovXG5cdExMTVMud2FpdF9mb3JfbWF0Y2hIZWlnaHQgPSBmdW5jdGlvbiggY2IgKSB7XG5cdFx0dGhpcy53YWl0X2ZvciggZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gKCB1bmRlZmluZWQgIT09ICQuZm4ubWF0Y2hIZWlnaHQgKTtcblx0XHR9LCBjYiApO1xuXHR9XG5cblx0LyoqXG5cdCAqIFdhaXQgZm9yIHdlYnVpUG9wb3ZlciB0byBsb2FkXG5cdCAqXG5cdCAqIEBwYXJhbSAgICB7RnVuY3Rpb259ICBjYiAgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcnVuIHdoZW4gbWF0Y2hoZWlnaHQgaXMgcmVhZHlcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuOS4xXG5cdCAqIEB2ZXJzaW9uICAzLjE2LjZcblx0ICovXG5cdExMTVMud2FpdF9mb3JfcG9wb3ZlciA9IGZ1bmN0aW9uKCBjYiApIHtcblx0XHR0aGlzLndhaXRfZm9yKCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiAoIHVuZGVmaW5lZCAhPT0gJC5mbi53ZWJ1aVBvcG92ZXIgKTtcblx0XHR9LCBjYiApO1xuXHR9XG5cblx0LyoqXG5cdCAqIFdhaXQgZm9yIGEgZGVwZW5kZW5jeSB0byBsb2FkIGFuZCB0aGVuIHJ1biBhIGNhbGxiYWNrIG9uY2UgaXQgaGFzXG5cdCAqIFRlbXBvcmFyeSBmaXggZm9yIGEgbGVzcy10aGFuLW9wdGltYWwgYXNzZXRzIGxvYWRpbmcgZnVuY3Rpb24gb24gdGhlIFBIUCBzaWRlIG9mIHRoaW5nc1xuXHQgKlxuXHQgKiBAcGFyYW0gICAge0Z1bmN0aW9ufSAgICB0ZXN0ICBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHRydXRoeSBpZiB0aGUgZGVwZW5kZW5jeSBpcyBsb2FkZWRcblx0ICogQHBhcmFtICAgIHtGdW5jdGlvbn0gICAgY2IgICAgYSBjYWxsYmFjayBmdW5jdGlvbiBleGVjdXRlZCBvbmNlIHRoZSBkZXBlbmRlbmN5IGlzIGxvYWRlZFxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy45LjFcblx0ICogQHZlcnNpb24gIDMuOS4xXG5cdCAqL1xuXHRMTE1TLndhaXRfZm9yID0gZnVuY3Rpb24oIHRlc3QsIGNiICkge1xuXG5cdFx0dmFyIGNvdW50ZXIgPSAwLFxuXHRcdFx0aW50ZXJ2YWw7XG5cblx0XHRpbnRlcnZhbCA9IHNldEludGVydmFsKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gaWYgd2UgZ2V0IHRvIDMwIHNlY29uZHMgbG9nIGFuIGVycm9yIG1lc3NhZ2Vcblx0XHRcdGlmICggY291bnRlciA+PSAzMDAgKSB7XG5cblx0XHRcdFx0Y29uc29sZS5sb2coICdjb3VsZCBub3QgbG9hZCBkZXBlbmRlbmN5JyApO1xuXG5cdFx0XHRcdC8vIGlmIHdlIGNhbid0IGFjY2VzcyB5ZSwgaW5jcmVtZW50IGFuZCB3YWl0Li4uXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIGJpbmQgdGhlIGV2ZW50cywgd2UncmUgZ29vZCFcblx0XHRcdFx0aWYgKCB0ZXN0KCkgKSB7XG5cblx0XHRcdFx0XHRjYigpO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRjb25zb2xlLmxvZyggJ3dhaXRpbmcuLi4nICk7XG5cdFx0XHRcdFx0Y291bnRlcisrO1xuXHRcdFx0XHRcdHJldHVybjtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0Y2xlYXJJbnRlcnZhbCggaW50ZXJ2YWwgKTtcblxuXHRcdH0sIDEwMCApO1xuXG5cdH07XG5cblx0TExNUy5pbml0KCAkICk7XG5cbn0pKCBqUXVlcnkgKTtcbiIsIi8qKlxuICogRnJvbnQgRW5kIEFjaGlldmVtZW50c1xuICpcbiAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG4gKlxuICogQHNpbmNlICAgIDMuMTQuMFxuICogQHZlcnNpb24gIDMuMTQuMFxuICovXG5cbkxMTVMuQWNoaWV2ZW1lbnRzID0ge1xuXG5cdC8qKlxuXHQgKiBJbml0XG5cdCAqXG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjE0LjBcblx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHQgKi9cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoICQoICcubGxtcy1hY2hpZXZlbWVudCcgKSApIHtcblx0XHRcdCQoIGRvY3VtZW50ICkub24oICdyZWFkeScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XHRcdFx0c2VsZi5tYXliZV9vcGVuKCk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdH0sXG5cblx0LyoqXG5cdCAqIEJpbmQgRE9NIGV2ZW50c1xuXHQgKlxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy4xNC4wXG5cdCAqIEB2ZXJzaW9uICAzLjE0LjBcblx0ICovXG5cdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0JCggJy5sbG1zLWFjaGlldmVtZW50JyApLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRzZWxmLmNyZWF0ZV9tb2RhbCggJCggdGhpcyApICk7XG5cblx0XHR9ICk7XG5cblx0XHQkKCAnLmxsbXMtYWNoaWV2ZW1lbnQnICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgJHRoaXMgID0gJCggdGhpcyApLFxuXHRcdFx0XHRpZCAgICAgPSAnYWNoaWV2ZW1lbnQtJyArICR0aGlzLmF0dHIoICdkYXRhLWlkJyApLFxuXHRcdFx0XHQkbW9kYWwgPSAkKCAnIycgKyBpZCApO1xuXG5cdFx0XHRpZiAoICEgJG1vZGFsLmxlbmd0aCApIHtcblx0XHRcdFx0c2VsZi5jcmVhdGVfbW9kYWwoICR0aGlzICk7XG5cdFx0XHR9XG5cblx0XHRcdCRtb2RhbC5pemlNb2RhbCggJ29wZW4nICk7XG5cblx0XHR9ICk7XG5cblx0fSxcblxuXHQvKipcblx0ICogQ3JlYXRlcyBtb2RhbCBhIG1vZGFsIGZvciBhbiBhY2hpZXZlbWVudFxuXHQgKlxuXHQgKiBAcGFyYW0gICAgb2JqICAgJGVsICBqUXVlcnkgc2VsZWN0b3IgZm9yIHRoZSBtb2RhbCBjYXJkXG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjE0LjBcblx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHQgKi9cblx0Y3JlYXRlX21vZGFsOiBmdW5jdGlvbiggJGVsICkge1xuXG5cdFx0dmFyIGlkICAgICA9ICdhY2hpZXZlbWVudC0nICsgJGVsLmF0dHIoICdkYXRhLWlkJyApLFxuXHRcdFx0JG1vZGFsID0gJCggJyMnICsgaWQgKTtcblxuXHRcdGlmICggISAkbW9kYWwubGVuZ3RoICkge1xuXHRcdFx0JG1vZGFsID0gJCggJzxkaXYgY2xhc3M9XCJsbG1zLWFjaGlldmVtZW50LW1vZGFsXCIgaWQ9XCInICsgaWQgKyAnXCIgLz4nICk7XG5cdFx0XHQkKCAnYm9keScgKS5hcHBlbmQoICRtb2RhbCApO1xuXHRcdH1cblxuXHRcdCRtb2RhbC5pemlNb2RhbCgge1xuXHRcdFx0aGVhZGVyQ29sb3I6ICcjM2EzYTNhJyxcblx0XHRcdGdyb3VwOiAnYWNoaWV2ZW1lbnRzJyxcblx0XHRcdGhpc3Rvcnk6IHRydWUsXG5cdFx0XHRsb29wOiB0cnVlLFxuXHRcdFx0b3ZlcmxheUNvbG9yOiAncmdiYSggMCwgMCwgMCwgMC42ICknLFxuXHRcdFx0dHJhbnNpdGlvbkluOiAnZmFkZUluRG93bicsXG5cdFx0XHR0cmFuc2l0aW9uT3V0OiAnZmFkZU91dERvd24nLFxuXHRcdFx0d2lkdGg6IDM0MCxcblx0XHRcdG9uT3BlbmluZzogZnVuY3Rpb24oIG1vZGFsICkge1xuXG5cdFx0XHRcdG1vZGFsLnNldFRpdGxlKCAkZWwuZmluZCggJy5sbG1zLWFjaGlldmVtZW50LXRpdGxlJyApLmh0bWwoKSApO1xuXHRcdFx0XHRtb2RhbC5zZXRTdWJ0aXRsZSggJGVsLmZpbmQoICcubGxtcy1hY2hpZXZlbWVudC1kYXRlJyApLmh0bWwoKSApO1xuXHRcdFx0XHRtb2RhbC5zZXRDb250ZW50KCAnPGRpdiBjbGFzcz1cImxsbXMtYWNoaWV2ZW1lbnRcIj4nICsgJGVsLmh0bWwoKSArICc8L2Rpdj4nICk7XG5cblx0XHRcdH0sXG5cblx0XHRcdG9uQ2xvc2luZzogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSggJycsIGRvY3VtZW50LnRpdGxlLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoICk7XG5cdFx0XHR9LFxuXG5cdFx0fSApO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIE9uIHBhZ2UgbG9hZCwgb3BlbnMgYSBtb2RhbCBpZiB0aGUgVVJMIGNvbnRhaW5zIGFuIGFjaGlldmVtZW50IGluIHRoZSBsb2NhdGlvbiBoYXNoXG5cdCAqXG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjE0LjBcblx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHQgKi9cblx0bWF5YmVfb3BlbjogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuXHRcdGlmICggaGFzaCAmJiAtMSAhPT0gaGFzaC5pbmRleE9mKCAnYWNoaWV2ZW1lbnQtJyApICkge1xuXHRcdFx0JCggJ2FbaHJlZj1cIicgKyBoYXNoICsgJ1wiXScgKS5maXJzdCgpLnRyaWdnZXIoICdjbGljaycgKTtcblx0XHR9XG5cblx0fVxuXG59O1xuIiwiLyoqXG4gKiBNYWluIEFqYXggY2xhc3NcbiAqIEhhbmRsZXMgUHJpbWFyeSBBamF4IGNvbm5lY3Rpb25cbiAqXG4gKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuICpcbiAqIEBzaW5jZSBVbmtub3duXG4gKiBAdmVyc2lvbiBVbmtub3duXG4gKi9cblxuTExNUy5BamF4ID0ge1xuXG5cdC8qKlxuXHQgKiBVcmxcblx0ICpcblx0ICogQHR5cGUge1N0cmluZ31cblx0ICovXG5cdHVybDogd2luZG93LmFqYXh1cmwgfHwgd2luZG93LmxsbXMuYWpheHVybCxcblxuXHQvKipcblx0ICogVHlwZVxuXHQgKlxuXHQgKiBAdHlwZSB7W3R5cGVdfVxuXHQgKi9cblx0dHlwZTogJ3Bvc3QnLFxuXG5cdC8qKlxuXHQgKiBEYXRhXG5cdCAqXG5cdCAqIEB0eXBlIHtbdHlwZV19XG5cdCAqL1xuXHRkYXRhOiBbXSxcblxuXHQvKipcblx0ICogQ2FjaGVcblx0ICpcblx0ICogQHR5cGUge1t0eXBlXX1cblx0ICovXG5cdGNhY2hlOiBmYWxzZSxcblxuXHQvKipcblx0ICogRGF0YVR5cGVcblx0ICogZGVmYXVsdGVkIHRvIGpzb25cblx0ICpcblx0ICogQHR5cGUge1N0cmluZ31cblx0ICovXG5cdGRhdGFUeXBlOiAnanNvbicsXG5cblx0LyoqXG5cdCAqIEFzeW5jXG5cdCAqIGRlZmF1bHQgdG8gZmFsc2Vcblx0ICpcblx0ICogQHR5cGUge0Jvb2xlYW59XG5cdCAqL1xuXHRhc3luYzogdHJ1ZSxcblxuXHRyZXNwb25zZTpbXSxcblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZSBBamF4IG1ldGhvZHNcblx0ICogbG9hZHMgY2xhc3MgbWV0aG9kc1xuXHQgKi9cblx0aW5pdDogZnVuY3Rpb24ob2JqKSB7XG5cblx0XHQvLyBpZiBvYmogaXMgbm90IG9mIHR5cGUgb2JqZWN0IG9yIG51bGwgcmV0dXJuIGZhbHNlO1xuXHRcdGlmICggb2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIHNldCBvYmplY3QgZGVmYXVsdHMgaWYgdmFsdWVzIGFyZSBub3Qgc3VwcGxpZWRcblx0XHRvYmoudXJsICAgICAgPSAndXJsJyAgICAgICAgIGluIG9iaiA/IG9iai51cmwgOiB0aGlzLnVybDtcblx0XHRvYmoudHlwZSAgICAgPSAndHlwZScgXHRcdGluIG9iaiA/IG9iai50eXBlIDogdGhpcy50eXBlO1xuXHRcdG9iai5kYXRhICAgICA9ICdkYXRhJyBcdFx0aW4gb2JqID8gb2JqLmRhdGEgOiB0aGlzLmRhdGE7XG5cdFx0b2JqLmNhY2hlICAgID0gJ2NhY2hlJyBcdFx0aW4gb2JqID8gb2JqLmNhY2hlIDogdGhpcy5jYWNoZTtcblx0XHRvYmouZGF0YVR5cGUgPSAnZGF0YVR5cGUnXHRpbiBvYmogPyBvYmouZGF0YVR5cGUgOiB0aGlzLmRhdGFUeXBlO1xuXHRcdG9iai5hc3luYyAgICA9ICdhc3luYydcdFx0aW4gb2JqID8gb2JqLmFzeW5jIDogdGhpcy5hc3luYztcblxuXHRcdC8vIGFkZCBub25jZSB0byBkYXRhIG9iamVjdFxuXHRcdG9iai5kYXRhLl9hamF4X25vbmNlID0gd3BfYWpheF9kYXRhLm5vbmNlO1xuXG5cdFx0Ly8gYWRkIHBvc3QgaWQgdG8gZGF0YSBvYmplY3Rcblx0XHR2YXIgJFIgICAgICAgICAgID0gTExNUy5SZXN0LFxuXHRcdHF1ZXJ5X3ZhcnMgICAgICAgPSAkUi5nZXRfcXVlcnlfdmFycygpO1xuXHRcdG9iai5kYXRhLnBvc3RfaWQgPSAncG9zdCcgaW4gcXVlcnlfdmFycyA/IHF1ZXJ5X3ZhcnMucG9zdCA6IG51bGw7XG5cdFx0aWYgKCAhIG9iai5kYXRhLnBvc3RfaWQgJiYgJCggJ2lucHV0I3Bvc3RfSUQnICkubGVuZ3RoICkge1xuXHRcdFx0b2JqLmRhdGEucG9zdF9pZCA9ICQoICdpbnB1dCNwb3N0X0lEJyApLnZhbCgpO1xuXHRcdH1cblxuXHRcdHJldHVybiBvYmo7XG5cdH0sXG5cblx0LyoqXG5cdCAqIENhbGxcblx0ICogQ2FsbGVkIGJ5IGV4dGVybmFsIGNsYXNzZXNcblx0ICogU2V0cyB1cCBqUXVlcnkgQWpheCBvYmplY3Rcblx0ICpcblx0ICogQHBhcmFtICB7W29iamVjdF19IFtvYmplY3Qgb2YgYWpheCBzZXR0aW5nc11cblx0ICogQHJldHVybiB7W21peGVkXX0gW2ZhbHNlIGlmIG5vdCBvYmplY3Qgb3IgdGhpc11cblx0ICovXG5cdGNhbGw6IGZ1bmN0aW9uKG9iaikge1xuXG5cdFx0Ly8gZ2V0IGRlZmF1bHQgdmFyaWFibGVzIGlmIG5vdCBpbmNsdWRlZCBpbiBjYWxsXG5cdFx0dmFyIHNldHRpbmdzID0gdGhpcy5pbml0KCBvYmogKTtcblxuXHRcdC8vIGlmIGluaXQgcmV0dXJuIGEgcmVzcG9uc2Ugb2YgZmFsc2Vcblx0XHRpZiAoICEgc2V0dGluZ3MpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5yZXF1ZXN0KCBzZXR0aW5ncyApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIENhbGxzIGpRdWVyeSBBamF4IG9uIHNldHRpbmdzIG9iamVjdFxuXHQgKlxuXHQgKiBAcmV0dXJuIHtbb2JqZWN0XX0gW3RoaXNdXG5cdCAqL1xuXHRyZXF1ZXN0OiBmdW5jdGlvbihzZXR0aW5ncykge1xuXG5cdFx0JC5hamF4KCBzZXR0aW5ncyApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fVxuXG59O1xuIiwiLyoqXG4gKiBDcmVhdGUgYSBEb251dCBDaGFydFxuICpcbiAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG4gKlxuICogQHNpbmNlICAgIDMuOS4wXG4gKiBAdmVyc2lvbiAgMy45LjBcbiAqXG4gKiBAbGluayAgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vam9leWluYm94LzgyMDU5NjJcbiAqXG4gKiBAcGFyYW0gICAgb2JqICAgJGVsICBqUXVlcnkgZWxlbWVudCB0byBkcmF3IGEgY2hhcnQgd2l0aGluXG4gKi9cblxuTExNUy5Eb251dCA9IGZ1bmN0aW9uKCAkZWwgKSB7XG5cblx0ZnVuY3Rpb24gRG9udXQob3B0aW9ucykge1xuXG5cdFx0dGhpcy5zZXR0aW5ncyA9ICQuZXh0ZW5kKCB7XG5cdFx0XHRlbGVtZW50OiBvcHRpb25zLmVsZW1lbnQsXG5cdFx0XHRwZXJjZW50OiAxMDBcblx0XHR9LCBvcHRpb25zICk7XG5cblx0XHR0aGlzLmNpcmNsZSAgICAgICAgICAgICAgICA9IHRoaXMuc2V0dGluZ3MuZWxlbWVudC5maW5kKCAncGF0aCcgKTtcblx0XHR0aGlzLnNldHRpbmdzLnN0cm9rZV93aWR0aCA9IHBhcnNlSW50KCB0aGlzLmNpcmNsZS5jc3MoICdzdHJva2Utd2lkdGgnICkgKTtcblx0XHR0aGlzLnJhZGl1cyAgICAgICAgICAgICAgICA9ICggcGFyc2VJbnQoIHRoaXMuc2V0dGluZ3MuZWxlbWVudC5jc3MoICd3aWR0aCcgKSApIC0gdGhpcy5zZXR0aW5ncy5zdHJva2Vfd2lkdGggKSAvIDI7XG5cdFx0dGhpcy5hbmdsZSAgICAgICAgICAgICAgICAgPSAtOTcuNTsgLy8gT3JpZ2luIG9mIHRoZSBkcmF3IGF0IHRoZSB0b3Agb2YgdGhlIGNpcmNsZVxuXHRcdHRoaXMuaSAgICAgICAgICAgICAgICAgICAgID0gTWF0aC5yb3VuZCggMC43NSAqIHRoaXMuc2V0dGluZ3MucGVyY2VudCApO1xuXHRcdHRoaXMuZmlyc3QgICAgICAgICAgICAgICAgID0gdHJ1ZTtcblxuXHRcdHRoaXMuYW5pbWF0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy50aW1lciA9IHNldEludGVydmFsKCB0aGlzLmxvb3AuYmluZCggdGhpcyApLCAxMCApO1xuXHRcdH07XG5cblx0XHR0aGlzLmxvb3AgPSBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuYW5nbGUgKz0gNTtcblx0XHRcdHRoaXMuYW5nbGUgJT0gMzYwO1xuXHRcdFx0dmFyIHJhZGlhbnMgPSAoIHRoaXMuYW5nbGUgLyAxODAgKSAqIE1hdGguUEksXG5cdFx0XHRcdHggICAgICAgPSB0aGlzLnJhZGl1cyArIHRoaXMuc2V0dGluZ3Muc3Ryb2tlX3dpZHRoIC8gMiArIE1hdGguY29zKCByYWRpYW5zICkgKiB0aGlzLnJhZGl1cyxcblx0XHRcdFx0eSAgICAgICA9IHRoaXMucmFkaXVzICsgdGhpcy5zZXR0aW5ncy5zdHJva2Vfd2lkdGggLyAyICsgTWF0aC5zaW4oIHJhZGlhbnMgKSAqIHRoaXMucmFkaXVzLFxuXHRcdFx0XHRkO1xuXHRcdFx0aWYgKHRoaXMuZmlyc3QgPT09IHRydWUpIHtcblx0XHRcdFx0ZCAgICAgICAgICA9IHRoaXMuY2lyY2xlLmF0dHIoICdkJyApICsgJyBNICcgKyB4ICsgJyAnICsgeTtcblx0XHRcdFx0dGhpcy5maXJzdCA9IGZhbHNlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZCA9IHRoaXMuY2lyY2xlLmF0dHIoICdkJyApICsgJyBMICcgKyB4ICsgJyAnICsgeTtcblx0XHRcdH1cblx0XHRcdHRoaXMuY2lyY2xlLmF0dHIoICdkJywgZCApO1xuXHRcdFx0dGhpcy5pLS07XG5cblx0XHRcdGlmICh0aGlzLmkgPD0gMCkge1xuXHRcdFx0XHRjbGVhckludGVydmFsKCB0aGlzLnRpbWVyICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXG5cdGZ1bmN0aW9uIGRyYXcoICRlbCApIHtcblx0XHR2YXIgcGF0aCA9ICc8cGF0aCBkPVwiTTEwMCwxMDBcIiAvPic7XG5cdFx0JGVsLmFwcGVuZCggJzxzdmcgcHJlc2VydmVBc3BlY3RSYXRpbz1cInhNaWRZTWlkXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCI+JyArIHBhdGggKyAnPC9zdmc+JyApO1xuXHRcdHZhciBkb251dCA9IG5ldyBEb251dCgge1xuXHRcdFx0ZWxlbWVudDogJGVsLFxuXHRcdFx0cGVyY2VudDogJGVsLmF0dHIoICdkYXRhLXBlcmMnIClcblx0XHR9ICk7XG5cdFx0ZG9udXQuYW5pbWF0ZSgpO1xuXHR9XG5cblx0ZHJhdyggJGVsICk7XG5cbn07XG4iLCIvKipcbiAqIEluc3RydWN0b3JzIExpc3RcbiAqXG4gKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuICpcbiAqIEBzaW5jZSAgVW5rbm93blxuICogQHZlcnNpb24gIFVua25vd25cbiAqL1xuXG5MTE1TLkluc3RydWN0b3JzID0ge1xuXG5cdC8qKlxuXHQgKiBJbml0XG5cdCAqL1xuXHRpbml0OiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdGlmICggJCggJ2JvZHknICkuaGFzQ2xhc3MoICd3cC1hZG1pbicgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoICQoICcubGxtcy1pbnN0cnVjdG9ycycgKS5sZW5ndGggKSB7XG5cblx0XHRcdExMTVMud2FpdF9mb3JfbWF0Y2hIZWlnaHQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XHRcdH0gKTtcblxuXHRcdH1cblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBCaW5kIE1ldGhvZFxuXHQgKiBIYW5kbGVzIGRvbSBiaW5kaW5nIG9uIGxvYWRcblx0ICpcblx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG5cdCAqL1xuXHRiaW5kOiBmdW5jdGlvbigpIHtcblxuXHRcdCQoICcubGxtcy1pbnN0cnVjdG9ycyAubGxtcy1hdXRob3InICkubWF0Y2hIZWlnaHQoKTtcblxuXHR9LFxuXG59O1xuIiwiLyoqXG4gKiBMb2NhbGl6YXRpb24gZnVuY3Rpb25zIGZvciBMaWZ0ZXJMTVMgSmF2YXNjcmlwdFxuICpcbiAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG4gKlxuICogQHNpbmNlICAyLjcuM1xuICogQHZlcnNpb24gIDIuNy4zXG4gKlxuICogQHRvZG8gIHdlIG5lZWQgbW9yZSByb2J1c3QgdHJhbnNsYXRpb24gZnVuY3Rpb25zIHRvIGhhbmRsZSBzcHJpbnRmIGFuZCBwbHVyYWxpemF0aW9uXG4gKiAgICAgICAgYXQgdGhpcyBtb21lbnQgd2UgZG9uJ3QgbmVlZCB0aG9zZSBhbmQgaGF2ZW4ndCBzdHViYmVkIHRoZW0gb3V0XG4gKiAgICAgICAgdGhvc2Ugd2lsbCBiZSBhZGRlZCB3aGVuIHRoZXkncmUgbmVlZGVkXG4gKi9cblxuTExNUy5sMTBuID0gTExNUy5sMTBuIHx8IHt9O1xuXG5MTE1TLmwxMG4udHJhbnNsYXRlID0gZnVuY3Rpb24gKCBzdHJpbmcgKSB7XG5cblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdGlmICggc2VsZi5zdHJpbmdzW3N0cmluZ10gKSB7XG5cblx0XHRyZXR1cm4gc2VsZi5zdHJpbmdzW3N0cmluZ107XG5cblx0fSBlbHNlIHtcblxuXHRcdHJldHVybiBzdHJpbmc7XG5cblx0fVxuXG59O1xuXG4vKipcbiAqIFRyYW5zbGF0ZSBhbmQgcmVwbGFjZSBwbGFjZWhvbGRlcnMgaW4gYSBzdHJpbmdcbiAqXG4gKiBAZXhhbXBsZSBMTE1TLmwxMG4ucmVwbGFjZSggJ1RoaXMgaXMgYSAlMiRzICUxJHMgU3RyaW5nJywge1xuICogICAgICAgICAgIFx0JyUxJHMnOiAnY29vbCcsXG4gKiAgICBcdFx0XHQnJTIkcyc6ICd2ZXJ5J1xuICogICAgXHRcdH0gKTtcbiAqICAgIFx0XHRPdXRwdXQ6IFwiVGhpcyBpcyBhIHZlcnkgY29vbCBTdHJpbmdcIlxuICpcbiAqIEBwYXJhbSAgICBzdHJpbmcgICBzdHJpbmcgICAgICAgIHRleHQgc3RyaW5nXG4gKiBAcGFyYW0gICAgb2JqZWN0ICAgcmVwbGFjZW1lbnRzICBvYmplY3QgY29udGFpbmluZyB0b2tlbiA9PiByZXBsYWNlbWVudCBwYWlyc1xuICogQHJldHVybiAgIHN0cmluZ1xuICogQHNpbmNlICAgIDMuMTYuMFxuICogQHZlcnNpb24gIDMuMTYuMFxuICovXG5MTE1TLmwxMG4ucmVwbGFjZSA9IGZ1bmN0aW9uKCBzdHJpbmcsIHJlcGxhY2VtZW50cyApIHtcblxuXHR2YXIgc3RyID0gdGhpcy50cmFuc2xhdGUoIHN0cmluZyApO1xuXG5cdCQuZWFjaCggcmVwbGFjZW1lbnRzLCBmdW5jdGlvbiggdG9rZW4sIHZhbHVlICkge1xuXG5cdFx0aWYgKCAtMSAhPT0gdG9rZW4uaW5kZXhPZiggJ3MnICkgKSB7XG5cdFx0XHR2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG5cdFx0fSBlbHNlIGlmICggLTEgIT09IHRva2VuLmluZGV4T2YoICdkJyApICkge1xuXHRcdFx0dmFsdWUgPSB2YWx1ZSAqIDE7XG5cdFx0fVxuXG5cdFx0c3RyID0gc3RyLnJlcGxhY2UoIHRva2VuLCB2YWx1ZSApO1xuXG5cdH0gKTtcblxuXHRyZXR1cm4gc3RyO1xuXG59O1xuIiwiLyoqXG4gKiBIYW5kbGUgTGVzc29uIFByZXZpZXcgRWxlbWVudHNcbiAqXG4gKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuICpcbiAqIEBzaW5jZSAgICAzLjAuMFxuICogQHZlcnNpb24gIDMuMTYuMTJcbiAqL1xuXG5MTE1TLkxlc3NvblByZXZpZXcgPSB7XG5cblx0LyoqXG5cdCAqIEEgalF1ZXJ5IG9iamVjdCBvZiBhbGwgb3V0bGluZXMgcHJlc2VudCBvbiB0aGUgY3VycmVudCBzY3JlZW5cblx0ICpcblx0ICogQHR5cGUgb2JqXG5cdCAqL1xuXHQkZWxzOiBudWxsLFxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplXG5cdCAqXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKi9cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHR0aGlzLiRsb2NrZWQgPSAkKCAnYVtocmVmPVwiI2xsbXMtbGVzc29uLWxvY2tlZFwiXScgKTtcblxuXHRcdGlmICggdGhpcy4kbG9ja2VkLmxlbmd0aCApIHtcblxuXHRcdFx0c2VsZi5iaW5kKCk7XG5cblx0XHR9XG5cblx0XHRpZiAoICQoICcubGxtcy1jb3Vyc2UtbmF2aWdhdGlvbicgKS5sZW5ndGggKSB7XG5cblx0XHRcdExMTVMud2FpdF9mb3JfbWF0Y2hIZWlnaHQoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHNlbGYubWF0Y2hfaGVpZ2h0KCk7XG5cblx0XHRcdH0gKTtcblxuXHRcdH1cblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBCaW5kIERPTSBldmVudHNcblx0ICpcblx0ICogQHJldHVybiB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy4xNi4xMlxuXHQgKi9cblx0YmluZDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHR0aGlzLiRsb2NrZWQub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gKTtcblxuXHRcdHRoaXMuJGxvY2tlZC5vbiggJ21vdXNlZW50ZXInLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyICR0aXAgPSAkKCB0aGlzICkuZmluZCggJy5sbG1zLXRvb2x0aXAnICk7XG5cdFx0XHRpZiAoICEgJHRpcC5sZW5ndGggKSB7XG5cdFx0XHRcdHZhciBtc2cgPSAkKCB0aGlzICkuYXR0ciggJ2RhdGEtdG9vbHRpcC1tc2cnICk7XG5cdFx0XHRcdGlmICggISBtc2cgKSB7XG5cdFx0XHRcdFx0bXNnID0gTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1lvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyB0aGlzIGNvbnRlbnQnICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0JHRpcCA9IHNlbGYuZ2V0X3Rvb2x0aXAoIG1zZyApO1xuXHRcdFx0XHQkKCB0aGlzICkuYXBwZW5kKCAkdGlwICk7XG5cdFx0XHR9XG5cdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0JHRpcC5hZGRDbGFzcyggJ3Nob3cnICk7XG5cdFx0XHR9LCAxMCApO1xuXG5cdFx0fSApO1xuXG5cdFx0dGhpcy4kbG9ja2VkLm9uKCAnbW91c2VsZWF2ZScsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgJHRpcCA9ICQoIHRoaXMgKS5maW5kKCAnLmxsbXMtdG9vbHRpcCcgKTtcblx0XHRcdCR0aXAucmVtb3ZlQ2xhc3MoICdzaG93JyApO1xuXG5cdFx0fSApO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIE1hdGNoIHRoZSBoZWlnaHQgb2YgbGVzc29uIHByZXZpZXcgaXRlbXMgaW4gY291cnNlIG5hdmlnYXRpb24gYmxvY2tzXG5cdCAqXG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0ICovXG5cdG1hdGNoX2hlaWdodDogZnVuY3Rpb24oKSB7XG5cblx0XHQkKCAnLmxsbXMtY291cnNlLW5hdmlnYXRpb24gLmxsbXMtbGVzc29uLWxpbmsnICkubWF0Y2hIZWlnaHQoKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBHZXQgYSB0b29sdGlwIGVsZW1lbnRcblx0ICpcblx0ICogQHBhcmFtICAgIHN0cmluZyAgIG1zZyAgIG1lc3NhZ2UgdG8gZGlzcGxheSBpbnNpZGUgdGhlIHRvb2x0aXBcblx0ICogQHJldHVybiAgIG9ialxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMi40XG5cdCAqL1xuXHRnZXRfdG9vbHRpcDogZnVuY3Rpb24oIG1zZyApIHtcblx0XHR2YXIgJGVsID0gJCggJzxkaXYgY2xhc3M9XCJsbG1zLXRvb2x0aXBcIiAvPicgKTtcblx0XHQkZWwuYXBwZW5kKCAnPGRpdiBjbGFzcz1cImxsbXMtdG9vbHRpcC1jb250ZW50XCI+JyArIG1zZyArICc8L2Rpdj4nICk7XG5cdFx0cmV0dXJuICRlbDtcblx0fSxcblxufTtcbiIsIi8qKlxuICogTGlmdGVyTE1TIExvb3BzIEpTXG4gKlxuICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcbiAqXG4gKiBAc2luY2UgICAgMy4wLjBcbiAqIEB2ZXJzaW9uICAzLjE0LjBcbiAqL1xuXG5MTE1TLkxvb3BzID0ge1xuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplXG5cdCAqXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKi9cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoICQoICcubGxtcy1sb29wJyApLmxlbmd0aCApIHtcblxuXHRcdFx0TExNUy53YWl0X2Zvcl9tYXRjaEhlaWdodCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0c2VsZi5tYXRjaF9oZWlnaHQoKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fVxuXG5cdH0sXG5cblx0LyoqXG5cdCAqIE1hdGNoIHRoZSBoZWlnaHQgb2YgLmxsbXMtbG9vcC1pdGVtXG5cdCAqXG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy4xNC4wXG5cdCAqL1xuXHRtYXRjaF9oZWlnaHQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0JCggJy5sbG1zLWxvb3AtaXRlbSAubGxtcy1sb29wLWl0ZW0tY29udGVudCcgKS5tYXRjaEhlaWdodCgpO1xuXHRcdCQoICcubGxtcy1hY2hpZXZlbWVudC1sb29wLWl0ZW0gLmxsbXMtYWNoaWV2ZW1lbnQnICkubWF0Y2hIZWlnaHQoKTtcblx0XHQkKCAnLmxsbXMtY2VydGlmaWNhdGUtbG9vcC1pdGVtIC5sbG1zLWNlcnRpZmljYXRlJyApLm1hdGNoSGVpZ2h0KCk7XG5cblx0fSxcblxufTtcbiIsIi8qKlxuICogSGFuZGxlIHRoZSBDb2xsYXBzaWJsZSBTeWxsYWJ1cyBXaWRnZXQgLyBTaG9ydGNvZGVcbiAqXG4gKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuICpcbiAqIEBzaW5jZSBVbmtub3duXG4gKiBAdmVyc2lvbiBVbmtub3duXG4gKi9cblxuTExNUy5PdXRsaW5lQ29sbGFwc2UgPSB7XG5cblx0LyoqXG5cdCAqIEEgalF1ZXJ5IG9iamVjdCBvZiBhbGwgb3V0bGluZXMgcHJlc2VudCBvbiB0aGUgY3VycmVudCBzY3JlZW5cblx0ICpcblx0ICogQHR5cGUgb2JqXG5cdCAqL1xuXHQkb3V0bGluZXM6IG51bGwsXG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVcblx0ICpcblx0ICogQHJldHVybiB2b2lkXG5cdCAqL1xuXHRpbml0OiBmdW5jdGlvbigpIHtcblxuXHRcdHRoaXMuJG91dGxpbmVzID0gJCggJy5sbG1zLXdpZGdldC1zeWxsYWJ1cy0tY29sbGFwc2libGUnICk7XG5cblx0XHRpZiAoIHRoaXMuJG91dGxpbmVzLmxlbmd0aCApIHtcblxuXHRcdFx0dGhpcy5iaW5kKCk7XG5cblx0XHR9XG5cblx0fSxcblxuXHQvKipcblx0ICogQmluZCBET00gZXZlbnRzXG5cdCAqXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKi9cblx0YmluZDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHR0aGlzLiRvdXRsaW5lcy5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyICRvdXRsaW5lID0gJCggdGhpcyApLFxuXHRcdFx0XHQkaGVhZGVycyA9ICRvdXRsaW5lLmZpbmQoICcubGxtcy1zZWN0aW9uIC5zZWN0aW9uLWhlYWRlcicgKTtcblxuXHRcdFx0Ly8gYmluZCBoZWFkZXIgY2xpY2tzXG5cdFx0XHQkaGVhZGVycy5vbiggJ2NsaWNrJywgZnVuY3Rpb24oIGUgKSB7XG5cblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRcdHZhciAkdG9nZ2xlICA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkc2VjdGlvbiA9ICR0b2dnbGUuY2xvc2VzdCggJy5sbG1zLXNlY3Rpb24nICksXG5cdFx0XHRcdFx0c3RhdGUgICAgPSBzZWxmLmdldF9zZWN0aW9uX3N0YXRlKCAkc2VjdGlvbiApO1xuXG5cdFx0XHRcdHN3aXRjaCAoIHN0YXRlICkge1xuXG5cdFx0XHRcdFx0Y2FzZSAnY2xvc2VkJzpcblx0XHRcdFx0XHRcdHNlbGYub3Blbl9zZWN0aW9uKCAkc2VjdGlvbiApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSAnb3BlbmVkJzpcblx0XHRcdFx0XHRcdHNlbGYuY2xvc2Vfc2VjdGlvbiggJHNlY3Rpb24gKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHR9XG5cblx0XHRcdH0gKTtcblxuXHRcdFx0Ly8gYmluZCBvcHRpb25hbCB0b2dnbGUgXCJidXR0b25zXCJcblx0XHRcdCRvdXRsaW5lLmZpbmQoICcubGxtcy1jb2xsYXBzZS10b2dnbGUnICkub24oICdjbGljaycsIGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHR2YXIgJGJ0biAgICAgICAgICAgID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdGFjdGlvbiAgICAgICAgICA9ICRidG4uYXR0ciggJ2RhdGEtYWN0aW9uJyApLFxuXHRcdFx0XHRcdG9wcG9zaXRlX2FjdGlvbiA9ICggJ2Nsb3NlJyA9PT0gYWN0aW9uICkgPyAnb3BlbmVkJyA6ICdjbG9zZWQnO1xuXG5cdFx0XHRcdCRoZWFkZXJzLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0dmFyICRzZWN0aW9uID0gJCggdGhpcyApLmNsb3Nlc3QoICcubGxtcy1zZWN0aW9uJyApLFxuXHRcdFx0XHRcdFx0c3RhdGUgICAgPSBzZWxmLmdldF9zZWN0aW9uX3N0YXRlKCAkc2VjdGlvbiApO1xuXG5cdFx0XHRcdFx0aWYgKCBvcHBvc2l0ZV9hY3Rpb24gIT09IHN0YXRlICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0c3dpdGNoICggc3RhdGUgKSB7XG5cblx0XHRcdFx0XHRcdGNhc2UgJ2Nsb3NlZCc6XG5cdFx0XHRcdFx0XHRcdHNlbGYuY2xvc2Vfc2VjdGlvbiggJHNlY3Rpb24gKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRjYXNlICdvcGVuZWQnOlxuXHRcdFx0XHRcdFx0XHRzZWxmLm9wZW5fc2VjdGlvbiggJHNlY3Rpb24gKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0JCggdGhpcyApLnRyaWdnZXIoICdjbGljaycgKTtcblxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdH0gKTtcblxuXHRcdH0gKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBDbG9zZSBhbiBvdXRsaW5lIHNlY3Rpb25cblx0ICpcblx0ICogQHBhcmFtICBvYmogICAgJHNlY3Rpb24gICBqUXVlcnkgc2VsZWN0b3Igb2YgYSAnLmxsbXMtc2VjdGlvbidcblx0ICogQHJldHVybiB2b2lkXG5cdCAqL1xuXHRjbG9zZV9zZWN0aW9uOiBmdW5jdGlvbiggJHNlY3Rpb24gKSB7XG5cblx0XHQkc2VjdGlvbi5yZW1vdmVDbGFzcyggJ2xsbXMtc2VjdGlvbi0tb3BlbmVkJyApLmFkZENsYXNzKCAnbGxtcy1zZWN0aW9uLS1jbG9zZWQnICk7XG5cblx0fSxcblxuXHQvKipcblx0ICogT3BlbiBhbiBvdXRsaW5lIHNlY3Rpb25cblx0ICpcblx0ICogQHBhcmFtICBvYmogICAgJHNlY3Rpb24gICBqUXVlcnkgc2VsZWN0b3Igb2YgYSAnLmxsbXMtc2VjdGlvbidcblx0ICogQHJldHVybiB2b2lkXG5cdCAqL1xuXHRvcGVuX3NlY3Rpb246IGZ1bmN0aW9uKCAkc2VjdGlvbiApIHtcblxuXHRcdCRzZWN0aW9uLnJlbW92ZUNsYXNzKCAnbGxtcy1zZWN0aW9uLS1jbG9zZWQnICkuYWRkQ2xhc3MoICdsbG1zLXNlY3Rpb24tLW9wZW5lZCcgKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBHZXQgdGhlIGN1cnJlbnQgc3RhdGUgKG9wZW4gb3IgY2xvc2VkKSBvZiBhbiBvdXRsaW5lIHNlY3Rpb25cblx0ICpcblx0ICogQHBhcmFtICBvYmogICAgJHNlY3Rpb24gICBqUXVlcnkgc2VsZWN0b3Igb2YgYSAnLmxsbXMtc2VjdGlvbidcblx0ICogQHJldHVybiBzdHJpbmcgICAgICAgICAgICAnb3BlbmVkJyBvciAnY2xvc2VkJ1xuXHQgKi9cblx0Z2V0X3NlY3Rpb25fc3RhdGU6IGZ1bmN0aW9uKCAkc2VjdGlvbiApIHtcblxuXHRcdHJldHVybiAkc2VjdGlvbi5oYXNDbGFzcyggJ2xsbXMtc2VjdGlvbi0tb3BlbmVkJyApID8gJ29wZW5lZCcgOiAnY2xvc2VkJztcblxuXHR9XG5cbn07XG4iLCIvKipcbiAqIEhhbmRsZSBQYXNzd29yZCBTdHJlbmd0aCBNZXRlciBmb3IgcmVnaXN0cmF0aW9uIGFuZCBwYXNzd29yZCB1cGRhdGUgZmllbGRzXG4gKlxuICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcbiAqXG4gKiBAc2luY2UgMy4wLjBcbiAqIEB2ZXJzaW9uICAzLjcuMFxuICovXG5cbiQuZXh0ZW5kKCBMTE1TLlBhc3N3b3JkU3RyZW5ndGgsIHtcblxuXHQkcGFzczogJCggJy5sbG1zLXBhc3N3b3JkJyApLFxuXHQkY29uZjogJCggJy5sbG1zLXBhc3N3b3JkLWNvbmZpcm0nICksXG5cdCRtZXRlcjogJCggJy5sbG1zLXBhc3N3b3JkLXN0cmVuZ3RoLW1ldGVyJyApLFxuXHQkZm9ybTogbnVsbCxcblxuXHQvKipcblx0ICogSW5pdFxuXHQgKiBsb2FkcyBjbGFzcyBtZXRob2RzXG5cdCAqXG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy43LjBcblx0ICovXG5cdGluaXQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0aWYgKCAkKCAnYm9keScgKS5oYXNDbGFzcyggJ3dwLWFkbWluJyApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy4kbWV0ZXIubGVuZ3RoICkge1xuXG5cdFx0XHR0aGlzLiRmb3JtID0gdGhpcy4kcGFzcy5jbG9zZXN0KCAnZm9ybScgKTtcblxuXHRcdFx0Ly8gb3VyIGFzc2V0IGVucXVldWUgaXMgYWxsIHNjcmV3ZWQgdXAgYW5kIEknbSB0b28gdGlyZWQgdG8gZml4IGl0XG5cdFx0XHQvLyBzbyB3ZSdyZSBnb2luZyB0byBydW4gdGhpcyBsaXR0bGUgZGVwZW5kZW5jeSBjaGVja1xuXHRcdFx0Ly8gYW5kIHdhaXQgZm9yIG1hdGNoSGVpZ2h0IHRvIGJlIGF2YWlsYWJsZSBiZWZvcmUgYmluZGluZ1xuXHRcdFx0dmFyIHNlbGYgICAgPSB0aGlzLFxuXHRcdFx0XHRjb3VudGVyID0gMCxcblx0XHRcdFx0aW50ZXJ2YWw7XG5cblx0XHRcdGludGVydmFsID0gc2V0SW50ZXJ2YWwoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIGlmIHdlIGdldCB0byAzMCBzZWNvbmRzIGxvZyBhbiBlcnJvciBtZXNzYWdlXG5cdFx0XHRcdC8vIGFuZCByZWFsbHkgd2hvIGNhcmVzIGlmIHRoZSBlbGVtZW50IGhlaWdodHMgYXJlbid0IG1hdGNoZWRcblx0XHRcdFx0aWYgKCBjb3VudGVyID49IDMwMCApIHtcblxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCAnY2Fubm90IGRvIHBhc3N3b3JkIHN0cmVuZ3RoIG1ldGVyLicgKTtcblxuXHRcdFx0XHRcdC8vIGlmIHdlIGNhbid0IGFjY2VzcyB5ZSwgaW5jcmVtZW50IGFuZCB3YWl0Li4uXG5cdFx0XHRcdH0gZWxzZSBpZiAoICd1bmRlZmluZWQnID09PSB0eXBlb2Ygd3AgJiYgJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiB3cC5wYXNzd29yZFN0cmVuZ3RoICkge1xuXG5cdFx0XHRcdFx0Y291bnRlcisrO1xuXHRcdFx0XHRcdHJldHVybjtcblxuXHRcdFx0XHRcdC8vIGJpbmQgdGhlIGV2ZW50cywgd2UncmUgZ29vZCFcblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHNlbGYuYmluZCgpO1xuXHRcdFx0XHRcdHNlbGYuJGZvcm0udHJpZ2dlciggJ2xsbXMtcGFzc3dvcmQtc3RyZW5ndGgtcmVhZHknICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNsZWFySW50ZXJ2YWwoIGludGVydmFsICk7XG5cblx0XHRcdH0sIDEwMCApO1xuXG5cdFx0fVxuXG5cdH0sXG5cblx0LyoqXG5cdCAqIEJpbmQgTWV0aG9kXG5cdCAqIEhhbmRsZXMgZG9tIGJpbmRpbmcgb24gbG9hZFxuXHQgKlxuXHQgKiBAcmV0dXJuIHZvaWRcblx0ICogQHNpbmNlIDMuMC4wXG5cdCAqL1xuXHRiaW5kOiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdC8vIGFkZCBzdWJtaXNzaW9uIGV2ZW50IGhhbmRsZXJzIHdoZW4gbm90IG9uIGEgY2hlY2tvdXQgZm9ybVxuXHRcdGlmICggISB0aGlzLiRmb3JtLmhhc0NsYXNzKCAnbGxtcy1jaGVja291dCcgKSApIHtcblx0XHRcdHRoaXMuJGZvcm0ub24oICdzdWJtaXQnLCBzZWxmLCBzZWxmLnN1Ym1pdCApO1xuXHRcdH1cblxuXHRcdC8vIGNoZWNrIHBhc3N3b3JkIHN0cmVuZ3RoIG9uIGtleXVwXG5cdFx0c2VsZi4kcGFzcy5hZGQoIHNlbGYuJGNvbmYgKS5vbiggJ2tleXVwJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRzZWxmLmNoZWNrX3N0cmVuZ3RoKCk7XG5cdFx0fSApO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIENoZWNrIHRoZSBzdHJlbmd0aCBvZiBhIHVzZXIgZW50ZXJlZCBwYXNzd29yZFxuXHQgKiBhbmQgdXBkYXRlIGVsZW1lbnRzIGRlcGVuZGluZyBvbiB0aGUgY3VycmVudCBzdHJlbmd0aFxuXHQgKlxuXHQgKiBAcmV0dXJuIHZvaWRcblx0ICogQHNpbmNlIDMuMC4wXG5cdCAqIEB2ZXJzaW9uIDMuMC4wXG5cdCAqL1xuXHRjaGVja19zdHJlbmd0aDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgJHBhc3NfZmllbGQgPSB0aGlzLiRwYXNzLmNsb3Nlc3QoICcubGxtcy1mb3JtLWZpZWxkJyApLFxuXHRcdFx0JGNvbmZfZmllbGQgPSB0aGlzLiRjb25mLmNsb3Nlc3QoICcubGxtcy1mb3JtLWZpZWxkJyApLFxuXHRcdFx0cGFzc19sZW5ndGggPSB0aGlzLiRwYXNzLnZhbCgpLmxlbmd0aCxcblx0XHRcdGNvbmZfbGVuZ3RoID0gdGhpcy4kY29uZi52YWwoKS5sZW5ndGg7XG5cblx0XHQvLyBoaWRlIHRoZSBtZXRlciBpZiBib3RoIGZpZWxkcyBhcmUgZW1wdHlcblx0XHRpZiAoICEgcGFzc19sZW5ndGggJiYgISBjb25mX2xlbmd0aCApIHtcblx0XHRcdCRwYXNzX2ZpZWxkLnJlbW92ZUNsYXNzKCAndmFsaWQgaW52YWxpZCcgKTtcblx0XHRcdCRjb25mX2ZpZWxkLnJlbW92ZUNsYXNzKCAndmFsaWQgaW52YWxpZCcgKTtcblx0XHRcdHRoaXMuJG1ldGVyLmhpZGUoKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuZ2V0X2N1cnJlbnRfc3RyZW5ndGhfc3RhdHVzKCkgKSB7XG5cdFx0XHQkcGFzc19maWVsZC5yZW1vdmVDbGFzcyggJ2ludmFsaWQnICkuYWRkQ2xhc3MoICd2YWxpZCcgKTtcblx0XHRcdGlmICggY29uZl9sZW5ndGggKSB7XG5cdFx0XHRcdCRjb25mX2ZpZWxkLnJlbW92ZUNsYXNzKCAnaW52YWxpZCcgKS5hZGRDbGFzcyggJ3ZhbGlkJyApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQkcGFzc19maWVsZC5yZW1vdmVDbGFzcyggJ3ZhbGlkJyApLmFkZENsYXNzKCAnaW52YWxpZCcgKTtcblx0XHRcdGlmICggY29uZl9sZW5ndGggKSB7XG5cdFx0XHRcdCRjb25mX2ZpZWxkLnJlbW92ZUNsYXNzKCAndmFsaWQnICkuYWRkQ2xhc3MoICdpbnZhbGlkJyApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuJG1ldGVyLnJlbW92ZUNsYXNzKCAndG9vLXNob3J0IHZlcnktd2VhayB3ZWFrIG1lZGl1bSBzdHJvbmcgbWlzbWF0Y2gnICk7XG5cdFx0dGhpcy4kbWV0ZXIuc2hvdygpLmFkZENsYXNzKCB0aGlzLmdldF9jdXJyZW50X3N0cmVuZ3RoKCAnc2x1ZycgKSApO1xuXHRcdHRoaXMuJG1ldGVyLmh0bWwoIHRoaXMuZ2V0X2N1cnJlbnRfc3RyZW5ndGgoICd0ZXh0JyApICk7XG5cblx0fSxcblxuXHQvKipcblx0ICogRm9ybSBzdWJtaXNzaW9uIGFjdGlvbiBjYWxsZWQgZHVyaW5nIHJlZ2lzdHJhdGlvbiBvbiBjaGVja291dCBzY3JlZW5cblx0ICpcblx0ICogQHBhcmFtICAgIG9iaiAgICAgICBzZWxmICAgICAgaW5zdGFuY2Ugb2YgdGhpcyBjbGFzc1xuXHQgKiBAcGFyYW0gICAgRnVuY3Rpb24gIGNhbGxiYWNrICBjYWxsYmFjayBmdW5jdGlvbiwgcGFzc2VzIGVycm9yIG1lc3NhZ2Ugb3Igc3VjY2VzcyBiYWNrIHRvIGNoZWNrb3V0IGhhbmRsZXJcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHQgKi9cblx0Y2hlY2tvdXQ6IGZ1bmN0aW9uKCBzZWxmLCBjYWxsYmFjayApIHtcblxuXHRcdGlmICggc2VsZi5nZXRfY3VycmVudF9zdHJlbmd0aF9zdGF0dXMoKSApIHtcblxuXHRcdFx0Y2FsbGJhY2soIHRydWUgKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGNhbGxiYWNrKCBMTE1TLmwxMG4udHJhbnNsYXRlKCAnVGhlcmUgaXMgYW4gaXNzdWUgd2l0aCB5b3VyIGNob3NlbiBwYXNzd29yZC4nICkgKTtcblxuXHRcdH1cblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBHZXQgdGhlIGxpc3Qgb2YgYmxhY2tsaXN0ZWQgc3RyaW5nc1xuXHQgKiBXZSdsbCBhZGQgYSBmaWx0ZXIgdG8gdGhpcyBsYXRlciBzbyB0aGF0IGRldmVsb3BlcnMgY2FuIGFkZCB0aGVpciBvd24gYmxhY2tsaXN0IHRvIHRoZSBkZWZhdWx0IFdQIGxpc3Rcblx0ICpcblx0ICogQHJldHVybiBhcnJheVxuXHQgKiBAc2luY2UgMy4wLjBcblx0ICovXG5cdGdldF9ibGFja2xpc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBibGFja2xpc3QgPSB3cC5wYXNzd29yZFN0cmVuZ3RoLnVzZXJJbnB1dEJsYWNrbGlzdCgpO1xuXHRcdHJldHVybiBibGFja2xpc3Q7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJldHJpZXZlIGN1cnJlbnQgc3RyZW5ndGggYXMgYSBudW1iZXIsIGEgc2x1Zywgb3IgYSB0cmFuc2xhdGVkIHRleHQgc3RyaW5nXG5cdCAqXG5cdCAqIEBwYXJhbSAgICBzdHJpbmcgICBmb3JtYXQgIGRlcml2ZWQgcmV0dXJuIGZvcm1hdCBbaW50fHNsdWd8dGV4dF0gZGVmYXVsdHMgdG8gaW50XG5cdCAqIEByZXR1cm4gICBtaXhlZFxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMC4wXG5cdCAqL1xuXHRnZXRfY3VycmVudF9zdHJlbmd0aDogZnVuY3Rpb24oIGZvcm1hdCApIHtcblxuXHRcdGZvcm1hdCAgID0gZm9ybWF0IHx8ICdpbnQnO1xuXHRcdHZhciBwYXNzID0gdGhpcy4kcGFzcy52YWwoKSxcblx0XHRcdGNvbmYgPSB0aGlzLiRjb25mLnZhbCgpLFxuXHRcdFx0dmFsO1xuXG5cdFx0Ly8gZW5mb3JjZSBjdXN0b20gbGVuZ3RoIHJlcXVpcmVtZW50XG5cdFx0aWYgKCBwYXNzLmxlbmd0aCA8IDYgKSB7XG5cdFx0XHR2YWwgPSAtMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFsID0gd3AucGFzc3dvcmRTdHJlbmd0aC5tZXRlciggcGFzcywgdGhpcy5nZXRfYmxhY2tsaXN0KCksIGNvbmYgKTtcblx0XHRcdC8vIDAgJiAxIGFyZSBib3RoIHZlcnktd2Vha1xuXHRcdFx0aWYgKCAwID09PSB2YWwgKSB7XG5cdFx0XHRcdHZhbCA9IDE7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCAnc2x1ZycgPT09IGZvcm1hdCApIHtcblx0XHRcdHJldHVybiB0aGlzLmdldF9zdHJlbmd0aF9zbHVnKCB2YWwgKTtcblx0XHR9IGVsc2UgaWYgKCAndGV4dCcgPT09IGZvcm1hdCApIHtcblx0XHRcdHJldHVybiB0aGlzLmdldF9zdHJlbmd0aF90ZXh0KCB2YWwgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHZhbDtcblx0XHR9XG5cdH0sXG5cblx0LyoqXG5cdCAqIERldGVybWluZXMgaWYgdGhlIGN1cnJlbnQgcGFzc3dvcmQgc3RyZW5ndGggbWVldHMgdGhlIHVzZXItZGVmaW5lZFxuXHQgKiBtaW5pbXVtIHBhc3N3b3JkIHN0cmVuZ3RoIHJlcXVpcmVtZW50c1xuXHQgKlxuXHQgKiBAcmV0dXJuICAgYm9vbGVhblxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMC4wXG5cdCAqL1xuXHRnZXRfY3VycmVudF9zdHJlbmd0aF9zdGF0dXM6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjdXJyID0gdGhpcy5nZXRfY3VycmVudF9zdHJlbmd0aCgpLFxuXHRcdFx0bWluICA9IHRoaXMuZ2V0X3N0cmVuZ3RoX3ZhbHVlKCB0aGlzLmdldF9taW5pbXVtX3N0cmVuZ3RoKCkgKTtcblx0XHRyZXR1cm4gKCA1ID09PSBjdXJyICkgPyBmYWxzZSA6ICggY3VyciA+PSBtaW4gKTtcblx0fSxcblxuXHQvKipcblx0ICogR2V0IHRoZSBzbHVnIGFzc29jaWF0ZWQgd2l0aCBhIHN0cmVuZ3RoIHZhbHVlXG5cdCAqXG5cdCAqIEBwYXJhbSAgICBpbnQgICBzdHJlbmd0aF92YWwgIHN0cmVuZ3RoIHZhbHVlIG51bWJlclxuXHQgKiBAcmV0dXJuICAgc3RyaW5nXG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0ICovXG5cdGdldF9zdHJlbmd0aF9zbHVnOiBmdW5jdGlvbiggc3RyZW5ndGhfdmFsICkge1xuXG5cdFx0dmFyIHNsdWdzID0ge1xuXHRcdFx0Jy0xJzogJ3Rvby1zaG9ydCcsXG5cdFx0XHQxOiAndmVyeS13ZWFrJyxcblx0XHRcdDI6ICd3ZWFrJyxcblx0XHRcdDM6ICdtZWRpdW0nLFxuXHRcdFx0NDogJ3N0cm9uZycsXG5cdFx0XHQ1OiAnbWlzbWF0Y2gnLFxuXHRcdH07XG5cblx0XHRyZXR1cm4gKCBzbHVnc1sgc3RyZW5ndGhfdmFsIF0gKSA/IHNsdWdzWyBzdHJlbmd0aF92YWwgXSA6IHNsdWdzWzVdO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIEdldHMgdGhlIHRyYW5zbGF0ZWQgdGV4dCBhc3NvY2lhdGVkIHdpdGggYSBzdHJlbmd0aCB2YWx1ZVxuXHQgKlxuXHQgKiBAcGFyYW0gICAgaW50ICBzdHJlbmd0aF92YWwgIHN0cmVuZ3RoIHZhbHVlXG5cdCAqIEByZXR1cm4gICBzdHJpbmdcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHQgKi9cblx0Z2V0X3N0cmVuZ3RoX3RleHQ6IGZ1bmN0aW9uKCBzdHJlbmd0aF92YWwgKSB7XG5cblx0XHR2YXIgdGV4dHMgPSB7XG5cdFx0XHQnLTEnOiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnVG9vIFNob3J0JyApLFxuXHRcdFx0MTogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1ZlcnkgV2VhaycgKSxcblx0XHRcdDI6IExMTVMubDEwbi50cmFuc2xhdGUoICdXZWFrJyApLFxuXHRcdFx0MzogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ01lZGl1bScgKSxcblx0XHRcdDQ6IExMTVMubDEwbi50cmFuc2xhdGUoICdTdHJvbmcnICksXG5cdFx0XHQ1OiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnTWlzbWF0Y2gnICksXG5cdFx0fTtcblxuXHRcdHJldHVybiAoIHRleHRzWyBzdHJlbmd0aF92YWwgXSApID8gdGV4dHNbIHN0cmVuZ3RoX3ZhbCBdIDogdGV4dHNbNV07XG5cblx0fSxcblxuXHQvKipcblx0ICogR2V0IHRoZSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggYSBzdHJlbmd0aCBzbHVnXG5cdCAqXG5cdCAqIEBwYXJhbSAgICBzdHJpbmcgICBzdHJlbmd0aF9zbHVnICBhIHN0cmVuZ3RoIHNsdWdcblx0ICogQHJldHVybiAgIGludFxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMC4wXG5cdCAqL1xuXHRnZXRfc3RyZW5ndGhfdmFsdWU6IGZ1bmN0aW9uKCBzdHJlbmd0aF9zbHVnICkge1xuXG5cdFx0dmFyIHZhbHVlcyA9IHtcblx0XHRcdCd0b28tc2hvcnQnOiAtMSxcblx0XHRcdCd2ZXJ5LXdlYWsnOiAxLFxuXHRcdFx0d2VhazogMixcblx0XHRcdG1lZGl1bTogMyxcblx0XHRcdHN0cm9uZzogNCxcblx0XHRcdG1pc21hdGNoOiA1LFxuXHRcdH07XG5cblx0XHRyZXR1cm4gKCB2YWx1ZXNbIHN0cmVuZ3RoX3NsdWcgXSApID8gdmFsdWVzWyBzdHJlbmd0aF9zbHVnIF0gOiB2YWx1ZXMubWlzbWF0Y2g7XG5cblx0fSxcblxuXHQvKipcblx0ICogRm9ybSBzdWJtaXNzaW9uIGhhbmRsZXIgZm9yIHJlZ2lzdHJhdGlvbiBhbmQgdXBkYXRlIGZvcm1zXG5cdCAqXG5cdCAqIEBwYXJhbSAgICBvYmogICAgZSAgICAgICAgIGV2ZW50IGRhdGFcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHQgKi9cblx0c3VibWl0OiBmdW5jdGlvbiggZSApIHtcblxuXHRcdHZhciBzZWxmID0gZS5kYXRhO1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRzZWxmLiRwYXNzLnRyaWdnZXIoICdrZXl1cCcgKTtcblxuXHRcdGlmICggc2VsZi5nZXRfY3VycmVudF9zdHJlbmd0aF9zdGF0dXMoKSApIHtcblx0XHRcdHNlbGYuJGZvcm0ub2ZmKCAnc3VibWl0Jywgc2VsZi5zdWJtaXQgKTtcblx0XHRcdHNlbGYuJGZvcm0udHJpZ2dlciggJ3N1Ym1pdCcgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0JCggJ2h0bWwsIGJvZHknICkuYW5pbWF0ZSgge1xuXHRcdFx0XHRzY3JvbGxUb3A6IHNlbGYuJG1ldGVyLm9mZnNldCgpLnRvcCAtIDEwMCxcblx0XHRcdH0sIDIwMCApO1xuXHRcdFx0c2VsZi4kbWV0ZXIuaGlkZSgpO1xuXHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYuJG1ldGVyLmZhZGVJbiggNDAwICk7XG5cdFx0XHR9LCAyMjAgKTtcblx0XHR9XG5cdH1cblxufSApO1xuIiwiLyoqXG4gKiBQcmljaW5nIFRhYmxlIFVJXG4gKlxuICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcbiAqXG4gKiBAc2luY2UgIFVua25vd24uXG4gKiBAdmVyc2lvbiAgVW5rbm93bi5cbiAqL1xuXG5MTE1TLlByaWNpbmdfVGFibGVzID0ge1xuXG5cdC8qKlxuXHQgKiBJbml0XG5cdCAqL1xuXHRpbml0OiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdGlmICggJCggJ2JvZHknICkuaGFzQ2xhc3MoICd3cC1hZG1pbicgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoICQoICcubGxtcy1hY2Nlc3MtcGxhbnMnICkubGVuZ3RoICkge1xuXG5cdFx0XHRMTE1TLndhaXRfZm9yX21hdGNoSGVpZ2h0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5iaW5kKCk7XG5cdFx0XHR9ICk7XG5cblx0XHRcdHRoaXMuJGxvY2tlZCA9ICQoICdhW2hyZWY9XCIjbGxtcy1wbGFuLWxvY2tlZFwiXScgKTtcblxuXHRcdFx0aWYgKCB0aGlzLiRsb2NrZWQubGVuZ3RoICkge1xuXG5cdFx0XHRcdExMTVMud2FpdF9mb3JfcG9wb3ZlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0c2VsZi5iaW5kX2xvY2tlZCgpO1xuXHRcdFx0XHR9ICk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBCaW5kIE1ldGhvZFxuXHQgKiBIYW5kbGVzIGRvbSBiaW5kaW5nIG9uIGxvYWRcblx0ICpcblx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG5cdCAqL1xuXHRiaW5kOiBmdW5jdGlvbigpIHtcblxuXHRcdCQoICcubGxtcy1hY2Nlc3MtcGxhbi1jb250ZW50JyApLm1hdGNoSGVpZ2h0KCk7XG5cdFx0JCggJy5sbG1zLWFjY2Vzcy1wbGFuLXByaWNpbmcudHJpYWwnICkubWF0Y2hIZWlnaHQoKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBTZXR1cCBhIHBvcG92ZXIgZm9yIG1lbWJlcnMtb25seSByZXN0cmljdGVkIHBsYW5zXG5cdCAqXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuOS4xXG5cdCAqL1xuXHRiaW5kX2xvY2tlZDogZnVuY3Rpb24oKSB7XG5cblx0XHR0aGlzLiRsb2NrZWQuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdCQoIHRoaXMgKS53ZWJ1aVBvcG92ZXIoIHtcblx0XHRcdFx0YW5pbWF0aW9uOiAncG9wJyxcblx0XHRcdFx0Y2xvc2VhYmxlOiB0cnVlLFxuXHRcdFx0XHRjb250ZW50OiBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0XHR2YXIgJGNvbnRlbnQgPSAkKCAnPGRpdiBjbGFzcz1cImxsbXMtbWVtYmVycy1vbmx5LXJlc3RyaWN0aW9uc1wiIC8+JyApO1xuXHRcdFx0XHRcdCRjb250ZW50LmFwcGVuZCggZS4kZWxlbWVudC5jbG9zZXN0KCAnLmxsbXMtYWNjZXNzLXBsYW4nICkuZmluZCggJy5sbG1zLWFjY2Vzcy1wbGFuLXJlc3RyaWN0aW9ucyB1bCcgKS5jbG9uZSgpICk7XG5cdFx0XHRcdFx0cmV0dXJuICRjb250ZW50O1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRwbGFjZW1lbnQ6ICd0b3AnLFxuXHRcdFx0XHRzdHlsZTogJ2ludmVyc2UnLFxuXHRcdFx0XHR0aXRsZTogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ01lbWJlcnMgT25seSBQcmljaW5nJyApLFxuXHRcdFx0XHR3aWR0aDogJzI4MHB4Jyxcblx0XHRcdH0gKTtcblxuXHRcdH0gKTtcblxuXHR9LFxuXG59O1xuIiwiLyoqXG4gKiBMaWZ0ZXJMTVMgUmV2aWV3cyBKU1xuICpcbiAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG4gKlxuICogQHNpbmNlIFVua25vd25cbiAqIEB2ZXJzaW9uIFVua25vd25cbiAqL1xuXG5MTE1TLlJldmlldyA9IHtcblx0LyoqXG5cdCAqIEluaXRcblx0ICogbG9hZHMgY2xhc3MgbWV0aG9kc1xuXHQgKi9cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0Ly8gY29uc29sZS5sb2coJ0luaXRpYWxpemluZyBSZXZpZXcgJyk7XG5cdFx0dGhpcy5iaW5kKCk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFRoaXMgZnVuY3Rpb24gYmluZHMgYWN0aW9ucyB0byB0aGUgYXBwcm9wcmlhdGUgaG9va3Ncblx0ICovXG5cdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdCQoICcjbGxtc19yZXZpZXdfc3VibWl0X2J1dHRvbicgKS5jbGljayhmdW5jdGlvbigpXG5cdFx0XHR7XG5cdFx0XHRpZiAoJCggJyNyZXZpZXdfdGl0bGUnICkudmFsKCkgIT09ICcnICYmICQoICcjcmV2aWV3X3RleHQnICkudmFsKCkgIT09ICcnKSB7XG5cdFx0XHRcdGpRdWVyeS5hamF4KHtcblx0XHRcdFx0XHR0eXBlIDogJ3Bvc3QnLFxuXHRcdFx0XHRcdGRhdGFUeXBlIDogJ2pzb24nLFxuXHRcdFx0XHRcdHVybCA6IHdpbmRvdy5sbG1zLmFqYXh1cmwsXG5cdFx0XHRcdFx0ZGF0YSA6IHtcblx0XHRcdFx0XHRcdGFjdGlvbiA6ICdMTE1TU3VibWl0UmV2aWV3Jyxcblx0XHRcdFx0XHRcdHJldmlld190aXRsZTogJCggJyNyZXZpZXdfdGl0bGUnICkudmFsKCksXG5cdFx0XHRcdFx0XHRyZXZpZXdfdGV4dDogJCggJyNyZXZpZXdfdGV4dCcgKS52YWwoKSxcblx0XHRcdFx0XHRcdHBhZ2VJRCA6ICQoICcjcG9zdF9JRCcgKS52YWwoKVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oKVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCAnUmV2aWV3IHN1Y2Nlc3MnICk7XG5cdFx0XHRcdFx0XHQkKCAnI3Jldmlld19ib3gnICkuaGlkZSggJ3N3aW5nJyApO1xuXHRcdFx0XHRcdFx0JCggJyN0aGFua195b3VfYm94JyApLnNob3coICdzd2luZycgKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGVycm9yOiBmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24gKVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCBqcVhIUiApO1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coIHRleHRTdGF0dXMgKTtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCBlcnJvclRocm93biApO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCQoICcjcmV2aWV3X3RpdGxlJyApLnZhbCgpID09PSAnJykge1xuXHRcdFx0XHRcdCQoICcjcmV2aWV3X3RpdGxlX2Vycm9yJyApLnNob3coICdzd2luZycgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkKCAnI3Jldmlld190aXRsZV9lcnJvcicgKS5oaWRlKCAnc3dpbmcnICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCQoICcjcmV2aWV3X3RleHQnICkudmFsKCkgPT09ICcnKSB7XG5cdFx0XHRcdFx0JCggJyNyZXZpZXdfdGV4dF9lcnJvcicgKS5zaG93KCAnc3dpbmcnICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JCggJyNyZXZpZXdfdGV4dF9lcnJvcicgKS5oaWRlKCAnc3dpbmcnICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0XHRpZiAoICQoICcjX2xsbXNfZGlzcGxheV9yZXZpZXdzJyApLmF0dHIoICdjaGVja2VkJyApICkge1xuXHRcdFx0JCggJy5sbG1zLW51bS1yZXZpZXdzLXRvcCcgKS5hZGRDbGFzcyggJ3RvcCcgKTtcblx0XHRcdCQoICcubGxtcy1udW0tcmV2aWV3cy1ib3R0b20nICkuc2hvdygpO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdCQoICcubGxtcy1udW0tcmV2aWV3cy1ib3R0b20nICkuaGlkZSgpO1xuXHRcdH1cblx0XHQkKCAnI19sbG1zX2Rpc3BsYXlfcmV2aWV3cycgKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICQoICcjX2xsbXNfZGlzcGxheV9yZXZpZXdzJyApLmF0dHIoICdjaGVja2VkJyApICkge1xuXHRcdFx0XHQkKCAnLmxsbXMtbnVtLXJldmlld3MtdG9wJyApLmFkZENsYXNzKCAndG9wJyApO1xuXHRcdFx0XHQkKCAnLmxsbXMtbnVtLXJldmlld3MtYm90dG9tJyApLnNob3coKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoICcubGxtcy1udW0tcmV2aWV3cy10b3AnICkucmVtb3ZlQ2xhc3MoICd0b3AnICk7XG5cdFx0XHRcdCQoICcubGxtcy1udW0tcmV2aWV3cy1ib3R0b20nICkuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdH0sXG59O1xuIiwiLyoqXG4gKiBBZGQgU3Bpbm5lcnMgZm9yIEFKQVggZXZlbnRzXG4gKlxuICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcbiAqXG4gKiBAc2luY2UgMy4wLjBcbiAqIEB2ZXJzaW9uIDMuMC4wXG4gKi9cblxuTExNUy5TcGlubmVyID0ge1xuXG5cdC8qKlxuXHQgKiBHZXQgYW4gZXhpdGluZyBzcGlubmVyIGVsZW1lbnQgb3IgY3JlYXRlIGEgbmV3IG9uZVxuXHQgKlxuXHQgKiBAcGFyYW0gICAgb2JqICAgICAgJGVsICAgalF1ZXJ5IHNlbGVjdG9yIG9mIHRoZSBwYXJlbnQgZWxlbWVudCB0aGF0IHNob3VsZCBob2xkIGFuZCBiZSBtYXNlZCBieSBhIHNwaW5uZXJcblx0ICogQHBhcmFtICAgIHN0cmluZyAgIHNpemUgIHNpemUgb3IgdGhlIHNwaW5uZXIgW2RlZmF1bHR8c21hbGxdXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IGlzIDQwcHhcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgIHNtYWxsIGlzIDIwcHhcblx0ICogQHJldHVybiAgIG9ialxuXHQgKiBAc2luY2UgMy4wLjBcblx0ICogQHZlcnNpb24gMy4wLjBcblx0ICovXG5cdGdldDogZnVuY3Rpb24oICRlbCwgc2l6ZSApIHtcblxuXHRcdC8vIGxvb2sgZm9yIGFuIGV4aXN0aW5nIHNwaW5uZXJcblx0XHR2YXIgJHNwaW5uZXIgPSAkZWwuZmluZCggJy5sbG1zLXNwaW5uaW5nJyApLmZpcnN0KCk7XG5cblx0XHQvLyBubyBzcGlubmVyIGluc2lkZSAkZWxcblx0XHRpZiAoICEgJHNwaW5uZXIubGVuZ3RoICkge1xuXG5cdFx0XHRzaXplID0gKCBzaXplICkgPyBzaXplIDogJ2RlZmF1bHQnO1xuXG5cdFx0XHQvLyBjcmVhdGUgdGhlIHNwaW5uZXJcblx0XHRcdCRzcGlubmVyID0gJCggJzxkaXYgY2xhc3M9XCJsbG1zLXNwaW5uaW5nXCI+PGkgY2xhc3M9XCJsbG1zLXNwaW5uZXIgJyArIHNpemUgKyAnXCI+PC9pPjwvZGl2PicgKTtcblxuXHRcdFx0Ly8gYWRkIGl0IHRvIHRoZSBkb21cblx0XHRcdCRlbC5hcHBlbmQoICRzcGlubmVyICk7XG5cblx0XHR9XG5cblx0XHQvLyByZXR1cm4gaXRcblx0XHRyZXR1cm4gJHNwaW5uZXI7XG5cblx0fSxcblxuXHQvKipcblx0ICogU3RhcnQgc3Bpbm5lcihzKSBpbnI9c2lkZSBhIGdpdmVuIGVsZW1lbnRcblx0ICogQ3JlYXRlcyB0aGVtIGlmIHRoZXkgZG9uJ3QgZXhpc3QhXG5cdCAqXG5cdCAqIEBwYXJhbSAgIG9iaiAgICAgICRlbCAgIGpRdWVyeSBzZWxlY3RvciBvZiB0aGUgcGFyZW50IGVsZW1lbnQgdGhhdCBzaG91bGQgaG9sZCBhbmQgYmUgbWFzZWQgYnkgYSBzcGlubmVyXG5cdCAqIEBwYXJhbSAgIHN0cmluZyAgIHNpemUgIHNpemUgb3IgdGhlIHNwaW5uZXIgW2RlZmF1bHR8c21hbGxdXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IGlzIDQwcHhcblx0ICogICAgICAgICAgICAgICAgICAgICAgICAgIHNtYWxsIGlzIDIwcHhcblx0ICogQHJldHVybiAgdm9pZFxuXHQgKiBAc2luY2UgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAzLjAuMFxuXHQgKi9cblx0c3RhcnQ6IGZ1bmN0aW9uKCAkZWwsIHNpemUgKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHQkZWwuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdHNlbGYuZ2V0KCAkKCB0aGlzICksIHNpemUgKS5zaG93KCk7XG5cblx0XHR9ICk7XG5cblx0fSxcblxuXHQvKipcblx0ICogU3RvcmUgc3Bpbm5lcnMgd2l0aGluIGFuIGVsZW1lbnRcblx0ICpcblx0ICogQHBhcmFtICAgb2JqICAgICAgJGVsICAgalF1ZXJ5IHNlbGVjdG9yIG9mIHRoZSBwYXJlbnQgZWxlbWVudCB0aGF0IHNob3VsZCBob2xkIGFuZCBiZSBtYXNlZCBieSBhIHNwaW5uZXJcblx0ICogQHJldHVybiAgdm9pZFxuXHQgKiBAc2luY2UgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAzLjAuMFxuXHQgKi9cblx0c3RvcDogZnVuY3Rpb24oICRlbCApIHtcblxuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdCRlbC5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0c2VsZi5nZXQoICQoIHRoaXMgKSApLmhpZGUoKTtcblxuXHRcdH0gKTtcblxuXHR9XG5cbn07XG4iLCIvKipcbiAqIFN0dWRlbnQgRGFzaGJvYXJkIHJlbGF0ZWQgSlNcbiAqXG4gKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuICpcbiAqIEBzaW5jZSAgICAzLjcuMFxuICogQHZlcnNpb24gIDMuMTAuMFxuICovXG5cbkxMTVMuU3R1ZGVudERhc2hib2FyZCA9IHtcblxuXHQvKipcblx0ICogU2x1ZyBmb3IgdGhlIGN1cnJlbnQgc2NyZWVuL2VuZHBvaW50XG5cdCAqXG5cdCAqIEB0eXBlICB7U3RyaW5nfVxuXHQgKi9cblx0c2NyZWVuOiAnJyxcblxuXHQvKipcblx0ICogV2lsbCBzaG93IHRoZSBudW1iZXIgb2YgbWV0ZXJzIG9uIHRoZSBwYWdlXG5cdCAqIFVzZWQgdG8gY29uZGl0aW9uYWxseSBiaW5kIG1ldGVyLXJlbGF0ZWQgZXZlbnRzIG9ubHkgd2hlbiBtZXRlcnNcblx0ICogYWN0dWFsbHkgZXhpc3Rcblx0ICpcblx0ICogQHR5cGUgIGludFxuXHQgKi9cblx0bWV0ZXJfZXhpc3RzOiAwLFxuXG5cdC8qKlxuXHQgKiBJbml0XG5cdCAqXG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjcuMFxuXHQgKiBAdmVyc2lvbiAgMy4xMC4wXG5cdCAqL1xuXHRpbml0OiBmdW5jdGlvbigpIHtcblxuXHRcdGlmICggJCggJy5sbG1zLXN0dWRlbnQtZGFzaGJvYXJkJyApLmxlbmd0aCApIHtcblxuXHRcdFx0dGhpcy5tZXRlcl9leGlzdHMgPSAkKCAnLmxsbXMtcGFzc3dvcmQtc3RyZW5ndGgtbWV0ZXInICkubGVuZ3RoO1xuXHRcdFx0dGhpcy5iaW5kKCk7XG5cblx0XHRcdGlmICggJ29yZGVycycgPT09IHRoaXMuZ2V0X3NjcmVlbigpICkge1xuXG5cdFx0XHRcdHRoaXMuYmluZF9vcmRlcnMoKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH0sXG5cblx0LyoqXG5cdCAqIEJpbmQgRE9NIGV2ZW50c1xuXHQgKlxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy43LjBcblx0ICogQHZlcnNpb24gIDMuNy40XG5cdCAqL1xuXHRiaW5kOiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBzZWxmICAgID0gdGhpcyxcblx0XHRcdCR0b2dnbGUgPSAkKCAnLmxsbXMtc3R1ZGVudC1kYXNoYm9hcmQgYVtocmVmPVwiI2xsbXMtcGFzc3dvcmQtY2hhbmdlLXRvZ2dsZVwiXScgKTtcblxuXHRcdC8vIGNsaWNrIGV2ZW50IGZvciB0aGUgY2hhbmdlIHBhc3N3b3JkIGxpbmtcblx0XHQkdG9nZ2xlLm9uKCAnY2xpY2snLCBmdW5jdGlvbiggZSApIHtcblxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHR2YXIgJHRoaXMgICAgICAgPSAkKCB0aGlzICksXG5cdFx0XHRcdGN1cnJfdGV4dCAgID0gJHRoaXMudGV4dCgpLFxuXHRcdFx0XHRjdXJyX2FjdGlvbiA9ICR0aGlzLmF0dHIoICdkYXRhLWFjdGlvbicgKSxcblx0XHRcdFx0bmV3X2FjdGlvbiAgPSAnaGlkZScgPT09IGN1cnJfYWN0aW9uID8gJ3Nob3cnIDogJ2hpZGUnLFxuXHRcdFx0XHRuZXdfdGV4dCAgICA9ICR0aGlzLmF0dHIoICdkYXRhLXRleHQnICk7XG5cblx0XHRcdHNlbGYucGFzc3dvcmRfdG9nZ2xlKCBjdXJyX2FjdGlvbiApO1xuXG5cdFx0XHQvLyBwcmV2ZW50IGFjY2lkZW50YWwgY2FuY2VscyB3aGVuIHVzZXJzIHRhYiBvdXQgb2YgdGhlIGNvbmZpcm0gcGFzc3dvcmQgZmllbGRcblx0XHRcdC8vIGFuZCBleHBlY3QgdG8gaGl0IHN1Ym1pdCB3aXRoIGVudGVyIGtleSBpbW1lZGlhdGVseSBhZnRlclxuXHRcdFx0aWYgKCAnc2hvdycgPT09IGN1cnJfYWN0aW9uICkge1xuXHRcdFx0XHQkdGhpcy5hdHRyKCAndGFiaW5kZXgnLCAnLTc3NycgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCR0aGlzLnJlbW92ZUF0dHIoICd0YWJpbmRleCcgKTtcblx0XHRcdH1cblxuXHRcdFx0JHRoaXMuYXR0ciggJ2RhdGEtYWN0aW9uJywgbmV3X2FjdGlvbiApLmF0dHIoICdkYXRhLXRleHQnLCBjdXJyX3RleHQgKS50ZXh0KCBuZXdfdGV4dCApO1xuXG5cdFx0fSApO1xuXG5cdFx0Ly8gdGhpcyB3aWxsIHJlbW92ZSB0aGUgcmVxdWlyZWQgYnkgZGVmYXVsdCB3aXRob3V0IGhhdmluZyB0byBtZXNzIHdpdGhcblx0XHQvLyBjb25kaXRpb25hbHMgaW4gUEhQIGFuZCBzdGlsbCBhbGxvd3MgdGhlIHJlcXVpcmVkICogdG8gc2hvdyBpbiB0aGUgbGFiZWxcblxuXHRcdGlmICggdGhpcy5tZXRlcl9leGlzdHMgKSB7XG5cblx0XHRcdCQoICcubGxtcy1wZXJzb24tZm9ybS5lZGl0LWFjY291bnQnICkub24oICdsbG1zLXBhc3N3b3JkLXN0cmVuZ3RoLXJlYWR5JywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYucGFzc3dvcmRfdG9nZ2xlKCAnaGlkZScgKTtcblx0XHRcdH0gKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHNlbGYucGFzc3dvcmRfdG9nZ2xlKCAnaGlkZScgKTtcblxuXHRcdH1cblxuXHRcdCQoICcubGxtcy1kb251dCcgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdExMTVMuRG9udXQoICQoIHRoaXMgKSApO1xuXHRcdH0gKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBCaW5kIGV2ZW50cyByZWxhdGVkIHRvIHRoZSBvcmRlcnMgc2NyZWVuIG9uIHRoZSBkYXNoYm9hcmRcblx0ICpcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuMTAuMFxuXHQgKiBAdmVyc2lvbiAgMy4xMC4wXG5cdCAqL1xuXHRiaW5kX29yZGVyczogZnVuY3Rpb24oKSB7XG5cblx0XHQkKCAnI2xsbXMtY2FuY2VsLXN1YnNjcmlwdGlvbi1mb3JtJyApLm9uKCAnc3VibWl0JywgdGhpcy5vcmRlcl9jYW5jZWxfd2FybmluZyApO1xuXHRcdCQoICcjbGxtc191cGRhdGVfcGF5bWVudF9tZXRob2QnICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0JCggJ2lucHV0W25hbWU9XCJsbG1zX3BheW1lbnRfZ2F0ZXdheVwiXTpjaGVja2VkJyApLnRyaWdnZXIoICdjaGFuZ2UnICk7XG5cdFx0XHQkKCB0aGlzICkuY2xvc2VzdCggJ2Zvcm0nICkuZmluZCggJy5sbG1zLXN3aXRjaC1wYXltZW50LXNvdXJjZS1tYWluJyApLnNsaWRlVG9nZ2xlKCAnMjAwJyApO1xuXHRcdH0gKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBHZXQgdGhlIGN1cnJlbnQgZGFzaGJvYXJkIGVuZHBvaW50L3RhYiBzbHVnXG5cdCAqXG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjEwLjBcblx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHQgKi9cblx0Z2V0X3NjcmVlbjogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCAhIHRoaXMuc2NyZWVuICkge1xuXHRcdFx0dGhpcy5zY3JlZW4gPSAkKCAnLmxsbXMtc3R1ZGVudC1kYXNoYm9hcmQnICkuYXR0ciggJ2RhdGEtY3VycmVudCcgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuc2NyZWVuO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBTaG93IGEgY29uZmlybWF0aW9uIHdhcm5pbmcgd2hlbiBDYW5jZWwgU3Vic2NyaXB0aW9uIGZvcm0gaXMgc3VibWl0dGVkXG5cdCAqXG5cdCAqIEBwYXJhbSAgICBvYmogICBlICBKUyBldmVudCBkYXRhXG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjEwLjBcblx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHQgKi9cblx0b3JkZXJfY2FuY2VsX3dhcm5pbmc6IGZ1bmN0aW9uKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR2YXIgbXNnID0gTExNUy5sMTBuLnRyYW5zbGF0ZSggJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjYW5jZWwgeW91ciBzdWJzY3JpcHRpb24/JyApO1xuXHRcdGlmICggd2luZG93LmNvbmZpcm0oIExMTVMubDEwbi50cmFuc2xhdGUoIG1zZyApICkgKSB7XG5cdFx0XHQkKCB0aGlzICkub2ZmKCAnc3VibWl0JywgdGhpcy5vcmRlcl9jYW5jZWxfd2FybmluZyApO1xuXHRcdFx0JCggdGhpcyApLnN1Ym1pdCgpO1xuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogVG9nZ2xlIHBhc3N3b3JkIHJlbGF0ZWQgZmllbGRzIG9uIHRoZSBhY2NvdW50IGVkaXQgcGFnZVxuXHQgKlxuXHQgKiBAcGFyYW0gICAgc3RyaW5nICAgYWN0aW9uICBbc2hvd3xoaWRlXVxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy43LjBcblx0ICogQHZlcnNpb24gIDMuNy40XG5cdCAqL1xuXHRwYXNzd29yZF90b2dnbGU6IGZ1bmN0aW9uKCBhY3Rpb24gKSB7XG5cblx0XHRpZiAoICEgYWN0aW9uICkge1xuXHRcdFx0YWN0aW9uID0gJ3Nob3cnO1xuXHRcdH1cblxuXHRcdHZhciBzZWxmICA9IHRoaXMsXG5cdFx0XHQkcHdkcyA9ICQoICcjcGFzc3dvcmQsICNwYXNzd29yZF9jb25maXJtLCAjY3VycmVudF9wYXNzd29yZCcgKSxcblx0XHRcdCRmb3JtID0gJCggJyNwYXNzd29yZCcgKS5jbG9zZXN0KCAnZm9ybScgKTtcblxuXHRcdC8vIGhpZGUgb3Igc2hvdyB0aGUgZmllbGRzXG5cdFx0JCggJy5sbG1zLWNoYW5nZS1wYXNzd29yZCcgKVsgYWN0aW9uIF0oKTtcblxuXHRcdGlmICggJ3Nob3cnID09PSBhY3Rpb24gKSB7XG5cdFx0XHQvLyBtYWtlIHBhc3N3b3JkcyByZXF1aXJlZFxuXHRcdFx0JHB3ZHMuYXR0ciggJ3JlcXVpcmVkJywgJ3JlcXVpcmVkJyApO1xuXG5cdFx0XHRpZiAoIHNlbGYubWV0ZXJfZXhpc3RzICkge1xuXHRcdFx0XHQvLyBhZGQgdGhlIHN0cmVuZ3RoIGNoZWNrIG9uIGZvcm0gc3VibWlzc2lvblxuXHRcdFx0XHQkZm9ybS5vbiggJ3N1Ym1pdCcsIExMTVMuUGFzc3dvcmRTdHJlbmd0aCwgTExNUy5QYXNzd29yZFN0cmVuZ3RoLnN1Ym1pdCApO1xuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHJlbW92ZSByZXF1aXJlbWVudCBzbyBmb3JtIGNhbiBiZSBzdWJtaXR0ZWQgd2hpbGUgZmllbGRzIGFyZSBoaWRkZW5cblx0XHRcdC8vIGFuZCBjbGVhciB0aGUgcGFzc3dvcmQgb3V0IG9mIHRoZSBmaWVsZHMgaWYgdHlwaW5nIHN0YXJ0ZWRcblx0XHRcdCRwd2RzLnJlbW92ZUF0dHIoICdyZXF1aXJlZCcgKS52YWwoICcnICk7XG5cblx0XHRcdGlmICggc2VsZi5tZXRlcl9leGlzdHMgKSB7XG5cblx0XHRcdFx0Ly8gcmVtb3ZlIHRoZSBwYXNzd29yZCBzdHJlbmd0aCBzdWJtaXNzaW9uIGNoZWNrXG5cdFx0XHRcdCRmb3JtLm9mZiggJ3N1Ym1pdCcsIExMTVMuUGFzc3dvcmRTdHJlbmd0aC5zdWJtaXQgKTtcblx0XHRcdFx0Ly8gY2xlYXJzIHRoZSBtZXRlclxuXHRcdFx0XHRMTE1TLlBhc3N3b3JkU3RyZW5ndGguY2hlY2tfc3RyZW5ndGgoKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH0sXG5cbn07XG4iLCIvKipcbiAqIFJlc3QgTWV0aG9kc1xuICogTWFuYWdlcyBVUkwgYW5kIFJlc3Qgb2JqZWN0IHBhcnNpbmdcbiAqXG4gKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuICpcbiAqIEBzaW5jZSBVbmtub3duXG4gKiBAdmVyc2lvbiAgVW5rbm93blxuICovXG5cbkxMTVMuUmVzdCA9IHtcblxuXHQvKipcblx0ICogSW5pdFxuXHQgKiBsb2FkcyBjbGFzcyBtZXRob2RzXG5cdCAqL1xuXHRpbml0OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmJpbmQoKTtcblx0fSxcblxuXHQvKipcblx0ICogQmluZCBNZXRob2Rcblx0ICogSGFuZGxlcyBkb20gYmluZGluZyBvbiBsb2FkXG5cdCAqXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0YmluZDogZnVuY3Rpb24oKSB7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFNlYXJjaGVzIGZvciBzdHJpbmcgbWF0Y2hlcyBpbiB1cmwgcGF0aFxuXHQgKlxuXHQgKiBAcGFyYW0gIHtBcnJheX0gIHN0cmluZ3MgW0FycmF5IG9mIHN0cmluZ3MgdG8gc2VhcmNoIGZvciBtYXRjaGVzXVxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSAgICAgICAgIFtXYXMgYSBtYXRjaCBmb3VuZD9dXG5cdCAqL1xuXHRpc19wYXRoOiBmdW5jdGlvbiggc3RyaW5ncyApIHtcblxuXHRcdHZhciBwYXRoX2V4aXN0cyA9IGZhbHNlLFxuXHRcdFx0dXJsICAgICAgICAgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcblxuXHRcdGZvciAoIHZhciBpID0gMDsgaSA8IHN0cmluZ3MubGVuZ3RoOyBpKysgKSB7XG5cblx0XHRcdGlmICggdXJsLnNlYXJjaCggc3RyaW5nc1tpXSApID4gMCAmJiAhIHBhdGhfZXhpc3RzICkge1xuXG5cdFx0XHRcdHBhdGhfZXhpc3RzID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcGF0aF9leGlzdHM7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJldHJpZXZlcyBxdWVyeSB2YXJpYWJsZXNcblx0ICpcblx0ICogQHJldHVybiB7W0FycmF5XX0gW2FycmF5IG9iamVjdCBvZiBxdWVyeSB2YXJpYWJsZSBrZXk9PnZhbHVlIHBhaXJzXVxuXHQgKi9cblx0Z2V0X3F1ZXJ5X3ZhcnM6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHZhcnMgICA9IFtdLCBoYXNoLFxuXHRcdFx0aGFzaGVzID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc2xpY2UoIHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoICc/JyApICsgMSApLnNwbGl0KCAnJicgKTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaGFzaGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRoYXNoID0gaGFzaGVzW2ldLnNwbGl0KCAnPScgKTtcblx0XHRcdHZhcnMucHVzaCggaGFzaFswXSApO1xuXHRcdFx0dmFyc1toYXNoWzBdXSA9IGhhc2hbMV07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhcnM7XG5cdH1cblxufTtcbiJdfQ==
