!function(i){window.llms=window.llms||{};window.llms.admin_tables=new function(){this.$tables=null,this.init=function(){var t=this;t.$tables=i(".llms-gb-table"),t.$tables.length&&t.bind()},this.bind=function(){var a=this;this.$tables.each(function(){var e=i(this);e.on("click",'button[name="llms-table-paging"]',function(t){t.preventDefault(),a.change_page(e,i(this))}),e.on("click",'button[name="llms-table-export"]',function(t){t.preventDefault(),a.export(e,i(this))}),e.on("click","a.llms-sortable",function(t){t.preventDefault(),a.change_order(e,i(this))}),e.parent().find(".llms-table-filters").on("change","select.llms-table-filter",function(t){a.change_filter(e,i(this))}),e.parent().find(".llms-table-search").on("keyup","input",function(a,n){var r=null;return function(){var t=this,e=arguments;window.clearTimeout(r),r=window.setTimeout(function(){a.apply(t,e)},n)}}(function(t){switch(t.keyCode){case 37:case 38:case 39:case 40:return;default:a.search(e,i(this))}},250))})},this.change_order=function(t,e){this.reload(t,{order:e.attr("data-order"),orderby:e.attr("data-orderby"),page:1})},this.change_filter=function(t,e){this.reload(t,{filter:e.val(),filterby:e.attr("name"),page:1})},this.change_page=function(t,e){this.reload(t,{order:this.get_args(t,"order"),orderby:this.get_args(t,"orderby"),page:e.attr("data-page")})},this.export=function(t,a,e){var n=this,r=t.find(".llms-table-export .llms-table-export-msg"),s=t.find(".llms-table-export .llms-table-progress");function l(){LLMS.Spinner.stop(a,"small"),a.removeAttr("disabled")}LLMS.Ajax.call({data:i.extend({action:"export_admin_table",handler:t.attr("data-handler"),filename:e},JSON.parse(t.attr("data-args"))),beforeSend:function(){a.attr("disabled")||(a.attr("disabled","disabled"),LLMS.Spinner.start(a,"small"))},error:function(t,e,a){var n=LLMS.l10n.translate("An error was encountered generating the export");l(),s.hide(),r.html('<span class="llms-error">'+n+": "+a+"</span>"),console.error(t)},success:function(e){!e.success&&e.message?(l(),s.hide(),r.html('<span class="llms-error">'+e.message+"</span>")):e.success&&e.data&&e.data.progress&&(r.html(""),s.is("visible")||100===e.data.progress||s.css("display","inline-block"),s.find(".llms-table-progress-text").text(e.data.progress+"%"),s.find(".llms-table-progress-inner").css("width",e.data.progress+"%"),100!==e.data.progress?n.export(t,a,e.data.filename):setTimeout(function(){var t="llms-dl-export";i("#"+t).remove(),i("<a />",{id:t,href:e.data.url,style:"display: hidden;",download:""}).appendTo("body"),i("#"+t)[0].click(),l(),s.hide()},1e3))}})},this.get_args=function(t,e){var a=JSON.parse(t.attr("data-args"));return e?!!a[e]&&a[e]:a},this.reload=function(e,t){t=i.extend({action:"get_admin_table_data",handler:e.attr("data-handler")},JSON.parse(e.attr("data-args")),t),LLMS.Ajax.call({data:t,beforeSend:function(){LLMS.Spinner.start(e.closest(".llms-table-wrap"))},success:function(t){LLMS.Spinner.stop(e.closest(".llms-table-wrap")),t.success&&(e.attr("data-args",t.data.args),e.find("thead").replaceWith(t.data.thead),e.find("tbody").replaceWith(t.data.tbody),e.find("tfoot").replaceWith(t.data.tfoot))}})},this.search=function(t,e){var a=e.val();len=a.length,(0===len||3<=len)&&this.reload(t,{page:1,search:e.val()})},this.init()}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMtYWRtaW4tdGFibGVzLmpzIl0sIm5hbWVzIjpbIiQiLCJ3aW5kb3ciLCJsbG1zIiwiYWRtaW5fdGFibGVzIiwidGhpcyIsIiR0YWJsZXMiLCJpbml0Iiwic2VsZiIsImxlbmd0aCIsImJpbmQiLCJlYWNoIiwiJHRhYmxlIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJjaGFuZ2VfcGFnZSIsImV4cG9ydCIsImNoYW5nZV9vcmRlciIsInBhcmVudCIsImZpbmQiLCJjaGFuZ2VfZmlsdGVyIiwiZm4iLCJkZWxheSIsInRpbWVyIiwiY29udGV4dCIsImFyZ3MiLCJhcmd1bWVudHMiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYXBwbHkiLCJkZWJvdW5jZSIsImtleUNvZGUiLCJzZWFyY2giLCIkYW5jaG9yIiwicmVsb2FkIiwib3JkZXIiLCJhdHRyIiwib3JkZXJieSIsInBhZ2UiLCIkc2VsZWN0IiwiZmlsdGVyIiwidmFsIiwiZmlsdGVyYnkiLCIkYnRuIiwiZ2V0X2FyZ3MiLCJmaWxlbmFtZSIsIiRtc2ciLCIkcHJvZ3Jlc3MiLCJhY3RpdmF0ZV9idXR0b24iLCJMTE1TIiwiU3Bpbm5lciIsInN0b3AiLCJyZW1vdmVBdHRyIiwiQWpheCIsImNhbGwiLCJkYXRhIiwiZXh0ZW5kIiwiYWN0aW9uIiwiaGFuZGxlciIsIkpTT04iLCJwYXJzZSIsImJlZm9yZVNlbmQiLCJzdGFydCIsImVycm9yIiwianFYSFIiLCJzdGF0dXMiLCJtc2ciLCJsMTBuIiwidHJhbnNsYXRlIiwiaGlkZSIsImh0bWwiLCJjb25zb2xlIiwic3VjY2VzcyIsInJlcyIsIm1lc3NhZ2UiLCJwcm9ncmVzcyIsImlzIiwiY3NzIiwidGV4dCIsImlkIiwicmVtb3ZlIiwiaHJlZiIsInVybCIsInN0eWxlIiwiZG93bmxvYWQiLCJhcHBlbmRUbyIsImNsaWNrIiwiaXRlbSIsImNsb3Nlc3QiLCJyIiwicmVwbGFjZVdpdGgiLCJ0aGVhZCIsInRib2R5IiwidGZvb3QiLCIkaW5w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LFFBQVMvQyxFQUFPeUIsS0FBTSxpQkFDcEJ1QixLQUFLQyxNQUFPakQsRUFBT3lCLEtBQU0sY0FBaUJYLEdBRTdDd0IsS0FBS0ksS0FBS0MsS0FBTSxDQUNmQyxLQUFNOUIsRUFDTm9DLFdBQVksV0FFWFosS0FBS0MsUUFBUVksTUFBT25ELEVBQU82RSxRQUFTLHNCQUdyQ2hCLFFBQVMsU0FBVWlCLEdBRWxCeEMsS0FBS0MsUUFBUUMsS0FBTXhDLEVBQU82RSxRQUFTLHFCQUU5QkMsRUFBRWpCLFVBRU43RCxFQUFPeUIsS0FBTSxZQUFhcUQsRUFBRWxDLEtBQUs5QixNQUVqQ2QsRUFBT1EsS0FBTSxTQUFVdUUsWUFBYUQsRUFBRWxDLEtBQUtvQyxPQUMzQ2hGLEVBQU9RLEtBQU0sU0FBVXVFLFlBQWFELEVBQUVsQyxLQUFLcUMsT0FDM0NqRixFQUFPUSxLQUFNLFNBQVV1RSxZQUFhRCxFQUFFbEMsS0FBS3NDLFlBaUIvQ3pGLEtBQUs0QixPQUFTLFNBQVVyQixFQUFRbUYsR0FFL0IsSUFBSXJELEVBQU1xRCxFQUFPckQsTUFDaEJzRCxJQUFNdEQsRUFBSWpDLFFBRU4sSUFBTXVGLEtBQWMsR0FBUEEsTUFDakIzRixLQUFLOEIsT0FBUXZCLEVBQVEsQ0FDcEIyQixLQUFNLEVBQ05OLE9BQVE4RCxFQUFPckQsU0EyQmxCckMsS0FBS0UsUUFqVU4sQ0F3VUkwRiIsImZpbGUiOiJsbG1zLWFkbWluLXRhYmxlcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExpZnRlckxNUyBBZG1pbiBUYWJsZXNcbiAqIEBzaW5jZSAgICAzLjIuMFxuICogQHZlcnNpb24gIDMuMjguMVxuICovXG47KCBmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xuXG5cdHdpbmRvdy5sbG1zID0gd2luZG93LmxsbXMgfHwge307XG5cblx0dmFyIEFkbWluVGFibGVzID0gZnVuY3Rpb24oKSB7XG5cblx0XHR0aGlzLiR0YWJsZXMgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZVxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqIEBzaW5jZSAgMy4yLjBcblx0XHQgKi9cblx0XHR0aGlzLmluaXQgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHRzZWxmLiR0YWJsZXMgPSAkKCAnLmxsbXMtZ2ItdGFibGUnICk7XG5cblx0XHRcdGlmICggc2VsZi4kdGFibGVzLmxlbmd0aCApIHtcblx0XHRcdFx0c2VsZi5iaW5kKCk7XG5cdFx0XHR9XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQmluZCBET00gZXZlbnRzXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMi4zLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4yOC4wXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0dGhpcy4kdGFibGVzLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHZhciAkdGFibGUgPSAkKCB0aGlzICk7XG5cblx0XHRcdFx0JHRhYmxlLm9uKCAnY2xpY2snLCAnYnV0dG9uW25hbWU9XCJsbG1zLXRhYmxlLXBhZ2luZ1wiXScsIGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRzZWxmLmNoYW5nZV9wYWdlKCAkdGFibGUsICQoIHRoaXMgKSApO1xuXHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0JHRhYmxlLm9uKCAnY2xpY2snLCAnYnV0dG9uW25hbWU9XCJsbG1zLXRhYmxlLWV4cG9ydFwiXScsIGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRzZWxmLmV4cG9ydCggJHRhYmxlLCAkKCB0aGlzICkgKTtcblx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdCR0YWJsZS5vbiggJ2NsaWNrJywgJ2EubGxtcy1zb3J0YWJsZScsIGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRzZWxmLmNoYW5nZV9vcmRlciggJHRhYmxlLCAkKCB0aGlzICkgKTtcblx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdCR0YWJsZS5wYXJlbnQoKS5maW5kKCAnLmxsbXMtdGFibGUtZmlsdGVycycgKS5vbiggJ2NoYW5nZScsICdzZWxlY3QubGxtcy10YWJsZS1maWx0ZXInLCBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0XHRzZWxmLmNoYW5nZV9maWx0ZXIoICR0YWJsZSwgJCggdGhpcyApICk7XG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0XHQkdGFibGUucGFyZW50KCkuZmluZCggJy5sbG1zLXRhYmxlLXNlYXJjaCcgKS5vbiggJ2tleXVwJywgJ2lucHV0JywgZGVib3VuY2UoIGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHRcdFx0c3dpdGNoICggZS5rZXlDb2RlICkge1xuXG5cdFx0XHRcdFx0XHRjYXNlIDM3OlxuXHRcdFx0XHRcdFx0Y2FzZSAzODpcblx0XHRcdFx0XHRcdGNhc2UgMzk6XG5cdFx0XHRcdFx0XHRjYXNlIDQwOlxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdFx0c2VsZi5zZWFyY2goICR0YWJsZSwgJCggdGhpcyApICk7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fSwgMjUwICkgKTtcblxuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEhhbmRsZSBjbGlja3Mgb24gc29ydGFibGUgY29sdW1uIGhlYWRlcnNcblx0XHQgKiBAcGFyYW0gICAgb2JqICAgJHRhYmxlICAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgY3VycmVudCB0YWJsZVxuXHRcdCAqIEBwYXJhbSAgICBvYmogICAkYW5jaG9yICBqUXVlcnkgc2VsZWN0b3IgZm9yIHRoZSBjbGlja2VkIGNvbHVtbiBoZWFkIGFuY2hvclxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMi4wXG5cdFx0ICogQHZlcnNpb24gIDMuMi4wXG5cdFx0ICovXG5cdFx0dGhpcy5jaGFuZ2Vfb3JkZXIgPSBmdW5jdGlvbiggJHRhYmxlLCAkYW5jaG9yICkge1xuXG5cdFx0XHR0aGlzLnJlbG9hZCggJHRhYmxlLCB7XG5cdFx0XHRcdG9yZGVyOiAkYW5jaG9yLmF0dHIoICdkYXRhLW9yZGVyJyApLFxuXHRcdFx0XHRvcmRlcmJ5OiAkYW5jaG9yLmF0dHIoICdkYXRhLW9yZGVyYnknICksXG5cdFx0XHRcdHBhZ2U6IDEsXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0dGhpcy5jaGFuZ2VfZmlsdGVyID0gZnVuY3Rpb24oICR0YWJsZSwgJHNlbGVjdCApIHtcblxuXHRcdFx0dGhpcy5yZWxvYWQoICR0YWJsZSwge1xuXHRcdFx0XHRmaWx0ZXI6ICRzZWxlY3QudmFsKCksXG5cdFx0XHRcdGZpbHRlcmJ5OiAkc2VsZWN0LmF0dHIoICduYW1lJyApLFxuXHRcdFx0XHRwYWdlOiAxLFxuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIENoYW5nZSB0aGUgY3VycmVudCBwYWdlIG9mIHRoZSB0YWJsZSBvbiBhIG5leHQvYmFjayBjbGlja1xuXHRcdCAqIEBwYXJhbSAgICBvYmogICAkdGFibGUgIGpRdWVyeSBzZWxlY3RvciBmb3IgdGhlIGN1cnJlbnQgdGFibGVcblx0XHQgKiBAcGFyYW0gICAgb2JqICAgJGJ0biAgICBqUXVlcnkgc2VsZWN0b3IgZm9yIHRoZSBjbGlja2VkIGJ1dHRvblxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMi4wXG5cdFx0ICogQHZlcnNpb24gIDMuNC4wXG5cdFx0ICovXG5cdFx0dGhpcy5jaGFuZ2VfcGFnZSA9IGZ1bmN0aW9uKCAkdGFibGUsICRidG4gKSB7XG5cblx0XHRcdHRoaXMucmVsb2FkKCAkdGFibGUsIHtcblx0XHRcdFx0b3JkZXI6IHRoaXMuZ2V0X2FyZ3MoICR0YWJsZSwgJ29yZGVyJyApLFxuXHRcdFx0XHRvcmRlcmJ5OiB0aGlzLmdldF9hcmdzKCAkdGFibGUsICdvcmRlcmJ5JyApLFxuXHRcdFx0XHRwYWdlOiAkYnRuLmF0dHIoICdkYXRhLXBhZ2UnICksXG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogSGFuZGxlXG5cdFx0ICogQHBhcmFtICAgIG9iaiAgICAkdGFibGUgICAgalF1ZXJ5IG9iamVjdCBmb3IgdGhlIHRhYmxlXG5cdFx0ICogQHBhcmFtICAgIG9iaiAgICAkYnRuICAgICAgalF1ZXJ5IG9iamVjdCBmb3IgdGhlIGNsaWNrZWQgYnV0dG9uXG5cdFx0ICogQHBhcmFtICAgIHN0cmluZyBmaWxlbmFtZSAgZmlsZW5hbWUgb2YgdGhlIGV4cG9ydCBpbiBwcm9ncmVzcy5cblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjE1LjBcblx0XHQgKiBAdmVyc2lvbiAgMy4yOC4xXG5cdFx0ICovXG5cdFx0dGhpcy5leHBvcnQgPSBmdW5jdGlvbiggJHRhYmxlLCAkYnRuLCBmaWxlbmFtZSApIHtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHQkbXNnID0gJHRhYmxlLmZpbmQoICcubGxtcy10YWJsZS1leHBvcnQgLmxsbXMtdGFibGUtZXhwb3J0LW1zZycgKSxcblx0XHRcdFx0JHByb2dyZXNzID0gJHRhYmxlLmZpbmQoICcubGxtcy10YWJsZS1leHBvcnQgLmxsbXMtdGFibGUtcHJvZ3Jlc3MnICk7XG5cblx0XHRcdGZ1bmN0aW9uIGFjdGl2YXRlX2J1dHRvbigpIHtcblx0XHRcdFx0TExNUy5TcGlubmVyLnN0b3AoICRidG4sICdzbWFsbCcgKTtcblx0XHRcdFx0JGJ0bi5yZW1vdmVBdHRyKCAnZGlzYWJsZWQnICk7XG5cdFx0XHR9XG5cblx0XHRcdExMTVMuQWpheC5jYWxsKCB7XG5cdFx0XHRcdGRhdGE6ICQuZXh0ZW5kKCB7XG5cdFx0XHRcdFx0YWN0aW9uOiAnZXhwb3J0X2FkbWluX3RhYmxlJyxcblx0XHRcdFx0XHRoYW5kbGVyOiAkdGFibGUuYXR0ciggJ2RhdGEtaGFuZGxlcicgKSxcblx0XHRcdFx0XHRmaWxlbmFtZTogZmlsZW5hbWUsXG5cdFx0XHRcdH0sIEpTT04ucGFyc2UoICR0YWJsZS5hdHRyKCAnZGF0YS1hcmdzJyApICkgKSxcblx0XHRcdFx0YmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRpZiAoICEgJGJ0bi5hdHRyKCAnZGlzYWJsZWQnICkgKSB7XG5cdFx0XHRcdFx0XHQkYnRuLmF0dHIoICdkaXNhYmxlZCcsICdkaXNhYmxlZCcgKTtcblx0XHRcdFx0XHRcdExMTVMuU3Bpbm5lci5zdGFydCggJGJ0biwgJ3NtYWxsJyApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9LFxuXHRcdFx0XHRlcnJvcjogZnVuY3Rpb24oIGpxWEhSLCBzdGF0dXMsIGVycm9yICkge1xuXG5cdFx0XHRcdFx0dmFyIG1zZyA9IExMTVMubDEwbi50cmFuc2xhdGUoICdBbiBlcnJvciB3YXMgZW5jb3VudGVyZWQgZ2VuZXJhdGluZyB0aGUgZXhwb3J0JyApO1xuXHRcdFx0XHRcdGFjdGl2YXRlX2J1dHRvbigpO1xuXHRcdFx0XHRcdCRwcm9ncmVzcy5oaWRlKCk7XG5cdFx0XHRcdFx0JG1zZy5odG1sKCAnPHNwYW4gY2xhc3M9XCJsbG1zLWVycm9yXCI+JyArIG1zZyArICc6ICcgKyBlcnJvciArICc8L3NwYW4+JyApO1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoIGpxWEhSICk7XG5cblx0XHRcdFx0fSxcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oIHJlcyApIHtcblxuXHRcdFx0XHRcdGlmICggISByZXMuc3VjY2VzcyAmJiByZXMubWVzc2FnZSApIHtcblxuXHRcdFx0XHRcdFx0YWN0aXZhdGVfYnV0dG9uKCk7XG5cdFx0XHRcdFx0XHQkcHJvZ3Jlc3MuaGlkZSgpO1xuXHRcdFx0XHRcdFx0JG1zZy5odG1sKCAnPHNwYW4gY2xhc3M9XCJsbG1zLWVycm9yXCI+JyArIHJlcy5tZXNzYWdlICsgJzwvc3Bhbj4nICk7XG5cblx0XHRcdFx0XHR9IGVsc2UgaWYgKCByZXMuc3VjY2VzcyAmJiByZXMuZGF0YSAmJiByZXMuZGF0YS5wcm9ncmVzcyApIHtcblxuXHRcdFx0XHRcdFx0JG1zZy5odG1sKCAnJyApO1xuXG5cdFx0XHRcdFx0XHQvLyBvbmx5IHNob3cgYSBwcm9ncmVzcyBiYXIgaWYgaXQncyBnb2luZyB0byB0YWtlIG1vcmUgdGhhbiBvbmUgcmVxdWVzdC5cblx0XHRcdFx0XHRcdGlmICggISAkcHJvZ3Jlc3MuaXMoICd2aXNpYmxlJyApICYmIHJlcy5kYXRhLnByb2dyZXNzICE9PSAxMDAgKSB7XG5cdFx0XHRcdFx0XHRcdCRwcm9ncmVzcy5jc3MoICdkaXNwbGF5JywgJ2lubGluZS1ibG9jaycgKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0JHByb2dyZXNzLmZpbmQoICcubGxtcy10YWJsZS1wcm9ncmVzcy10ZXh0JyApLnRleHQoIHJlcy5kYXRhLnByb2dyZXNzICsgJyUnICk7XG5cdFx0XHRcdFx0XHQkcHJvZ3Jlc3MuZmluZCggJy5sbG1zLXRhYmxlLXByb2dyZXNzLWlubmVyJyApLmNzcyggJ3dpZHRoJywgcmVzLmRhdGEucHJvZ3Jlc3MgKyAnJScgKTtcblxuXHRcdFx0XHRcdFx0Ly8gaWYgd2UncmUgbm90IGZpbmlzaGVkLCBtYWtlIGFub3RoZXIgcmVxdWVzdC5cblx0XHRcdFx0XHRcdGlmICggMTAwICE9PSByZXMuZGF0YS5wcm9ncmVzcyApIHtcblx0XHRcdFx0XHRcdFx0c2VsZi5leHBvcnQoICR0YWJsZSwgJGJ0biwgcmVzLmRhdGEuZmlsZW5hbWUgKTtcblxuXHRcdFx0XHRcdFx0Ly8gZmluaXNoZWQsIGRvd25sb2FkIHRoZSBmaWxlIGFuZCBjbGVhbnVwIHRoZSBpbnRlcmZhY2UuXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgaWQgPSAnbGxtcy1kbC1leHBvcnQnO1xuXHRcdFx0XHRcdFx0XHRcdCQoICcjJyArIGlkICkucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRcdFx0JCggJzxhIC8+Jywge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWQ6IGlkLFxuXHRcdFx0XHRcdFx0XHRcdFx0aHJlZjogcmVzLmRhdGEudXJsLFxuXHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU6ICdkaXNwbGF5OiBoaWRkZW47Jyxcblx0XHRcdFx0XHRcdFx0XHRcdGRvd25sb2FkOiAnJyxcblx0XHRcdFx0XHRcdFx0XHR9ICkuYXBwZW5kVG8oICdib2R5JyApO1xuXHRcdFx0XHRcdFx0XHRcdCQoICcjJyArIGlkIClbMF0uY2xpY2soKTtcblx0XHRcdFx0XHRcdFx0XHRhY3RpdmF0ZV9idXR0b24oKTtcblx0XHRcdFx0XHRcdFx0XHQkcHJvZ3Jlc3MuaGlkZSgpO1xuXHRcdFx0XHRcdFx0XHR9LCAxMDAwICk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmV0cmlldmUgYXJndW1lbnRzIHN0b3JlZCBpbiB0aGUgdGFibGUgYW5kIHBhcnNlIGludG8gYSByZWFkYWJsZSBvYmplY3Rcblx0XHQgKiBAcGFyYW0gICAgb2JqICAgICAkdGFibGUgIGpRdWVyeSBzZWxlY3RvciBmb3IgdGhlIGN1cnJlbnQgdGFibGVcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICBpdGVtICAgIGtleSB0byBncmFiIGEgc3BlY2lmaWMgdmFsdWUgZnJvbSB0aGUgYXJncyBvYmplY3Rcblx0XHQgKiBAcmV0dXJuICAgbWl4ZWRcblx0XHQgKiBAc2luY2UgICAgMy4yLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4yLjBcblx0XHQgKi9cblx0XHR0aGlzLmdldF9hcmdzID0gZnVuY3Rpb24oICR0YWJsZSwgaXRlbSApIHtcblxuXHRcdFx0dmFyIGFyZ3MgPSBKU09OLnBhcnNlKCAkdGFibGUuYXR0ciggJ2RhdGEtYXJncycgKSApO1xuXG5cdFx0XHRpZiAoIGl0ZW0gKSB7XG5cdFx0XHRcdHJldHVybiAoIGFyZ3NbIGl0ZW0gXSApID8gYXJnc1sgaXRlbSBdIDogZmFsc2U7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gYXJncztcblx0XHRcdH1cblxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBSZWxvYWQgYSB0YWJsZVxuXHRcdCAqIEBwYXJhbSAgICBvYmogICAkdGFibGUgIGpRdWVyeSBzZWxlY3RvciBmb3IgdGhlIGN1cnJlbnQgdGFibGVcblx0XHQgKiBAcGFyYW0gICAgb2JqICAgYXJncyAgICBhcmd1bWVudHMgdG8gcGFzcyB3aXRoIHRoZSBhamF4IHF1ZXJ5XG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4yLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4yLjBcblx0XHQgKi9cblx0XHR0aGlzLnJlbG9hZCA9IGZ1bmN0aW9uKCAkdGFibGUsIGFyZ3MgKSB7XG5cblx0XHRcdGFyZ3MgPSAkLmV4dGVuZCgge1xuXHRcdFx0XHRhY3Rpb246ICdnZXRfYWRtaW5fdGFibGVfZGF0YScsXG5cdFx0XHRcdGhhbmRsZXI6ICR0YWJsZS5hdHRyKCAnZGF0YS1oYW5kbGVyJyApLFxuXHRcdFx0fSwgSlNPTi5wYXJzZSggJHRhYmxlLmF0dHIoICdkYXRhLWFyZ3MnICkgKSwgYXJncyApO1xuXG5cdFx0XHRMTE1TLkFqYXguY2FsbCgge1xuXHRcdFx0XHRkYXRhOiBhcmdzLFxuXHRcdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdExMTVMuU3Bpbm5lci5zdGFydCggJHRhYmxlLmNsb3Nlc3QoICcubGxtcy10YWJsZS13cmFwJyApICk7XG5cblx0XHRcdFx0fSxcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oIHIgKSB7XG5cblx0XHRcdFx0XHRMTE1TLlNwaW5uZXIuc3RvcCggJHRhYmxlLmNsb3Nlc3QoICcubGxtcy10YWJsZS13cmFwJyApIClcblxuXHRcdFx0XHRcdGlmICggci5zdWNjZXNzICkge1xuXG5cdFx0XHRcdFx0XHQkdGFibGUuYXR0ciggJ2RhdGEtYXJncycsIHIuZGF0YS5hcmdzICk7XG5cblx0XHRcdFx0XHRcdCR0YWJsZS5maW5kKCAndGhlYWQnICkucmVwbGFjZVdpdGgoIHIuZGF0YS50aGVhZCApO1xuXHRcdFx0XHRcdFx0JHRhYmxlLmZpbmQoICd0Ym9keScgKS5yZXBsYWNlV2l0aCggci5kYXRhLnRib2R5ICk7XG5cdFx0XHRcdFx0XHQkdGFibGUuZmluZCggJ3Rmb290JyApLnJlcGxhY2VXaXRoKCByLmRhdGEudGZvb3QgKTtcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogRXhlY3V0ZXMgYW4gQUpBWCBzZWFyY2ggcXVlcnlcblx0XHQgKiBAcGFyYW0gICAgb2JqICAgJHRhYmxlICBqUXVlcnkgc2VsZWN0b3IgZm9yIHRoZSBjdXJyZW50IHRhYmxlXG5cdFx0ICogQHBhcmFtICAgIG9iaiAgICRpbnB1dCAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgc2VhcmNoIGlucHV0XG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4yLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4yLjBcblx0XHQgKi9cblx0XHR0aGlzLnNlYXJjaCA9IGZ1bmN0aW9uKCAkdGFibGUsICRpbnB1dCApIHtcblxuXHRcdFx0dmFyIHZhbCA9ICRpbnB1dC52YWwoKVxuXHRcdFx0XHRsZW4gPSB2YWwubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIDAgPT09IGxlbiB8fCBsZW4gPj0gMyApIHtcblx0XHRcdFx0dGhpcy5yZWxvYWQoICR0YWJsZSwge1xuXHRcdFx0XHRcdHBhZ2U6IDEsXG5cdFx0XHRcdFx0c2VhcmNoOiAkaW5wdXQudmFsKCksXG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBUaHJvdHRsZSBmdW5jdGlvbiBieSBhIGRlbGF5IGluIG1zXG5cdFx0ICogQHBhcmFtICAgIEZ1bmN0aW9uICBmbiAgICAgY2FsbGJhY2sgZnVuY3Rpb25cblx0XHQgKiBAcGFyYW0gICAgaW50ICAgICAgIGRlbGF5ICBkZWxheSBpbiBtaWxsaXNlY29uZFxuXHRcdCAqIEByZXR1cm4gICBmdW5jdGlvblxuXHRcdCAqIEBzaW5jZSAgICAzLjIuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjIuMFxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIGRlYm91bmNlKCBmbiwgZGVsYXkgKSB7XG5cdFx0XHR2YXIgdGltZXIgPSBudWxsO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dmFyIGNvbnRleHQgPSB0aGlzLFxuXHRcdFx0XHRcdGFyZ3MgPSBhcmd1bWVudHM7XG5cdFx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQoIHRpbWVyICk7XG5cdFx0XHRcdHRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRmbi5hcHBseSggY29udGV4dCwgYXJncyApO1xuXHRcdFx0XHR9LCBkZWxheSApO1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBnb1xuXHRcdHRoaXMuaW5pdCgpO1xuXG5cdH07XG5cblx0Ly8gaW5pdGlhbGl6ZSB0aGUgb2JqZWN0XG5cdHdpbmRvdy5sbG1zLmFkbWluX3RhYmxlcyA9IG5ldyBBZG1pblRhYmxlcygpO1xuXG59ICkoIGpRdWVyeSApO1xuIl19
